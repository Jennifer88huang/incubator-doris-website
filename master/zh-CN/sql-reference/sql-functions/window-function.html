<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>窗口函数 | Apache Doris</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="Apache Doris">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/master/assets/css/0.styles.691af086.css" as="style"><link rel="preload" href="/master/assets/js/app.529acba7.js" as="script"><link rel="preload" href="/master/assets/js/4.070d9810.js" as="script"><link rel="preload" href="/master/assets/js/3.14ec8901.js" as="script"><link rel="preload" href="/master/assets/js/616.a2af0848.js" as="script"><link rel="prefetch" href="/master/assets/js/10.e81afd25.js"><link rel="prefetch" href="/master/assets/js/100.376957e7.js"><link rel="prefetch" href="/master/assets/js/101.23dca262.js"><link rel="prefetch" href="/master/assets/js/102.cdf878bc.js"><link rel="prefetch" href="/master/assets/js/103.e3993337.js"><link rel="prefetch" href="/master/assets/js/104.b00d077b.js"><link rel="prefetch" href="/master/assets/js/105.1a975a83.js"><link rel="prefetch" href="/master/assets/js/106.d11cc00f.js"><link rel="prefetch" href="/master/assets/js/107.0353a6a1.js"><link rel="prefetch" href="/master/assets/js/108.2f388f8a.js"><link rel="prefetch" href="/master/assets/js/109.e2867ccb.js"><link rel="prefetch" href="/master/assets/js/11.4f193d17.js"><link rel="prefetch" href="/master/assets/js/110.abdd872e.js"><link rel="prefetch" href="/master/assets/js/111.e7ce6c0f.js"><link rel="prefetch" href="/master/assets/js/112.6524f2df.js"><link rel="prefetch" href="/master/assets/js/113.688ac5ea.js"><link rel="prefetch" href="/master/assets/js/114.c6582fc3.js"><link rel="prefetch" href="/master/assets/js/115.4c6084b0.js"><link rel="prefetch" href="/master/assets/js/116.b68dafb1.js"><link rel="prefetch" href="/master/assets/js/117.4742b733.js"><link rel="prefetch" href="/master/assets/js/118.59579e94.js"><link rel="prefetch" href="/master/assets/js/119.6a804791.js"><link rel="prefetch" href="/master/assets/js/12.b0b9a67b.js"><link rel="prefetch" href="/master/assets/js/120.49bd2964.js"><link rel="prefetch" href="/master/assets/js/121.7b5832ac.js"><link rel="prefetch" href="/master/assets/js/122.89712728.js"><link rel="prefetch" href="/master/assets/js/123.9bcd8ff0.js"><link rel="prefetch" href="/master/assets/js/124.0d8d5ca3.js"><link rel="prefetch" href="/master/assets/js/125.43a05f3a.js"><link rel="prefetch" href="/master/assets/js/126.9390f863.js"><link rel="prefetch" href="/master/assets/js/127.f62f5f58.js"><link rel="prefetch" href="/master/assets/js/128.e65834fd.js"><link rel="prefetch" href="/master/assets/js/129.7adae499.js"><link rel="prefetch" href="/master/assets/js/13.4165254f.js"><link rel="prefetch" href="/master/assets/js/130.e6a85824.js"><link rel="prefetch" href="/master/assets/js/131.4cb49438.js"><link rel="prefetch" href="/master/assets/js/132.4ebf7b6f.js"><link rel="prefetch" href="/master/assets/js/133.63905a08.js"><link rel="prefetch" href="/master/assets/js/134.f77d66d7.js"><link rel="prefetch" href="/master/assets/js/135.de6403c2.js"><link rel="prefetch" href="/master/assets/js/136.dd5c0323.js"><link rel="prefetch" href="/master/assets/js/137.5e611a92.js"><link rel="prefetch" href="/master/assets/js/138.fdb79b22.js"><link rel="prefetch" href="/master/assets/js/139.3f8b7340.js"><link rel="prefetch" href="/master/assets/js/14.034f7779.js"><link rel="prefetch" href="/master/assets/js/140.c72538b6.js"><link rel="prefetch" href="/master/assets/js/141.54ef35e0.js"><link rel="prefetch" href="/master/assets/js/142.37bd1556.js"><link rel="prefetch" href="/master/assets/js/143.1471f32f.js"><link rel="prefetch" href="/master/assets/js/144.d581eb36.js"><link rel="prefetch" href="/master/assets/js/145.eed39c6d.js"><link rel="prefetch" href="/master/assets/js/146.3db8b1b2.js"><link rel="prefetch" href="/master/assets/js/147.ddf75a59.js"><link rel="prefetch" href="/master/assets/js/148.70fc9aeb.js"><link rel="prefetch" href="/master/assets/js/149.3e0f32b2.js"><link rel="prefetch" href="/master/assets/js/15.b56537bc.js"><link rel="prefetch" href="/master/assets/js/150.c62150f8.js"><link rel="prefetch" href="/master/assets/js/151.52877e3c.js"><link rel="prefetch" href="/master/assets/js/152.6de7a942.js"><link rel="prefetch" href="/master/assets/js/153.b04a4235.js"><link rel="prefetch" href="/master/assets/js/154.77c7defa.js"><link rel="prefetch" href="/master/assets/js/155.ae44e405.js"><link rel="prefetch" href="/master/assets/js/156.7eb54bd4.js"><link rel="prefetch" href="/master/assets/js/157.3c1bcf09.js"><link rel="prefetch" href="/master/assets/js/158.2537dab8.js"><link rel="prefetch" href="/master/assets/js/159.8cd6406b.js"><link rel="prefetch" href="/master/assets/js/16.9af64f44.js"><link rel="prefetch" href="/master/assets/js/160.26d53457.js"><link rel="prefetch" href="/master/assets/js/161.1f0d6b0b.js"><link rel="prefetch" href="/master/assets/js/162.2ba64e58.js"><link rel="prefetch" href="/master/assets/js/163.094e2ec5.js"><link rel="prefetch" href="/master/assets/js/164.6e2e207a.js"><link rel="prefetch" href="/master/assets/js/165.2d6a9185.js"><link rel="prefetch" href="/master/assets/js/166.7ab00541.js"><link rel="prefetch" href="/master/assets/js/167.402af374.js"><link rel="prefetch" href="/master/assets/js/168.8f5a9e96.js"><link rel="prefetch" href="/master/assets/js/169.0da48f65.js"><link rel="prefetch" href="/master/assets/js/17.6c76d269.js"><link rel="prefetch" href="/master/assets/js/170.4df16c99.js"><link rel="prefetch" href="/master/assets/js/171.40905854.js"><link rel="prefetch" href="/master/assets/js/172.2d89b622.js"><link rel="prefetch" href="/master/assets/js/173.39299162.js"><link rel="prefetch" href="/master/assets/js/174.4547e15f.js"><link rel="prefetch" href="/master/assets/js/175.039ab1c3.js"><link rel="prefetch" href="/master/assets/js/176.a5d4649c.js"><link rel="prefetch" href="/master/assets/js/177.a77b28da.js"><link rel="prefetch" href="/master/assets/js/178.80bbcf6e.js"><link rel="prefetch" href="/master/assets/js/179.a7f9cdf1.js"><link rel="prefetch" href="/master/assets/js/18.12767f40.js"><link rel="prefetch" href="/master/assets/js/180.bd343e7f.js"><link rel="prefetch" href="/master/assets/js/181.76376901.js"><link rel="prefetch" href="/master/assets/js/182.cc475f50.js"><link rel="prefetch" href="/master/assets/js/183.07921ef6.js"><link rel="prefetch" href="/master/assets/js/184.bfed1670.js"><link rel="prefetch" href="/master/assets/js/185.ac6346ea.js"><link rel="prefetch" href="/master/assets/js/186.067f9cd8.js"><link rel="prefetch" href="/master/assets/js/187.2f54dfab.js"><link rel="prefetch" href="/master/assets/js/188.8671a241.js"><link rel="prefetch" href="/master/assets/js/189.bbaa6697.js"><link rel="prefetch" href="/master/assets/js/19.2565a3a0.js"><link rel="prefetch" href="/master/assets/js/190.32f182a5.js"><link rel="prefetch" href="/master/assets/js/191.139014b6.js"><link rel="prefetch" href="/master/assets/js/192.bb2d60bc.js"><link rel="prefetch" href="/master/assets/js/193.9372a461.js"><link rel="prefetch" href="/master/assets/js/194.dbc426a5.js"><link rel="prefetch" href="/master/assets/js/195.83e2892d.js"><link rel="prefetch" href="/master/assets/js/196.fda8aa0e.js"><link rel="prefetch" href="/master/assets/js/197.9139a305.js"><link rel="prefetch" href="/master/assets/js/198.ee19be04.js"><link rel="prefetch" href="/master/assets/js/199.c8327f1b.js"><link rel="prefetch" href="/master/assets/js/20.3fedfe75.js"><link rel="prefetch" href="/master/assets/js/200.9fc35e33.js"><link rel="prefetch" href="/master/assets/js/201.2041e047.js"><link rel="prefetch" href="/master/assets/js/202.7d6b5bc3.js"><link rel="prefetch" href="/master/assets/js/203.9b0d67e8.js"><link rel="prefetch" href="/master/assets/js/204.4a1b0ea9.js"><link rel="prefetch" href="/master/assets/js/205.ee370acd.js"><link rel="prefetch" href="/master/assets/js/206.806ecb5a.js"><link rel="prefetch" href="/master/assets/js/207.76569d7a.js"><link rel="prefetch" href="/master/assets/js/208.c97e8c93.js"><link rel="prefetch" href="/master/assets/js/209.03c29c88.js"><link rel="prefetch" href="/master/assets/js/21.a3c15255.js"><link rel="prefetch" href="/master/assets/js/210.51509f5d.js"><link rel="prefetch" href="/master/assets/js/211.d4f89d4b.js"><link rel="prefetch" href="/master/assets/js/212.d3e0dc03.js"><link rel="prefetch" href="/master/assets/js/213.b7a8977c.js"><link rel="prefetch" href="/master/assets/js/214.2ab467ad.js"><link rel="prefetch" href="/master/assets/js/215.cd078f76.js"><link rel="prefetch" href="/master/assets/js/216.e79b3f8c.js"><link rel="prefetch" href="/master/assets/js/217.499986da.js"><link rel="prefetch" href="/master/assets/js/218.b974b627.js"><link rel="prefetch" href="/master/assets/js/219.564f051b.js"><link rel="prefetch" href="/master/assets/js/22.a24f1d2b.js"><link rel="prefetch" href="/master/assets/js/220.37766dfc.js"><link rel="prefetch" href="/master/assets/js/221.e9219f6f.js"><link rel="prefetch" href="/master/assets/js/222.d1184a56.js"><link rel="prefetch" href="/master/assets/js/223.fa2d6cd8.js"><link rel="prefetch" href="/master/assets/js/224.8ccacf30.js"><link rel="prefetch" href="/master/assets/js/225.1f314fa4.js"><link rel="prefetch" href="/master/assets/js/226.f753553d.js"><link rel="prefetch" href="/master/assets/js/227.7eb0d244.js"><link rel="prefetch" href="/master/assets/js/228.6ba71ad8.js"><link rel="prefetch" href="/master/assets/js/229.fa35f44d.js"><link rel="prefetch" href="/master/assets/js/23.269c4dd2.js"><link rel="prefetch" href="/master/assets/js/230.c69e36f1.js"><link rel="prefetch" href="/master/assets/js/231.fc68cf62.js"><link rel="prefetch" href="/master/assets/js/232.2260e99f.js"><link rel="prefetch" href="/master/assets/js/233.3872119f.js"><link rel="prefetch" href="/master/assets/js/234.bd777d5a.js"><link rel="prefetch" href="/master/assets/js/235.f738f690.js"><link rel="prefetch" href="/master/assets/js/236.04516952.js"><link rel="prefetch" href="/master/assets/js/237.9006a45e.js"><link rel="prefetch" href="/master/assets/js/238.2c44c011.js"><link rel="prefetch" href="/master/assets/js/239.0aba55c5.js"><link rel="prefetch" href="/master/assets/js/24.d43ecef7.js"><link rel="prefetch" href="/master/assets/js/240.eaec415f.js"><link rel="prefetch" href="/master/assets/js/241.a885f37c.js"><link rel="prefetch" href="/master/assets/js/242.5ced7c75.js"><link rel="prefetch" href="/master/assets/js/243.8508e503.js"><link rel="prefetch" href="/master/assets/js/244.180a875d.js"><link rel="prefetch" href="/master/assets/js/245.40a42072.js"><link rel="prefetch" href="/master/assets/js/246.98fb97c0.js"><link rel="prefetch" href="/master/assets/js/247.272f70a2.js"><link rel="prefetch" href="/master/assets/js/248.7bb59c38.js"><link rel="prefetch" href="/master/assets/js/249.6a95e4ae.js"><link rel="prefetch" href="/master/assets/js/25.a0db83ef.js"><link rel="prefetch" href="/master/assets/js/250.623a2650.js"><link rel="prefetch" href="/master/assets/js/251.ef5cb6ca.js"><link rel="prefetch" href="/master/assets/js/252.b73ec1a8.js"><link rel="prefetch" href="/master/assets/js/253.b54adf7b.js"><link rel="prefetch" href="/master/assets/js/254.17745c83.js"><link rel="prefetch" href="/master/assets/js/255.ef2bbb54.js"><link rel="prefetch" href="/master/assets/js/256.84286c9e.js"><link rel="prefetch" href="/master/assets/js/257.ece6b33d.js"><link rel="prefetch" href="/master/assets/js/258.c984b0ca.js"><link rel="prefetch" href="/master/assets/js/259.0a3463c0.js"><link rel="prefetch" href="/master/assets/js/26.d4c538a9.js"><link rel="prefetch" href="/master/assets/js/260.a50df2c0.js"><link rel="prefetch" href="/master/assets/js/261.929e16a6.js"><link rel="prefetch" href="/master/assets/js/262.a6287980.js"><link rel="prefetch" href="/master/assets/js/263.ae0fd287.js"><link rel="prefetch" href="/master/assets/js/264.f55eee34.js"><link rel="prefetch" href="/master/assets/js/265.c5ed8079.js"><link rel="prefetch" href="/master/assets/js/266.06b33012.js"><link rel="prefetch" href="/master/assets/js/267.5112f7bc.js"><link rel="prefetch" href="/master/assets/js/268.c28a0fd7.js"><link rel="prefetch" href="/master/assets/js/269.5f179f36.js"><link rel="prefetch" href="/master/assets/js/27.888c7692.js"><link rel="prefetch" href="/master/assets/js/270.be9521b1.js"><link rel="prefetch" href="/master/assets/js/271.2d8ba601.js"><link rel="prefetch" href="/master/assets/js/272.8f8b0151.js"><link rel="prefetch" href="/master/assets/js/273.7f351177.js"><link rel="prefetch" href="/master/assets/js/274.e61dfac8.js"><link rel="prefetch" href="/master/assets/js/275.7c8de50a.js"><link rel="prefetch" href="/master/assets/js/276.99ca3ba9.js"><link rel="prefetch" href="/master/assets/js/277.be746dfe.js"><link rel="prefetch" href="/master/assets/js/278.929c1dec.js"><link rel="prefetch" href="/master/assets/js/279.68f08ad2.js"><link rel="prefetch" href="/master/assets/js/28.a8644c55.js"><link rel="prefetch" href="/master/assets/js/280.2a493eaa.js"><link rel="prefetch" href="/master/assets/js/281.15ee5f19.js"><link rel="prefetch" href="/master/assets/js/282.121db76c.js"><link rel="prefetch" href="/master/assets/js/283.005b8714.js"><link rel="prefetch" href="/master/assets/js/284.bf570353.js"><link rel="prefetch" href="/master/assets/js/285.3e3b640d.js"><link rel="prefetch" href="/master/assets/js/286.3d16dc00.js"><link rel="prefetch" href="/master/assets/js/287.692be95b.js"><link rel="prefetch" href="/master/assets/js/288.01f115c7.js"><link rel="prefetch" href="/master/assets/js/289.d066dce8.js"><link rel="prefetch" href="/master/assets/js/29.aa0a5ec8.js"><link rel="prefetch" href="/master/assets/js/290.c0f7b39f.js"><link rel="prefetch" href="/master/assets/js/291.58bc32c2.js"><link rel="prefetch" href="/master/assets/js/292.3f4adf44.js"><link rel="prefetch" href="/master/assets/js/293.e31ecefa.js"><link rel="prefetch" href="/master/assets/js/294.6a43cccb.js"><link rel="prefetch" href="/master/assets/js/295.e4b82e38.js"><link rel="prefetch" href="/master/assets/js/296.fc89ea5d.js"><link rel="prefetch" href="/master/assets/js/297.a977ebfa.js"><link rel="prefetch" href="/master/assets/js/298.dcc62932.js"><link rel="prefetch" href="/master/assets/js/299.c32518c4.js"><link rel="prefetch" href="/master/assets/js/30.cdc0dc8f.js"><link rel="prefetch" href="/master/assets/js/300.746d309c.js"><link rel="prefetch" href="/master/assets/js/301.4039f467.js"><link rel="prefetch" href="/master/assets/js/302.26859aba.js"><link rel="prefetch" href="/master/assets/js/303.5c38448b.js"><link rel="prefetch" href="/master/assets/js/304.29fdeef9.js"><link rel="prefetch" href="/master/assets/js/305.09d6f48d.js"><link rel="prefetch" href="/master/assets/js/306.efefdd7d.js"><link rel="prefetch" href="/master/assets/js/307.53c1b5fe.js"><link rel="prefetch" href="/master/assets/js/308.34c7b52e.js"><link rel="prefetch" href="/master/assets/js/309.2ed237d0.js"><link rel="prefetch" href="/master/assets/js/31.eea5876c.js"><link rel="prefetch" href="/master/assets/js/310.14fdde38.js"><link rel="prefetch" href="/master/assets/js/311.c2e7d99c.js"><link rel="prefetch" href="/master/assets/js/312.5cb64e4c.js"><link rel="prefetch" href="/master/assets/js/313.04f6184a.js"><link rel="prefetch" href="/master/assets/js/314.5635558e.js"><link rel="prefetch" href="/master/assets/js/315.8bc2b2fa.js"><link rel="prefetch" href="/master/assets/js/316.7f9163d2.js"><link rel="prefetch" href="/master/assets/js/317.cf110279.js"><link rel="prefetch" href="/master/assets/js/318.c39acbc3.js"><link rel="prefetch" href="/master/assets/js/319.224eb464.js"><link rel="prefetch" href="/master/assets/js/32.35a1c303.js"><link rel="prefetch" href="/master/assets/js/320.3194be7a.js"><link rel="prefetch" href="/master/assets/js/321.538bf705.js"><link rel="prefetch" href="/master/assets/js/322.830fc1c5.js"><link rel="prefetch" href="/master/assets/js/323.759386d2.js"><link rel="prefetch" href="/master/assets/js/324.31c82afa.js"><link rel="prefetch" href="/master/assets/js/325.82c024ec.js"><link rel="prefetch" href="/master/assets/js/326.14fcb7c0.js"><link rel="prefetch" href="/master/assets/js/327.8a8800e7.js"><link rel="prefetch" href="/master/assets/js/328.dcb65f82.js"><link rel="prefetch" href="/master/assets/js/329.b0f350e8.js"><link rel="prefetch" href="/master/assets/js/33.09aed4ec.js"><link rel="prefetch" href="/master/assets/js/330.549cf4b8.js"><link rel="prefetch" href="/master/assets/js/331.e7f3a45e.js"><link rel="prefetch" href="/master/assets/js/332.20fd8b3e.js"><link rel="prefetch" href="/master/assets/js/333.897af476.js"><link rel="prefetch" href="/master/assets/js/334.ab56b18f.js"><link rel="prefetch" href="/master/assets/js/335.e79b8657.js"><link rel="prefetch" href="/master/assets/js/336.125e426a.js"><link rel="prefetch" href="/master/assets/js/337.a547674d.js"><link rel="prefetch" href="/master/assets/js/338.4c6cd2c5.js"><link rel="prefetch" href="/master/assets/js/339.6576ba09.js"><link rel="prefetch" href="/master/assets/js/34.ca4ff700.js"><link rel="prefetch" href="/master/assets/js/340.c3757a80.js"><link rel="prefetch" href="/master/assets/js/341.19606e0c.js"><link rel="prefetch" href="/master/assets/js/342.d796e222.js"><link rel="prefetch" href="/master/assets/js/343.c670d044.js"><link rel="prefetch" href="/master/assets/js/344.77b97080.js"><link rel="prefetch" href="/master/assets/js/345.c66fef03.js"><link rel="prefetch" href="/master/assets/js/346.e00789ed.js"><link rel="prefetch" href="/master/assets/js/347.0e23d9c2.js"><link rel="prefetch" href="/master/assets/js/348.de7e29f3.js"><link rel="prefetch" href="/master/assets/js/349.6f7ff8b6.js"><link rel="prefetch" href="/master/assets/js/35.b8fa0f1b.js"><link rel="prefetch" href="/master/assets/js/350.7202d66a.js"><link rel="prefetch" href="/master/assets/js/351.673b592e.js"><link rel="prefetch" href="/master/assets/js/352.f834f4ea.js"><link rel="prefetch" href="/master/assets/js/353.95238701.js"><link rel="prefetch" href="/master/assets/js/354.d271e94d.js"><link rel="prefetch" href="/master/assets/js/355.32485a2b.js"><link rel="prefetch" href="/master/assets/js/356.c60619f1.js"><link rel="prefetch" href="/master/assets/js/357.fd30442e.js"><link rel="prefetch" href="/master/assets/js/358.921b2521.js"><link rel="prefetch" href="/master/assets/js/359.a2f120b9.js"><link rel="prefetch" href="/master/assets/js/36.7c7f8dc9.js"><link rel="prefetch" href="/master/assets/js/360.fce32356.js"><link rel="prefetch" href="/master/assets/js/361.031a0e5f.js"><link rel="prefetch" href="/master/assets/js/362.5b694742.js"><link rel="prefetch" href="/master/assets/js/363.0f456dff.js"><link rel="prefetch" href="/master/assets/js/364.0734892d.js"><link rel="prefetch" href="/master/assets/js/365.bb676d35.js"><link rel="prefetch" href="/master/assets/js/366.24bf13f8.js"><link rel="prefetch" href="/master/assets/js/367.9a731a88.js"><link rel="prefetch" href="/master/assets/js/368.8d399cc5.js"><link rel="prefetch" href="/master/assets/js/369.942c5e8e.js"><link rel="prefetch" href="/master/assets/js/37.f237104f.js"><link rel="prefetch" href="/master/assets/js/370.28cfb5a1.js"><link rel="prefetch" href="/master/assets/js/371.435b974b.js"><link rel="prefetch" href="/master/assets/js/372.be362c39.js"><link rel="prefetch" href="/master/assets/js/373.c36bd45c.js"><link rel="prefetch" href="/master/assets/js/374.dd13a479.js"><link rel="prefetch" href="/master/assets/js/375.46ad4c91.js"><link rel="prefetch" href="/master/assets/js/376.4de2a6d4.js"><link rel="prefetch" href="/master/assets/js/377.28846cf1.js"><link rel="prefetch" href="/master/assets/js/378.ead82213.js"><link rel="prefetch" href="/master/assets/js/379.6d4437c5.js"><link rel="prefetch" href="/master/assets/js/38.636565f9.js"><link rel="prefetch" href="/master/assets/js/380.7b8f3d1a.js"><link rel="prefetch" href="/master/assets/js/381.d6ccbabe.js"><link rel="prefetch" href="/master/assets/js/382.1c2b57b5.js"><link rel="prefetch" href="/master/assets/js/383.d8a04bcd.js"><link rel="prefetch" href="/master/assets/js/384.bcaf5947.js"><link rel="prefetch" href="/master/assets/js/385.33930eb3.js"><link rel="prefetch" href="/master/assets/js/386.53167de7.js"><link rel="prefetch" href="/master/assets/js/387.f7630cd4.js"><link rel="prefetch" href="/master/assets/js/388.922bf65e.js"><link rel="prefetch" href="/master/assets/js/389.8b396b34.js"><link rel="prefetch" href="/master/assets/js/39.ae3b9cf2.js"><link rel="prefetch" href="/master/assets/js/390.29168f54.js"><link rel="prefetch" href="/master/assets/js/391.11f6b1a5.js"><link rel="prefetch" href="/master/assets/js/392.418ecded.js"><link rel="prefetch" href="/master/assets/js/393.89e745f1.js"><link rel="prefetch" href="/master/assets/js/394.4562106a.js"><link rel="prefetch" href="/master/assets/js/395.2d147504.js"><link rel="prefetch" href="/master/assets/js/396.77245e5a.js"><link rel="prefetch" href="/master/assets/js/397.1ec9da40.js"><link rel="prefetch" href="/master/assets/js/398.998687da.js"><link rel="prefetch" href="/master/assets/js/399.527f084d.js"><link rel="prefetch" href="/master/assets/js/40.4fb73091.js"><link rel="prefetch" href="/master/assets/js/400.a2fcbbe2.js"><link rel="prefetch" href="/master/assets/js/401.9454efc1.js"><link rel="prefetch" href="/master/assets/js/402.3396f915.js"><link rel="prefetch" href="/master/assets/js/403.b8ce5e1a.js"><link rel="prefetch" href="/master/assets/js/404.fc446d20.js"><link rel="prefetch" href="/master/assets/js/405.b224942a.js"><link rel="prefetch" href="/master/assets/js/406.47a5c926.js"><link rel="prefetch" href="/master/assets/js/407.5647e713.js"><link rel="prefetch" href="/master/assets/js/408.51167092.js"><link rel="prefetch" href="/master/assets/js/409.f6536b4b.js"><link rel="prefetch" href="/master/assets/js/41.05c15595.js"><link rel="prefetch" href="/master/assets/js/410.fcf806af.js"><link rel="prefetch" href="/master/assets/js/411.c4b2d806.js"><link rel="prefetch" href="/master/assets/js/412.74040f5a.js"><link rel="prefetch" href="/master/assets/js/413.91bcd4e5.js"><link rel="prefetch" href="/master/assets/js/414.46925905.js"><link rel="prefetch" href="/master/assets/js/415.d75bf8be.js"><link rel="prefetch" href="/master/assets/js/416.1b202342.js"><link rel="prefetch" href="/master/assets/js/417.2d3cf3ff.js"><link rel="prefetch" href="/master/assets/js/418.8270648f.js"><link rel="prefetch" href="/master/assets/js/419.2ada2e4d.js"><link rel="prefetch" href="/master/assets/js/42.849c532d.js"><link rel="prefetch" href="/master/assets/js/420.071b547d.js"><link rel="prefetch" href="/master/assets/js/421.00377fd4.js"><link rel="prefetch" href="/master/assets/js/422.5ad732d4.js"><link rel="prefetch" href="/master/assets/js/423.005da346.js"><link rel="prefetch" href="/master/assets/js/424.a3b35353.js"><link rel="prefetch" href="/master/assets/js/425.9d505ee0.js"><link rel="prefetch" href="/master/assets/js/426.f576f9c6.js"><link rel="prefetch" href="/master/assets/js/427.8204e93a.js"><link rel="prefetch" href="/master/assets/js/428.94cf2fc4.js"><link rel="prefetch" href="/master/assets/js/429.9cc66093.js"><link rel="prefetch" href="/master/assets/js/43.7446a37c.js"><link rel="prefetch" href="/master/assets/js/430.6ed54f7c.js"><link rel="prefetch" href="/master/assets/js/431.68a0bdfc.js"><link rel="prefetch" href="/master/assets/js/432.3a20576e.js"><link rel="prefetch" href="/master/assets/js/433.a1735bea.js"><link rel="prefetch" href="/master/assets/js/434.9735c0e0.js"><link rel="prefetch" href="/master/assets/js/435.5fb7ea45.js"><link rel="prefetch" href="/master/assets/js/436.3193c741.js"><link rel="prefetch" href="/master/assets/js/437.1be5addc.js"><link rel="prefetch" href="/master/assets/js/438.e6d3798e.js"><link rel="prefetch" href="/master/assets/js/439.a8172365.js"><link rel="prefetch" href="/master/assets/js/44.e1ce2e0f.js"><link rel="prefetch" href="/master/assets/js/440.7104f5d5.js"><link rel="prefetch" href="/master/assets/js/441.75fbcf52.js"><link rel="prefetch" href="/master/assets/js/442.a43f8fad.js"><link rel="prefetch" href="/master/assets/js/443.569dec13.js"><link rel="prefetch" href="/master/assets/js/444.8aa1335f.js"><link rel="prefetch" href="/master/assets/js/445.604f84f7.js"><link rel="prefetch" href="/master/assets/js/446.cbe0f98f.js"><link rel="prefetch" href="/master/assets/js/447.eea5b488.js"><link rel="prefetch" href="/master/assets/js/448.6ac05201.js"><link rel="prefetch" href="/master/assets/js/449.f9a3c9a8.js"><link rel="prefetch" href="/master/assets/js/45.e462a77a.js"><link rel="prefetch" href="/master/assets/js/450.f6e4c978.js"><link rel="prefetch" href="/master/assets/js/451.27903cef.js"><link rel="prefetch" href="/master/assets/js/452.495602a2.js"><link rel="prefetch" href="/master/assets/js/453.44542cc8.js"><link rel="prefetch" href="/master/assets/js/454.42531aad.js"><link rel="prefetch" href="/master/assets/js/455.c36e7c08.js"><link rel="prefetch" href="/master/assets/js/456.46b8d702.js"><link rel="prefetch" href="/master/assets/js/457.c2cff9e7.js"><link rel="prefetch" href="/master/assets/js/458.ed1a1a81.js"><link rel="prefetch" href="/master/assets/js/459.f0cfd593.js"><link rel="prefetch" href="/master/assets/js/46.77758605.js"><link rel="prefetch" href="/master/assets/js/460.4bdf8db7.js"><link rel="prefetch" href="/master/assets/js/461.e781816e.js"><link rel="prefetch" href="/master/assets/js/462.0167be7b.js"><link rel="prefetch" href="/master/assets/js/463.8259171e.js"><link rel="prefetch" href="/master/assets/js/464.64f8906a.js"><link rel="prefetch" href="/master/assets/js/465.db00d728.js"><link rel="prefetch" href="/master/assets/js/466.6273dea9.js"><link rel="prefetch" href="/master/assets/js/467.9aeb9434.js"><link rel="prefetch" href="/master/assets/js/468.e4133f91.js"><link rel="prefetch" href="/master/assets/js/469.e1b1bcc5.js"><link rel="prefetch" href="/master/assets/js/47.9a2c1db2.js"><link rel="prefetch" href="/master/assets/js/470.abbc5856.js"><link rel="prefetch" href="/master/assets/js/471.5d560adf.js"><link rel="prefetch" href="/master/assets/js/472.a9fc0d12.js"><link rel="prefetch" href="/master/assets/js/473.b74d156a.js"><link rel="prefetch" href="/master/assets/js/474.c60c8f7c.js"><link rel="prefetch" href="/master/assets/js/475.64b6c118.js"><link rel="prefetch" href="/master/assets/js/476.fdb24939.js"><link rel="prefetch" href="/master/assets/js/477.4450f13d.js"><link rel="prefetch" href="/master/assets/js/478.83b1e2ad.js"><link rel="prefetch" href="/master/assets/js/479.b0f91c6d.js"><link rel="prefetch" href="/master/assets/js/48.3d327192.js"><link rel="prefetch" href="/master/assets/js/480.f34c5ac8.js"><link rel="prefetch" href="/master/assets/js/481.bfb17702.js"><link rel="prefetch" href="/master/assets/js/482.e7607cc7.js"><link rel="prefetch" href="/master/assets/js/483.03a0671f.js"><link rel="prefetch" href="/master/assets/js/484.08efb940.js"><link rel="prefetch" href="/master/assets/js/485.a87238d0.js"><link rel="prefetch" href="/master/assets/js/486.bcfabd2f.js"><link rel="prefetch" href="/master/assets/js/487.12abccc3.js"><link rel="prefetch" href="/master/assets/js/488.20f554bb.js"><link rel="prefetch" href="/master/assets/js/489.696c9eef.js"><link rel="prefetch" href="/master/assets/js/49.3fe5bbaa.js"><link rel="prefetch" href="/master/assets/js/490.b4c79907.js"><link rel="prefetch" href="/master/assets/js/491.f875b9e4.js"><link rel="prefetch" href="/master/assets/js/492.3637fcca.js"><link rel="prefetch" href="/master/assets/js/493.6f051cd0.js"><link rel="prefetch" href="/master/assets/js/494.ded39d15.js"><link rel="prefetch" href="/master/assets/js/495.d6998d17.js"><link rel="prefetch" href="/master/assets/js/496.c0fec602.js"><link rel="prefetch" href="/master/assets/js/497.1afe3683.js"><link rel="prefetch" href="/master/assets/js/498.83f79494.js"><link rel="prefetch" href="/master/assets/js/499.b046a463.js"><link rel="prefetch" href="/master/assets/js/5.15f86845.js"><link rel="prefetch" href="/master/assets/js/50.38b27473.js"><link rel="prefetch" href="/master/assets/js/500.774771ac.js"><link rel="prefetch" href="/master/assets/js/501.d19360a4.js"><link rel="prefetch" href="/master/assets/js/502.829cd545.js"><link rel="prefetch" href="/master/assets/js/503.db424b1e.js"><link rel="prefetch" href="/master/assets/js/504.63c4e8e2.js"><link rel="prefetch" href="/master/assets/js/505.1181ee6b.js"><link rel="prefetch" href="/master/assets/js/506.edf56f22.js"><link rel="prefetch" href="/master/assets/js/507.90a2a23c.js"><link rel="prefetch" href="/master/assets/js/508.22d23644.js"><link rel="prefetch" href="/master/assets/js/509.8240e99c.js"><link rel="prefetch" href="/master/assets/js/51.a8705d9b.js"><link rel="prefetch" href="/master/assets/js/510.e5ee6d7b.js"><link rel="prefetch" href="/master/assets/js/511.1b5a1ae5.js"><link rel="prefetch" href="/master/assets/js/512.d21ad049.js"><link rel="prefetch" href="/master/assets/js/513.1272cfc2.js"><link rel="prefetch" href="/master/assets/js/514.a5a086f3.js"><link rel="prefetch" href="/master/assets/js/515.95cfab97.js"><link rel="prefetch" href="/master/assets/js/516.f558c86a.js"><link rel="prefetch" href="/master/assets/js/517.bb11c4cf.js"><link rel="prefetch" href="/master/assets/js/518.294c5ecc.js"><link rel="prefetch" href="/master/assets/js/519.a804d0e2.js"><link rel="prefetch" href="/master/assets/js/52.69270b22.js"><link rel="prefetch" href="/master/assets/js/520.a722d659.js"><link rel="prefetch" href="/master/assets/js/521.3bb4dad7.js"><link rel="prefetch" href="/master/assets/js/522.bef61475.js"><link rel="prefetch" href="/master/assets/js/523.7135085c.js"><link rel="prefetch" href="/master/assets/js/524.638313a4.js"><link rel="prefetch" href="/master/assets/js/525.3b2deff4.js"><link rel="prefetch" href="/master/assets/js/526.549c47c6.js"><link rel="prefetch" href="/master/assets/js/527.8bec00f1.js"><link rel="prefetch" href="/master/assets/js/528.84fdfc69.js"><link rel="prefetch" href="/master/assets/js/529.611cdef1.js"><link rel="prefetch" href="/master/assets/js/53.4190acd9.js"><link rel="prefetch" href="/master/assets/js/530.e62f4d4f.js"><link rel="prefetch" href="/master/assets/js/531.fca697c9.js"><link rel="prefetch" href="/master/assets/js/532.49bfb3e3.js"><link rel="prefetch" href="/master/assets/js/533.6e8d0cac.js"><link rel="prefetch" href="/master/assets/js/534.94b25f17.js"><link rel="prefetch" href="/master/assets/js/535.7a25f0c3.js"><link rel="prefetch" href="/master/assets/js/536.458a975d.js"><link rel="prefetch" href="/master/assets/js/537.e9cd9793.js"><link rel="prefetch" href="/master/assets/js/538.bbce2c7d.js"><link rel="prefetch" href="/master/assets/js/539.7850c871.js"><link rel="prefetch" href="/master/assets/js/54.5db81baa.js"><link rel="prefetch" href="/master/assets/js/540.9c66a575.js"><link rel="prefetch" href="/master/assets/js/541.7077b03b.js"><link rel="prefetch" href="/master/assets/js/542.7491c8de.js"><link rel="prefetch" href="/master/assets/js/543.98856100.js"><link rel="prefetch" href="/master/assets/js/544.4300a3f2.js"><link rel="prefetch" href="/master/assets/js/545.0967ffb3.js"><link rel="prefetch" href="/master/assets/js/546.a416ee34.js"><link rel="prefetch" href="/master/assets/js/547.b6d05384.js"><link rel="prefetch" href="/master/assets/js/548.ef2ac582.js"><link rel="prefetch" href="/master/assets/js/549.cd2591e1.js"><link rel="prefetch" href="/master/assets/js/55.30d2bb0e.js"><link rel="prefetch" href="/master/assets/js/550.aeb22e50.js"><link rel="prefetch" href="/master/assets/js/551.54fa109b.js"><link rel="prefetch" href="/master/assets/js/552.ea81cb3f.js"><link rel="prefetch" href="/master/assets/js/553.6329b8ec.js"><link rel="prefetch" href="/master/assets/js/554.f247cdfe.js"><link rel="prefetch" href="/master/assets/js/555.e8fde218.js"><link rel="prefetch" href="/master/assets/js/556.0584f252.js"><link rel="prefetch" href="/master/assets/js/557.7e548745.js"><link rel="prefetch" href="/master/assets/js/558.965868e1.js"><link rel="prefetch" href="/master/assets/js/559.48bd719c.js"><link rel="prefetch" href="/master/assets/js/56.87a7b19f.js"><link rel="prefetch" href="/master/assets/js/560.92832481.js"><link rel="prefetch" href="/master/assets/js/561.4a0effdc.js"><link rel="prefetch" href="/master/assets/js/562.c40d3ccf.js"><link rel="prefetch" href="/master/assets/js/563.c6b33d7e.js"><link rel="prefetch" href="/master/assets/js/564.4f9180cf.js"><link rel="prefetch" href="/master/assets/js/565.84c7a43e.js"><link rel="prefetch" href="/master/assets/js/566.aea71941.js"><link rel="prefetch" href="/master/assets/js/567.1fd98c22.js"><link rel="prefetch" href="/master/assets/js/568.873329db.js"><link rel="prefetch" href="/master/assets/js/569.086a921b.js"><link rel="prefetch" href="/master/assets/js/57.dd9c96ba.js"><link rel="prefetch" href="/master/assets/js/570.333a6e5d.js"><link rel="prefetch" href="/master/assets/js/571.e4dfe8ab.js"><link rel="prefetch" href="/master/assets/js/572.fc14ed0f.js"><link rel="prefetch" href="/master/assets/js/573.2d5dd394.js"><link rel="prefetch" href="/master/assets/js/574.9d85a974.js"><link rel="prefetch" href="/master/assets/js/575.213672f6.js"><link rel="prefetch" href="/master/assets/js/576.76259cef.js"><link rel="prefetch" href="/master/assets/js/577.2ca93cdc.js"><link rel="prefetch" href="/master/assets/js/578.254d4f8c.js"><link rel="prefetch" href="/master/assets/js/579.8b16ab30.js"><link rel="prefetch" href="/master/assets/js/58.72da0af4.js"><link rel="prefetch" href="/master/assets/js/580.f4ec5a76.js"><link rel="prefetch" href="/master/assets/js/581.7ac639fb.js"><link rel="prefetch" href="/master/assets/js/582.208774c1.js"><link rel="prefetch" href="/master/assets/js/583.bc8817a0.js"><link rel="prefetch" href="/master/assets/js/584.99243f92.js"><link rel="prefetch" href="/master/assets/js/585.b761cc0f.js"><link rel="prefetch" href="/master/assets/js/586.1cdea85d.js"><link rel="prefetch" href="/master/assets/js/587.211c75e6.js"><link rel="prefetch" href="/master/assets/js/588.cdbcbc37.js"><link rel="prefetch" href="/master/assets/js/589.3823d1a1.js"><link rel="prefetch" href="/master/assets/js/59.92de6db2.js"><link rel="prefetch" href="/master/assets/js/590.ab8a7a9d.js"><link rel="prefetch" href="/master/assets/js/591.6c8e0a3d.js"><link rel="prefetch" href="/master/assets/js/592.8ce58e06.js"><link rel="prefetch" href="/master/assets/js/593.bcf7a267.js"><link rel="prefetch" href="/master/assets/js/594.ff936a19.js"><link rel="prefetch" href="/master/assets/js/595.bd9d7e07.js"><link rel="prefetch" href="/master/assets/js/596.8eb45193.js"><link rel="prefetch" href="/master/assets/js/597.0140377e.js"><link rel="prefetch" href="/master/assets/js/598.85d67d18.js"><link rel="prefetch" href="/master/assets/js/599.000ede99.js"><link rel="prefetch" href="/master/assets/js/6.92868e56.js"><link rel="prefetch" href="/master/assets/js/60.f9a94296.js"><link rel="prefetch" href="/master/assets/js/600.6e2382b4.js"><link rel="prefetch" href="/master/assets/js/601.98c70578.js"><link rel="prefetch" href="/master/assets/js/602.6e22bd85.js"><link rel="prefetch" href="/master/assets/js/603.2d8f79e3.js"><link rel="prefetch" href="/master/assets/js/604.c2ea346f.js"><link rel="prefetch" href="/master/assets/js/605.db2deb43.js"><link rel="prefetch" href="/master/assets/js/606.f548eaa2.js"><link rel="prefetch" href="/master/assets/js/607.1eddbece.js"><link rel="prefetch" href="/master/assets/js/608.78bd354d.js"><link rel="prefetch" href="/master/assets/js/609.0f645320.js"><link rel="prefetch" href="/master/assets/js/61.4e8028b4.js"><link rel="prefetch" href="/master/assets/js/610.48c6ab4d.js"><link rel="prefetch" href="/master/assets/js/611.2371d22d.js"><link rel="prefetch" href="/master/assets/js/612.704eaf03.js"><link rel="prefetch" href="/master/assets/js/613.8e5629f1.js"><link rel="prefetch" href="/master/assets/js/614.98c08560.js"><link rel="prefetch" href="/master/assets/js/615.9866c8e9.js"><link rel="prefetch" href="/master/assets/js/617.e0a18b2d.js"><link rel="prefetch" href="/master/assets/js/618.ef7483c6.js"><link rel="prefetch" href="/master/assets/js/619.32d7d834.js"><link rel="prefetch" href="/master/assets/js/62.d930a1b3.js"><link rel="prefetch" href="/master/assets/js/620.804f512c.js"><link rel="prefetch" href="/master/assets/js/621.490ed5d4.js"><link rel="prefetch" href="/master/assets/js/622.3862e1f0.js"><link rel="prefetch" href="/master/assets/js/623.f32a515f.js"><link rel="prefetch" href="/master/assets/js/624.ad5caede.js"><link rel="prefetch" href="/master/assets/js/625.1f97b6e8.js"><link rel="prefetch" href="/master/assets/js/626.baa77d70.js"><link rel="prefetch" href="/master/assets/js/627.dda3be72.js"><link rel="prefetch" href="/master/assets/js/628.30196d98.js"><link rel="prefetch" href="/master/assets/js/629.d40002a9.js"><link rel="prefetch" href="/master/assets/js/63.6cc4a415.js"><link rel="prefetch" href="/master/assets/js/630.929a9e31.js"><link rel="prefetch" href="/master/assets/js/631.d8b26595.js"><link rel="prefetch" href="/master/assets/js/632.7f452a19.js"><link rel="prefetch" href="/master/assets/js/633.28b2143c.js"><link rel="prefetch" href="/master/assets/js/634.c59b61c6.js"><link rel="prefetch" href="/master/assets/js/635.192eef3d.js"><link rel="prefetch" href="/master/assets/js/636.c6e41dbc.js"><link rel="prefetch" href="/master/assets/js/637.f18396c0.js"><link rel="prefetch" href="/master/assets/js/638.2eaf04b9.js"><link rel="prefetch" href="/master/assets/js/639.54a4c535.js"><link rel="prefetch" href="/master/assets/js/64.3e17d84e.js"><link rel="prefetch" href="/master/assets/js/640.e52a0346.js"><link rel="prefetch" href="/master/assets/js/641.0588aefd.js"><link rel="prefetch" href="/master/assets/js/642.16462b68.js"><link rel="prefetch" href="/master/assets/js/643.f3523a42.js"><link rel="prefetch" href="/master/assets/js/644.92b5780d.js"><link rel="prefetch" href="/master/assets/js/645.b75bf597.js"><link rel="prefetch" href="/master/assets/js/646.efc4fa69.js"><link rel="prefetch" href="/master/assets/js/647.653e1900.js"><link rel="prefetch" href="/master/assets/js/648.c6f8c20e.js"><link rel="prefetch" href="/master/assets/js/649.67155140.js"><link rel="prefetch" href="/master/assets/js/65.982f2d83.js"><link rel="prefetch" href="/master/assets/js/650.0020ab2b.js"><link rel="prefetch" href="/master/assets/js/651.c5b66616.js"><link rel="prefetch" href="/master/assets/js/652.aea49f1e.js"><link rel="prefetch" href="/master/assets/js/653.55cb511a.js"><link rel="prefetch" href="/master/assets/js/654.202d1ef6.js"><link rel="prefetch" href="/master/assets/js/655.9be25641.js"><link rel="prefetch" href="/master/assets/js/656.61f12e00.js"><link rel="prefetch" href="/master/assets/js/657.2abf541c.js"><link rel="prefetch" href="/master/assets/js/658.7e428c69.js"><link rel="prefetch" href="/master/assets/js/659.97082be9.js"><link rel="prefetch" href="/master/assets/js/66.653d89c3.js"><link rel="prefetch" href="/master/assets/js/660.98b200a8.js"><link rel="prefetch" href="/master/assets/js/661.c4469f7b.js"><link rel="prefetch" href="/master/assets/js/662.166b2225.js"><link rel="prefetch" href="/master/assets/js/663.2bb30edb.js"><link rel="prefetch" href="/master/assets/js/664.1b9beba7.js"><link rel="prefetch" href="/master/assets/js/665.82edcb4a.js"><link rel="prefetch" href="/master/assets/js/666.478ab6f2.js"><link rel="prefetch" href="/master/assets/js/667.1d05a220.js"><link rel="prefetch" href="/master/assets/js/668.f83de788.js"><link rel="prefetch" href="/master/assets/js/669.37b7d362.js"><link rel="prefetch" href="/master/assets/js/67.9125a046.js"><link rel="prefetch" href="/master/assets/js/670.0f30f365.js"><link rel="prefetch" href="/master/assets/js/671.94369c23.js"><link rel="prefetch" href="/master/assets/js/672.fe24dcdf.js"><link rel="prefetch" href="/master/assets/js/673.beedae4d.js"><link rel="prefetch" href="/master/assets/js/674.2ff5d171.js"><link rel="prefetch" href="/master/assets/js/675.fbf0c8a7.js"><link rel="prefetch" href="/master/assets/js/676.527c4505.js"><link rel="prefetch" href="/master/assets/js/677.be0d1b91.js"><link rel="prefetch" href="/master/assets/js/678.742cbf0d.js"><link rel="prefetch" href="/master/assets/js/679.6ceead67.js"><link rel="prefetch" href="/master/assets/js/68.92fe78ce.js"><link rel="prefetch" href="/master/assets/js/680.db2afe2a.js"><link rel="prefetch" href="/master/assets/js/681.b5267e1c.js"><link rel="prefetch" href="/master/assets/js/682.d6ba6787.js"><link rel="prefetch" href="/master/assets/js/683.40b16ace.js"><link rel="prefetch" href="/master/assets/js/684.217aa1e4.js"><link rel="prefetch" href="/master/assets/js/685.5f15fbd4.js"><link rel="prefetch" href="/master/assets/js/686.ef447462.js"><link rel="prefetch" href="/master/assets/js/687.bd469cda.js"><link rel="prefetch" href="/master/assets/js/688.18f6cd81.js"><link rel="prefetch" href="/master/assets/js/689.b149d9cc.js"><link rel="prefetch" href="/master/assets/js/69.2bb70382.js"><link rel="prefetch" href="/master/assets/js/690.2e688187.js"><link rel="prefetch" href="/master/assets/js/691.d98e3c13.js"><link rel="prefetch" href="/master/assets/js/692.6a159f82.js"><link rel="prefetch" href="/master/assets/js/693.b675e4f2.js"><link rel="prefetch" href="/master/assets/js/694.dc44ad3c.js"><link rel="prefetch" href="/master/assets/js/695.9a233b74.js"><link rel="prefetch" href="/master/assets/js/696.c876561a.js"><link rel="prefetch" href="/master/assets/js/697.0835515a.js"><link rel="prefetch" href="/master/assets/js/698.f51b3c54.js"><link rel="prefetch" href="/master/assets/js/699.278a4083.js"><link rel="prefetch" href="/master/assets/js/7.88280eb8.js"><link rel="prefetch" href="/master/assets/js/70.c92d811f.js"><link rel="prefetch" href="/master/assets/js/700.1355af20.js"><link rel="prefetch" href="/master/assets/js/701.1bd9f751.js"><link rel="prefetch" href="/master/assets/js/702.9afe092b.js"><link rel="prefetch" href="/master/assets/js/703.f1a2b669.js"><link rel="prefetch" href="/master/assets/js/704.e58a4975.js"><link rel="prefetch" href="/master/assets/js/705.84ed8b5e.js"><link rel="prefetch" href="/master/assets/js/706.e283ce9d.js"><link rel="prefetch" href="/master/assets/js/707.c8e516f9.js"><link rel="prefetch" href="/master/assets/js/708.28ce0c3d.js"><link rel="prefetch" href="/master/assets/js/709.e4434b0c.js"><link rel="prefetch" href="/master/assets/js/71.e64a77bf.js"><link rel="prefetch" href="/master/assets/js/710.da08b83c.js"><link rel="prefetch" href="/master/assets/js/711.5e73087a.js"><link rel="prefetch" href="/master/assets/js/712.c7a52791.js"><link rel="prefetch" href="/master/assets/js/713.efe9324d.js"><link rel="prefetch" href="/master/assets/js/714.c8352cfd.js"><link rel="prefetch" href="/master/assets/js/715.675c3829.js"><link rel="prefetch" href="/master/assets/js/716.d49a7080.js"><link rel="prefetch" href="/master/assets/js/717.4d9205ba.js"><link rel="prefetch" href="/master/assets/js/718.bb5f5f27.js"><link rel="prefetch" href="/master/assets/js/719.5ab61f67.js"><link rel="prefetch" href="/master/assets/js/72.0ee17487.js"><link rel="prefetch" href="/master/assets/js/720.65d81692.js"><link rel="prefetch" href="/master/assets/js/721.87c0ae11.js"><link rel="prefetch" href="/master/assets/js/722.4e62d27f.js"><link rel="prefetch" href="/master/assets/js/723.2ab21fe9.js"><link rel="prefetch" href="/master/assets/js/724.0bf9d421.js"><link rel="prefetch" href="/master/assets/js/725.f384e378.js"><link rel="prefetch" href="/master/assets/js/726.f2216087.js"><link rel="prefetch" href="/master/assets/js/727.5bbe96fb.js"><link rel="prefetch" href="/master/assets/js/728.a95d1070.js"><link rel="prefetch" href="/master/assets/js/729.5d419efa.js"><link rel="prefetch" href="/master/assets/js/73.d1fcf769.js"><link rel="prefetch" href="/master/assets/js/730.db9a2755.js"><link rel="prefetch" href="/master/assets/js/731.778791dd.js"><link rel="prefetch" href="/master/assets/js/732.25d2a52c.js"><link rel="prefetch" href="/master/assets/js/733.d41924e6.js"><link rel="prefetch" href="/master/assets/js/734.52becf01.js"><link rel="prefetch" href="/master/assets/js/735.1bb7881c.js"><link rel="prefetch" href="/master/assets/js/736.5e2425e6.js"><link rel="prefetch" href="/master/assets/js/737.dfff817f.js"><link rel="prefetch" href="/master/assets/js/738.84f6f684.js"><link rel="prefetch" href="/master/assets/js/739.15c5d262.js"><link rel="prefetch" href="/master/assets/js/74.dfc0fa72.js"><link rel="prefetch" href="/master/assets/js/740.89b2e9fc.js"><link rel="prefetch" href="/master/assets/js/741.0fd4e1cf.js"><link rel="prefetch" href="/master/assets/js/742.c33309f0.js"><link rel="prefetch" href="/master/assets/js/75.13683e28.js"><link rel="prefetch" href="/master/assets/js/76.646a3ee0.js"><link rel="prefetch" href="/master/assets/js/77.4e6d2f2b.js"><link rel="prefetch" href="/master/assets/js/78.cdc29601.js"><link rel="prefetch" href="/master/assets/js/79.68baab96.js"><link rel="prefetch" href="/master/assets/js/8.78e0d2ad.js"><link rel="prefetch" href="/master/assets/js/80.42373d54.js"><link rel="prefetch" href="/master/assets/js/81.9da29b4a.js"><link rel="prefetch" href="/master/assets/js/82.270f100f.js"><link rel="prefetch" href="/master/assets/js/83.fa0ca079.js"><link rel="prefetch" href="/master/assets/js/84.7d79ac89.js"><link rel="prefetch" href="/master/assets/js/85.8f635fe3.js"><link rel="prefetch" href="/master/assets/js/86.b7e9d530.js"><link rel="prefetch" href="/master/assets/js/87.6e8923aa.js"><link rel="prefetch" href="/master/assets/js/88.ee5ebd18.js"><link rel="prefetch" href="/master/assets/js/89.d6b46d4e.js"><link rel="prefetch" href="/master/assets/js/9.202cfb88.js"><link rel="prefetch" href="/master/assets/js/90.646bd640.js"><link rel="prefetch" href="/master/assets/js/91.33d8037b.js"><link rel="prefetch" href="/master/assets/js/92.068572b0.js"><link rel="prefetch" href="/master/assets/js/93.8e2eec59.js"><link rel="prefetch" href="/master/assets/js/94.d3a7d021.js"><link rel="prefetch" href="/master/assets/js/95.797e335f.js"><link rel="prefetch" href="/master/assets/js/96.80ddc02b.js"><link rel="prefetch" href="/master/assets/js/97.d4344773.js"><link rel="prefetch" href="/master/assets/js/98.8f0b0159.js"><link rel="prefetch" href="/master/assets/js/99.6102f026.js"><link rel="prefetch" href="/master/assets/js/vendors~docsearch.8b43ba8f.js">
    <link rel="stylesheet" href="/master/assets/css/0.styles.691af086.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/master/zh-CN/" class="home-link router-link-active"><img src="/master/images/doris-logo-only.png" alt="Apache Doris" class="logo"> <span class="site-name can-hide">Apache Doris</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/master/zh-CN/downloads/downloads.html" class="nav-link">
  下载
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/master/en/sql-reference/sql-functions/window-function.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/master/zh-CN/sql-reference/sql-functions/window-function.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/apache/incubator-doris" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/master/zh-CN/downloads/downloads.html" class="nav-link">
  下载
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/master/en/sql-reference/sql-functions/window-function.html" class="nav-link">
  English
</a></li><li class="dropdown-item"><!----> <a href="/master/zh-CN/sql-reference/sql-functions/window-function.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/apache/incubator-doris" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>下载</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>编译与部署</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开始使用</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>操作手册</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>扩展功能</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>设计文档</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>SQL 手册</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>SQL 函数</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading open"><span>日期函数</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/convert_tz.html" class="sidebar-link">convert_tz</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/curdate.html" class="sidebar-link">curdate</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/current_timestamp.html" class="sidebar-link">current_timestamp</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/curtime.html" class="sidebar-link">curtime,current_time</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/date_add.html" class="sidebar-link">date_add</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/date_format.html" class="sidebar-link">date_format</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/date_sub.html" class="sidebar-link">date_sub</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/datediff.html" class="sidebar-link">datediff</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/day.html" class="sidebar-link">day</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/dayname.html" class="sidebar-link">dayname</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/dayofmonth.html" class="sidebar-link">dayofmonth</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/dayofweek.html" class="sidebar-link">dayofweek</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/dayofyear.html" class="sidebar-link">dayofyear</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/from_days.html" class="sidebar-link">from_days</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/from_unixtime.html" class="sidebar-link">from_unixtime</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/hour.html" class="sidebar-link">hour</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/makedate.html" class="sidebar-link">makedate</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/minute.html" class="sidebar-link">minute</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/month.html" class="sidebar-link">month</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/monthname.html" class="sidebar-link">monthname</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/now.html" class="sidebar-link">now</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/second.html" class="sidebar-link">second</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/str_to_date.html" class="sidebar-link">strtodate</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/time_round.html" class="sidebar-link">time_round</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/timediff.html" class="sidebar-link">timediff</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/timestampadd.html" class="sidebar-link">timestampadd</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/timestampdiff.html" class="sidebar-link">timestampdiff</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/to_days.html" class="sidebar-link">to_days</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/unix_timestamp.html" class="sidebar-link">unix_timestamp</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/utc_timestamp.html" class="sidebar-link">utc_timestamp</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/week.html" class="sidebar-link">week</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/weekofyear.html" class="sidebar-link">weekofyear</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/year.html" class="sidebar-link">year</a></li><li><a href="/master/zh-CN/sql-reference/sql-functions/date-time-functions/yearweek.html" class="sidebar-link">yearweek</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>地理位置函数</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>字符串函数</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>聚合函数</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>bitmap函数</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-2"><p class="sidebar-heading"><span>Hash函数</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/master/zh-CN/sql-reference/sql-functions/window-function.html" aria-current="page" class="active sidebar-link">窗口函数</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/zh-CN/sql-reference/sql-functions/window-function.html#窗口函数介绍" class="sidebar-link">窗口函数介绍</a></li><li class="sidebar-sub-header"><a href="/master/zh-CN/sql-reference/sql-functions/window-function.html#function使用举例" class="sidebar-link">Function使用举例</a></li></ul></li><li><a href="/master/zh-CN/sql-reference/sql-functions/cast.html" class="sidebar-link">CAST</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>语法帮助</span> <span class="arrow right"></span></p> <!----></section></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>开发者手册</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Apache 社区</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="doris-窗口函数使用"><a href="#doris-窗口函数使用" class="header-anchor">#</a> Doris 窗口函数使用</h1> <h2 id="窗口函数介绍"><a href="#窗口函数介绍" class="header-anchor">#</a> 窗口函数介绍</h2> <p>分析函数是一类特殊的内置函数。和聚合函数类似，分析函数也是对于多个输入行做计算得到一个数据值。不同的是，分析函数是在一个特定的窗口内对输入数据做处理，而不是按照 group by 来分组计算。每个窗口内的数据可以用 over() 从句进行排序和分组。分析函数会对结果集的每一行计算出一个单独的值，而不是每个 group by 分组计算一个值。这种灵活的方式允许用户在 select 从句中增加额外的列，给用户提供了更多的机会来对结果集进行重新组织和过滤。分析函数只能出现在 select 列表和最外层的 order by 从句中。在查询过程中，分析函数会在最后生效，就是说，在执行完 join，where 和 group by 等操作之后再执行。分析函数在金融和科学计算领域经常被使用到，用来分析趋势、计算离群值以及对大量数据进行分桶分析等。</p> <p>分析函数的语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">function</span><span class="token punctuation">(</span>args<span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span>partition_by_clause order_by_clause <span class="token punctuation">[</span>window_clause<span class="token punctuation">]</span><span class="token punctuation">)</span>    
partition_by_clause ::<span class="token operator">=</span> <span class="token keyword">PARTITION</span> <span class="token keyword">BY</span> expr <span class="token punctuation">[</span><span class="token punctuation">,</span> expr <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>    
order_by_clause ::<span class="token operator">=</span> <span class="token keyword">ORDER</span> <span class="token keyword">BY</span> expr <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token operator">|</span> <span class="token keyword">DESC</span><span class="token punctuation">]</span> <span class="token punctuation">[</span><span class="token punctuation">,</span> expr <span class="token punctuation">[</span><span class="token keyword">ASC</span> <span class="token operator">|</span> <span class="token keyword">DESC</span><span class="token punctuation">]</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">]</span>
</code></pre></div><h3 id="function"><a href="#function" class="header-anchor">#</a> Function</h3> <p>目前支持的 Function 包括 AVG(), COUNT(), DENSE_RANK(), FIRST_VALUE(), LAG(), LAST_VALUE(), LEAD(), MAX(), MIN(), RANK(), ROW_NUMBER() 和 SUM()。</p> <h3 id="partition-by从句"><a href="#partition-by从句" class="header-anchor">#</a> PARTITION BY从句</h3> <p>Partition By 从句和 Group By 类似。它把输入行按照指定的一列或多列分组，相同值的行会被分到一组。</p> <h3 id="order-by从句"><a href="#order-by从句" class="header-anchor">#</a> ORDER BY从句</h3> <p>Order By从句和外层的Order By基本一致。它定义了输入行的排列顺序，如果指定了 Partition By，则 Order By 定义了每个 Partition 分组内的顺序。与外层 Order By 的唯一不同点是，OVER 从句中的 Order By n（n是正整数）相当于不做任何操作，而外层的 Order By n表示按照第n列排序。</p> <p>举例:</p> <p>这个例子展示了在select列表中增加一个id列，它的值是1，2，3等等，顺序按照events表中的date_and_time列排序。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">SELECT</span>   
row_number<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span> <span class="token punctuation">(</span><span class="token keyword">ORDER</span> <span class="token keyword">BY</span> date_and_time<span class="token punctuation">)</span> <span class="token keyword">AS</span> id<span class="token punctuation">,</span>   
c1<span class="token punctuation">,</span> c2<span class="token punctuation">,</span> c3<span class="token punctuation">,</span> c4   
<span class="token keyword">FROM</span> events<span class="token punctuation">;</span>
</code></pre></div><h3 id="window从句"><a href="#window从句" class="header-anchor">#</a> Window从句</h3> <p>Window 从句用来为分析函数指定一个运算范围，以当前行为准，前后若干行作为分析函数运算的对象。Window 从句支持的方法有：AVG(), COUNT(), FIRST_VALUE(), LAST_VALUE() 和 SUM()。对于 MAX() 和 MIN(), window 从句可以指定开始范围 UNBOUNDED PRECEDING</p> <p>语法:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">ROWS</span> <span class="token operator">BETWEEN</span> <span class="token punctuation">[</span> { m <span class="token operator">|</span> <span class="token keyword">UNBOUNDED</span> } <span class="token keyword">PRECEDING</span> <span class="token operator">|</span> <span class="token keyword">CURRENT</span> <span class="token keyword">ROW</span><span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token operator">AND</span> <span class="token punctuation">[</span><span class="token keyword">CURRENT</span> <span class="token keyword">ROW</span> <span class="token operator">|</span> { <span class="token keyword">UNBOUNDED</span> <span class="token operator">|</span> n } <span class="token keyword">FOLLOWING</span><span class="token punctuation">]</span> <span class="token punctuation">]</span>
</code></pre></div><h3 id="举例："><a href="#举例：" class="header-anchor">#</a> 举例：</h3> <p>假设我们有如下的股票数据，股票代码是 JDR，closing price 是每天的收盘价。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">create</span> <span class="token keyword">table</span> stock_ticker <span class="token punctuation">(</span>stock_symbol string<span class="token punctuation">,</span> closing_price <span class="token keyword">decimal</span><span class="token punctuation">(</span><span class="token number">8</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">)</span><span class="token punctuation">,</span> closing_date <span class="token keyword">timestamp</span><span class="token punctuation">)</span><span class="token punctuation">;</span>    
<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token keyword">load</span> <span class="token keyword">some</span> <span class="token keyword">data</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>    
<span class="token keyword">select</span> <span class="token operator">*</span> <span class="token keyword">from</span> stock_ticker <span class="token keyword">order</span> <span class="token keyword">by</span> stock_symbol<span class="token punctuation">,</span> closing_date
 <span class="token operator">|</span> stock_symbol <span class="token operator">|</span> closing_price <span class="token operator">|</span> closing_date        <span class="token operator">|</span>
 <span class="token operator">|</span><span class="token comment">--------------|---------------|---------------------|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">12.86</span>         <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">12.89</span>         <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">12.94</span>         <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">12.55</span>         <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">14.03</span>         <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">14.75</span>         <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">13.98</span>         <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span>
</code></pre></div><p>这个查询使用分析函数产生 moving_average 这一列，它的值是3天的股票均价，即前一天、当前以及后一天三天的均价。第一天没有前一天的值，最后一天没有后一天的值，所以这两行只计算了两天的均值。这里 Partition By 没有起到作用，因为所有的数据都是 JDR 的数据，但如果还有其他股票信息，Partition By 会保证分析函数值作用在本 Partition 之内。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> stock_symbol<span class="token punctuation">,</span> closing_date<span class="token punctuation">,</span> closing_price<span class="token punctuation">,</span>    
<span class="token function">avg</span><span class="token punctuation">(</span>closing_price<span class="token punctuation">)</span> <span class="token keyword">over</span> <span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> stock_symbol <span class="token keyword">order</span> <span class="token keyword">by</span> closing_date    
<span class="token keyword">rows</span> <span class="token operator">between</span> <span class="token number">1</span> <span class="token keyword">preceding</span> <span class="token operator">and</span> <span class="token number">1</span> <span class="token keyword">following</span><span class="token punctuation">)</span> <span class="token keyword">as</span> moving_average    
<span class="token keyword">from</span> stock_ticker<span class="token punctuation">;</span>
 <span class="token operator">|</span> stock_symbol <span class="token operator">|</span> closing_date        <span class="token operator">|</span> closing_price <span class="token operator">|</span> moving_average <span class="token operator">|</span>
 <span class="token operator">|</span><span class="token comment">--------------|---------------------|---------------|----------------|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">02</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.86</span>         <span class="token operator">|</span> <span class="token number">12.87</span>          <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">03</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.89</span>         <span class="token operator">|</span> <span class="token number">12.89</span>          <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">04</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.94</span>         <span class="token operator">|</span> <span class="token number">12.79</span>          <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">05</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.55</span>         <span class="token operator">|</span> <span class="token number">13.17</span>          <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">06</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">14.03</span>         <span class="token operator">|</span> <span class="token number">13.77</span>          <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">07</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">14.75</span>         <span class="token operator">|</span> <span class="token number">14.25</span>          <span class="token operator">|</span>
 <span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">10</span><span class="token operator">-</span><span class="token number">08</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">13.98</span>         <span class="token operator">|</span> <span class="token number">14.36</span>          <span class="token operator">|</span>
</code></pre></div><h2 id="function使用举例"><a href="#function使用举例" class="header-anchor">#</a> Function使用举例</h2> <p>本节介绍 Doris 中可以用作分析函数的方法。</p> <h3 id="avg"><a href="#avg" class="header-anchor">#</a> AVG()</h3> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token function">AVG</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">DISTINCT</span> <span class="token operator">|</span> <span class="token keyword">ALL</span><span class="token punctuation">]</span> <span class="token operator">*</span>expression<span class="token operator">*</span><span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">OVER</span> <span class="token punctuation">(</span><span class="token operator">*</span>analytic_clause<span class="token operator">*</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>举例：</p> <p>计算当前行和它前后各一行数据的x平均值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> x<span class="token punctuation">,</span> property<span class="token punctuation">,</span>    
<span class="token function">avg</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">over</span>    
<span class="token punctuation">(</span>   
<span class="token keyword">partition</span> <span class="token keyword">by</span> property    
<span class="token keyword">order</span> <span class="token keyword">by</span> x    
<span class="token keyword">rows</span> <span class="token operator">between</span> <span class="token number">1</span> <span class="token keyword">preceding</span> <span class="token operator">and</span> <span class="token number">1</span> <span class="token keyword">following</span>    
<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'moving average'</span>    
<span class="token keyword">from</span> int_t <span class="token keyword">where</span> property <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'odd'</span><span class="token punctuation">,</span><span class="token string">'even'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token operator">|</span> x  <span class="token operator">|</span> property <span class="token operator">|</span> moving average <span class="token operator">|</span>
 <span class="token operator">|</span><span class="token comment">----|----------|----------------|</span>
 <span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">3</span>              <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">4</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">4</span>              <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">6</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">6</span>              <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">8</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">8</span>              <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">9</span>              <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">2</span>              <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">3</span>              <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">5</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">5</span>              <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">7</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">7</span>              <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">9</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">8</span>              <span class="token operator">|</span>
</code></pre></div><h3 id="count"><a href="#count" class="header-anchor">#</a> COUNT()</h3> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token function">COUNT</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">DISTINCT</span> <span class="token operator">|</span> <span class="token keyword">ALL</span><span class="token punctuation">]</span> expression<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">OVER</span> <span class="token punctuation">(</span>analytic_clause<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>举例：</p> <p>计算从当前行到第一行x出现的次数。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> x<span class="token punctuation">,</span> property<span class="token punctuation">,</span>   
<span class="token function">count</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">over</span>   
<span class="token punctuation">(</span>   
<span class="token keyword">partition</span> <span class="token keyword">by</span> property    
<span class="token keyword">order</span> <span class="token keyword">by</span> x    
<span class="token keyword">rows</span> <span class="token operator">between</span> <span class="token keyword">unbounded</span> <span class="token keyword">preceding</span> <span class="token operator">and</span> <span class="token keyword">current</span> <span class="token keyword">row</span>    
<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'cumulative total'</span>    
<span class="token keyword">from</span> int_t <span class="token keyword">where</span> property <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'odd'</span><span class="token punctuation">,</span><span class="token string">'even'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
 <span class="token operator">|</span> x  <span class="token operator">|</span> property <span class="token operator">|</span> cumulative count <span class="token operator">|</span>
 <span class="token operator">|</span><span class="token comment">----|----------|------------------|</span>
 <span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">1</span>                <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">4</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">2</span>                <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">6</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">3</span>                <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">8</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">4</span>                <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">5</span>                <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">1</span>                <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">2</span>                <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">5</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">3</span>                <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">7</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">4</span>                <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">9</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">5</span>                <span class="token operator">|</span>
</code></pre></div><h3 id="dense-rank"><a href="#dense-rank" class="header-anchor">#</a> DENSE_RANK()</h3> <p>DENSE_RANK() 函数用来表示排名，与RANK()不同的是，DENSE_RANK() 不会出现空缺数字。比如，如果出现了两个并列的1，DENSE_RANK() 的第三个数仍然是2，而RANK()的第三个数是3。</p> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>DENSE_RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span>partition_by_clause order_by_clause<span class="token punctuation">)</span>
</code></pre></div><p>举例：</p> <p>下例展示了按照 property 列分组对x列排名：</p> <div class="language-sql extra-class"><pre class="language-sql"><code> <span class="token keyword">select</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> dense_rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> x <span class="token keyword">order</span> <span class="token keyword">by</span> y<span class="token punctuation">)</span> <span class="token keyword">as</span> rank <span class="token keyword">from</span> int_t<span class="token punctuation">;</span>
 <span class="token operator">|</span> x  <span class="token operator">|</span> y    <span class="token operator">|</span> rank     <span class="token operator">|</span>
 <span class="token operator">|</span><span class="token comment">----|------|----------|</span>
 <span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> <span class="token number">3</span>    <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
 <span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
</code></pre></div><h3 id="first-value"><a href="#first-value" class="header-anchor">#</a> FIRST_VALUE()</h3> <p>FIRST_VALUE() 返回窗口范围内的第一个值。</p> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>FIRST_VALUE<span class="token punctuation">(</span>expr<span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span>partition_by_clause order_by_clause <span class="token punctuation">[</span>window_clause<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>举例：</p> <p>我们有如下数据</p> <div class="language-sql extra-class"><pre class="language-sql"><code> <span class="token keyword">select</span> name<span class="token punctuation">,</span> country<span class="token punctuation">,</span> greeting <span class="token keyword">from</span> mail_merge<span class="token punctuation">;</span>
 <span class="token operator">|</span> name    <span class="token operator">|</span> country <span class="token operator">|</span> greeting     <span class="token operator">|</span>
 <span class="token operator">|</span><span class="token comment">---------|---------|--------------|</span>
 <span class="token operator">|</span> Pete    <span class="token operator">|</span> USA     <span class="token operator">|</span> Hello        <span class="token operator">|</span>
 <span class="token operator">|</span> John    <span class="token operator">|</span> USA     <span class="token operator">|</span> Hi           <span class="token operator">|</span>
 <span class="token operator">|</span> Boris   <span class="token operator">|</span> Germany <span class="token operator">|</span> Guten tag    <span class="token operator">|</span>
 <span class="token operator">|</span> Michael <span class="token operator">|</span> Germany <span class="token operator">|</span> Guten morgen <span class="token operator">|</span>
 <span class="token operator">|</span> Bjorn   <span class="token operator">|</span> Sweden  <span class="token operator">|</span> Hej          <span class="token operator">|</span>
 <span class="token operator">|</span> Mats    <span class="token operator">|</span> Sweden  <span class="token operator">|</span> Tja          <span class="token operator">|</span>
</code></pre></div><p>使用 FIRST_VALUE()，根据 country 分组，返回每个分组中第一个 greeting 的值：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> country<span class="token punctuation">,</span> name<span class="token punctuation">,</span>    
first_value<span class="token punctuation">(</span>greeting<span class="token punctuation">)</span>    
<span class="token keyword">over</span> <span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> country <span class="token keyword">order</span> <span class="token keyword">by</span> name<span class="token punctuation">,</span> greeting<span class="token punctuation">)</span> <span class="token keyword">as</span> greeting <span class="token keyword">from</span> mail_merge<span class="token punctuation">;</span>
<span class="token operator">|</span> country <span class="token operator">|</span> name    <span class="token operator">|</span> greeting  <span class="token operator">|</span>
<span class="token operator">|</span><span class="token comment">---------|---------|-----------|</span>
<span class="token operator">|</span> Germany <span class="token operator">|</span> Boris   <span class="token operator">|</span> Guten tag <span class="token operator">|</span>
<span class="token operator">|</span> Germany <span class="token operator">|</span> Michael <span class="token operator">|</span> Guten tag <span class="token operator">|</span>
<span class="token operator">|</span> Sweden  <span class="token operator">|</span> Bjorn   <span class="token operator">|</span> Hej       <span class="token operator">|</span>
<span class="token operator">|</span> Sweden  <span class="token operator">|</span> Mats    <span class="token operator">|</span> Hej       <span class="token operator">|</span>
<span class="token operator">|</span> USA     <span class="token operator">|</span> John    <span class="token operator">|</span> Hi        <span class="token operator">|</span>
<span class="token operator">|</span> USA     <span class="token operator">|</span> Pete    <span class="token operator">|</span> Hi        <span class="token operator">|</span>
</code></pre></div><h3 id="lag"><a href="#lag" class="header-anchor">#</a> LAG()</h3> <p>LAG() 方法用来计算当前行向前数若干行的值。</p> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>LAG <span class="token punctuation">(</span>expr<span class="token punctuation">,</span> <span class="token keyword">offset</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span> <span class="token punctuation">(</span>partition_by_clause order_by_clause<span class="token punctuation">)</span>
</code></pre></div><p>举例：</p> <p>计算前一天的收盘价</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> stock_symbol<span class="token punctuation">,</span> closing_date<span class="token punctuation">,</span> closing_price<span class="token punctuation">,</span>    
lag<span class="token punctuation">(</span>closing_price<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token keyword">over</span> <span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> stock_symbol <span class="token keyword">order</span> <span class="token keyword">by</span> closing_date<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">&quot;yesterday closing&quot;</span>   
<span class="token keyword">from</span> stock_ticker   
<span class="token keyword">order</span> <span class="token keyword">by</span> closing_date<span class="token punctuation">;</span>
<span class="token operator">|</span> stock_symbol <span class="token operator">|</span> closing_date        <span class="token operator">|</span> closing_price <span class="token operator">|</span> yesterday closing <span class="token operator">|</span>
<span class="token operator">|</span><span class="token comment">--------------|---------------------|---------------|-------------------|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.86</span>         <span class="token operator">|</span> <span class="token number">0</span>                 <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">14</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.89</span>         <span class="token operator">|</span> <span class="token number">12.86</span>             <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">15</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.94</span>         <span class="token operator">|</span> <span class="token number">12.89</span>             <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">16</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.55</span>         <span class="token operator">|</span> <span class="token number">12.94</span>             <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">17</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">14.03</span>         <span class="token operator">|</span> <span class="token number">12.55</span>             <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">18</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">14.75</span>         <span class="token operator">|</span> <span class="token number">14.03</span>             <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">13.98</span>         <span class="token operator">|</span> <span class="token number">14.75</span>             <span class="token operator">|</span>
</code></pre></div><h3 id="last-value"><a href="#last-value" class="header-anchor">#</a> LAST_VALUE()</h3> <p>LAST_VALUE() 返回窗口范围内的最后一个值。与 FIRST_VALUE() 相反。</p> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>LAST_VALUE<span class="token punctuation">(</span>expr<span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span>partition_by_clause order_by_clause <span class="token punctuation">[</span>window_clause<span class="token punctuation">]</span><span class="token punctuation">)</span>
</code></pre></div><p>使用FIRST_VALUE()举例中的数据：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> country<span class="token punctuation">,</span> name<span class="token punctuation">,</span>    
last_value<span class="token punctuation">(</span>greeting<span class="token punctuation">)</span>   
<span class="token keyword">over</span> <span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> country <span class="token keyword">order</span> <span class="token keyword">by</span> name<span class="token punctuation">,</span> greeting<span class="token punctuation">)</span> <span class="token keyword">as</span> greeting   
<span class="token keyword">from</span> mail_merge<span class="token punctuation">;</span>
<span class="token operator">|</span> country <span class="token operator">|</span> name    <span class="token operator">|</span> greeting     <span class="token operator">|</span>
<span class="token operator">|</span><span class="token comment">---------|---------|--------------|</span>
<span class="token operator">|</span> Germany <span class="token operator">|</span> Boris   <span class="token operator">|</span> Guten morgen <span class="token operator">|</span>
<span class="token operator">|</span> Germany <span class="token operator">|</span> Michael <span class="token operator">|</span> Guten morgen <span class="token operator">|</span>
<span class="token operator">|</span> Sweden  <span class="token operator">|</span> Bjorn   <span class="token operator">|</span> Tja          <span class="token operator">|</span>
<span class="token operator">|</span> Sweden  <span class="token operator">|</span> Mats    <span class="token operator">|</span> Tja          <span class="token operator">|</span>
<span class="token operator">|</span> USA     <span class="token operator">|</span> John    <span class="token operator">|</span> Hello        <span class="token operator">|</span>
<span class="token operator">|</span> USA     <span class="token operator">|</span> Pete    <span class="token operator">|</span> Hello        <span class="token operator">|</span>
</code></pre></div><h3 id="lead"><a href="#lead" class="header-anchor">#</a> LEAD()</h3> <p>LEAD() 方法用来计算当前行向后数若干行的值。</p> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>LEAD <span class="token punctuation">(</span>expr<span class="token punctuation">,</span> <span class="token keyword">offset</span><span class="token punctuation">,</span> <span class="token keyword">default</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span> <span class="token punctuation">(</span>partition_by_clause order_by_clause<span class="token punctuation">)</span>
</code></pre></div><p>举例：</p> <p>计算第二天的收盘价对比当天收盘价的走势，即第二天收盘价比当天高还是低。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> stock_symbol<span class="token punctuation">,</span> closing_date<span class="token punctuation">,</span> closing_price<span class="token punctuation">,</span>    
<span class="token keyword">case</span>   
<span class="token punctuation">(</span>lead<span class="token punctuation">(</span>closing_price<span class="token punctuation">,</span><span class="token number">1</span><span class="token punctuation">,</span> <span class="token number">0</span><span class="token punctuation">)</span>   
<span class="token keyword">over</span> <span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> stock_symbol <span class="token keyword">order</span> <span class="token keyword">by</span> closing_date<span class="token punctuation">)</span><span class="token operator">-</span>closing_price<span class="token punctuation">)</span> <span class="token operator">&gt;</span> <span class="token number">0</span>   
<span class="token keyword">when</span> <span class="token boolean">true</span> <span class="token keyword">then</span> <span class="token string">&quot;higher&quot;</span>   
<span class="token keyword">when</span> <span class="token boolean">false</span> <span class="token keyword">then</span> <span class="token string">&quot;flat or lower&quot;</span>    
<span class="token keyword">end</span> <span class="token keyword">as</span> <span class="token string">&quot;trending&quot;</span>   
<span class="token keyword">from</span> stock_ticker    
<span class="token keyword">order</span> <span class="token keyword">by</span> closing_date<span class="token punctuation">;</span>
<span class="token operator">|</span> stock_symbol <span class="token operator">|</span> closing_date        <span class="token operator">|</span> closing_price <span class="token operator">|</span> trending      <span class="token operator">|</span>
<span class="token operator">|</span><span class="token comment">--------------|---------------------|---------------|---------------|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">13</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.86</span>         <span class="token operator">|</span> higher        <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">14</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.89</span>         <span class="token operator">|</span> higher        <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">15</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.94</span>         <span class="token operator">|</span> flat <span class="token operator">or</span> lower <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">16</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">12.55</span>         <span class="token operator">|</span> higher        <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">17</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">14.03</span>         <span class="token operator">|</span> higher        <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">18</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">14.75</span>         <span class="token operator">|</span> flat <span class="token operator">or</span> lower <span class="token operator">|</span>
<span class="token operator">|</span> JDR          <span class="token operator">|</span> <span class="token number">2014</span><span class="token operator">-</span><span class="token number">09</span><span class="token operator">-</span><span class="token number">19</span> <span class="token number">00</span>:<span class="token number">00</span>:<span class="token number">00</span> <span class="token operator">|</span> <span class="token number">13.98</span>         <span class="token operator">|</span> flat <span class="token operator">or</span> lower <span class="token operator">|</span>
</code></pre></div><h3 id="max"><a href="#max" class="header-anchor">#</a> MAX()</h3> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token function">MAX</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">DISTINCT</span> <span class="token operator">|</span> <span class="token keyword">ALL</span><span class="token punctuation">]</span> expression<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">OVER</span> <span class="token punctuation">(</span>analytic_clause<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>举例：</p> <p>计算从第一行到当前行之后一行的最大值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> x<span class="token punctuation">,</span> property<span class="token punctuation">,</span>   
<span class="token function">max</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">over</span>    
<span class="token punctuation">(</span>   
<span class="token keyword">order</span> <span class="token keyword">by</span> property<span class="token punctuation">,</span> x    
<span class="token keyword">rows</span> <span class="token operator">between</span> <span class="token keyword">unbounded</span> <span class="token keyword">preceding</span> <span class="token operator">and</span> <span class="token number">1</span> <span class="token keyword">following</span>    
<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'local maximum'</span>    
<span class="token keyword">from</span> int_t <span class="token keyword">where</span> property <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'prime'</span><span class="token punctuation">,</span><span class="token string">'square'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">|</span> x <span class="token operator">|</span> property <span class="token operator">|</span> <span class="token keyword">local</span> maximum <span class="token operator">|</span>
<span class="token operator">|</span><span class="token comment">---|----------|---------------|</span>
<span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> prime    <span class="token operator">|</span> <span class="token number">3</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> prime    <span class="token operator">|</span> <span class="token number">5</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5</span> <span class="token operator">|</span> prime    <span class="token operator">|</span> <span class="token number">7</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7</span> <span class="token operator">|</span> prime    <span class="token operator">|</span> <span class="token number">7</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> square   <span class="token operator">|</span> <span class="token number">7</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span> <span class="token operator">|</span> square   <span class="token operator">|</span> <span class="token number">9</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">9</span> <span class="token operator">|</span> square   <span class="token operator">|</span> <span class="token number">9</span>             <span class="token operator">|</span>
</code></pre></div><h3 id="min"><a href="#min" class="header-anchor">#</a> MIN()</h3> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token function">MIN</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">DISTINCT</span> <span class="token operator">|</span> <span class="token keyword">ALL</span><span class="token punctuation">]</span> expression<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">OVER</span> <span class="token punctuation">(</span>analytic_clause<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>举例：</p> <p>计算从第一行到当前行之后一行的最小值</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> x<span class="token punctuation">,</span> property<span class="token punctuation">,</span>   
<span class="token function">min</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">over</span>    
<span class="token punctuation">(</span>    
<span class="token keyword">order</span> <span class="token keyword">by</span> property<span class="token punctuation">,</span> x <span class="token keyword">desc</span>    
<span class="token keyword">rows</span> <span class="token operator">between</span> <span class="token keyword">unbounded</span> <span class="token keyword">preceding</span> <span class="token operator">and</span> <span class="token number">1</span> <span class="token keyword">following</span>   
<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'local minimum'</span>   
<span class="token keyword">from</span> int_t <span class="token keyword">where</span> property <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'prime'</span><span class="token punctuation">,</span><span class="token string">'square'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">|</span> x <span class="token operator">|</span> property <span class="token operator">|</span> <span class="token keyword">local</span> minimum <span class="token operator">|</span>
<span class="token operator">|</span><span class="token comment">---|----------|---------------|</span>
<span class="token operator">|</span> <span class="token number">7</span> <span class="token operator">|</span> prime    <span class="token operator">|</span> <span class="token number">5</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5</span> <span class="token operator">|</span> prime    <span class="token operator">|</span> <span class="token number">3</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> prime    <span class="token operator">|</span> <span class="token number">2</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> prime    <span class="token operator">|</span> <span class="token number">2</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">9</span> <span class="token operator">|</span> square   <span class="token operator">|</span> <span class="token number">2</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span> <span class="token operator">|</span> square   <span class="token operator">|</span> <span class="token number">1</span>             <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> square   <span class="token operator">|</span> <span class="token number">1</span>             <span class="token operator">|</span>
</code></pre></div><h3 id="rank"><a href="#rank" class="header-anchor">#</a> RANK()</h3> <p>RANK() 函数用来表示排名，与 DENSE_RANK() 不同的是，RANK() 会出现空缺数字。比如，如果出现了两个并列的1， RANK() 的第三个数就是3，而不是2。</p> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>RANK<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span>partition_by_clause order_by_clause<span class="token punctuation">)</span>
</code></pre></div><p>举例：</p> <p>根据 x 进行排名</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> rank<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> x <span class="token keyword">order</span> <span class="token keyword">by</span> y<span class="token punctuation">)</span> <span class="token keyword">as</span> rank <span class="token keyword">from</span> int_t<span class="token punctuation">;</span>
<span class="token operator">|</span> x  <span class="token operator">|</span> y    <span class="token operator">|</span> rank     <span class="token operator">|</span>
<span class="token operator">|</span><span class="token comment">----|------|----------|</span>
<span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> <span class="token number">3</span>    <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
</code></pre></div><h3 id="row-number"><a href="#row-number" class="header-anchor">#</a> ROW_NUMBER()</h3> <p>为每个 Partition 的每一行返回一个从1开始连续递增的整数。与 RANK() 和 DENSE_RANK() 不同的是，ROW_NUMBER() 返回的值不会重复也不会出现空缺，是连续递增的。</p> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code>ROW_NUMBER<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">OVER</span><span class="token punctuation">(</span>partition_by_clause order_by_clause<span class="token punctuation">)</span>
</code></pre></div><p>举例：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> x<span class="token punctuation">,</span> y<span class="token punctuation">,</span> row_number<span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">over</span><span class="token punctuation">(</span><span class="token keyword">partition</span> <span class="token keyword">by</span> x <span class="token keyword">order</span> <span class="token keyword">by</span> y<span class="token punctuation">)</span> <span class="token keyword">as</span> rank <span class="token keyword">from</span> int_t<span class="token punctuation">;</span>
<span class="token operator">|</span> x <span class="token operator">|</span> y    <span class="token operator">|</span> rank     <span class="token operator">|</span>
<span class="token operator">|</span><span class="token comment">---|------|----------|</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span> <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">2</span> <span class="token operator">|</span> <span class="token number">3</span>    <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">1</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">1</span>    <span class="token operator">|</span> <span class="token number">2</span>        <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span> <span class="token operator">|</span> <span class="token number">2</span>    <span class="token operator">|</span> <span class="token number">3</span>        <span class="token operator">|</span>
</code></pre></div><h3 id="sum"><a href="#sum" class="header-anchor">#</a> SUM()</h3> <p>语法：</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token function">SUM</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token keyword">DISTINCT</span> <span class="token operator">|</span> <span class="token keyword">ALL</span><span class="token punctuation">]</span> expression<span class="token punctuation">)</span> <span class="token punctuation">[</span><span class="token keyword">OVER</span> <span class="token punctuation">(</span>analytic_clause<span class="token punctuation">)</span><span class="token punctuation">]</span>
</code></pre></div><p>举例：</p> <p>按照 property 进行分组，在组内计算当前行以及前后各一行的x列的和。</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">select</span> x<span class="token punctuation">,</span> property<span class="token punctuation">,</span>   
<span class="token function">sum</span><span class="token punctuation">(</span>x<span class="token punctuation">)</span> <span class="token keyword">over</span>    
<span class="token punctuation">(</span>   
<span class="token keyword">partition</span> <span class="token keyword">by</span> property   
<span class="token keyword">order</span> <span class="token keyword">by</span> x   
<span class="token keyword">rows</span> <span class="token operator">between</span> <span class="token number">1</span> <span class="token keyword">preceding</span> <span class="token operator">and</span> <span class="token number">1</span> <span class="token keyword">following</span>    
<span class="token punctuation">)</span> <span class="token keyword">as</span> <span class="token string">'moving total'</span>    
<span class="token keyword">from</span> int_t <span class="token keyword">where</span> property <span class="token operator">in</span> <span class="token punctuation">(</span><span class="token string">'odd'</span><span class="token punctuation">,</span><span class="token string">'even'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token operator">|</span> x  <span class="token operator">|</span> property <span class="token operator">|</span> moving total <span class="token operator">|</span>
<span class="token operator">|</span><span class="token comment">----|----------|--------------|</span>
<span class="token operator">|</span> <span class="token number">2</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">6</span>            <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">4</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">12</span>           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">6</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">18</span>           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">8</span>  <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">24</span>           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">10</span> <span class="token operator">|</span> even     <span class="token operator">|</span> <span class="token number">18</span>           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">1</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">4</span>            <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">3</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">9</span>            <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">5</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">15</span>           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">7</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">21</span>           <span class="token operator">|</span>
<span class="token operator">|</span> <span class="token number">9</span>  <span class="token operator">|</span> odd      <span class="token operator">|</span> <span class="token number">16</span>           <span class="token operator">|</span>
</code></pre></div></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/apache/incubator-doris/edit/master/docs/zh-CN/sql-reference/sql-functions/window-function.md" target="_blank" rel="noopener noreferrer">在 GitHub 上编辑此页</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">2021/7/4 下午1:00:04</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/master/zh-CN/sql-reference/sql-functions/hash-functions/murmur_hash3_32.html" class="prev">
        murmurhash332
      </a></span> <span class="next"><a href="/master/zh-CN/sql-reference/sql-functions/cast.html">
        CAST
      </a>
      →
    </span></p></div> <footer><div class="footer-wrapper"><p class="apache-info"><a href="https://apache.org"><img width="200" src="/master/images/asf_logo.svg" alt="The Apache Software Foundation"></a> <a href="https://www.apache.org/events/current-event.html" style="float: right"><img src="https://www.apache.org/events/current-event-234x60.png"></a></p><p><a href="https://www.apache.org/licenses/">License</a> | <a href="https://www.apache.org/security/">Security</a> | <a href="https://www.apache.org/foundation/thanks.html">Thanks</a> | <a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></p> <p><br> <span class="footer-text">© Copyright 2021, Apache Doris(Incubating) </span> <br> <span class="footer-text">
      Apache Doris(incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
    </span></p></div></footer></main></div><div class="global-ui"></div></div>
    <script src="/master/assets/js/app.529acba7.js" defer></script><script src="/master/assets/js/4.070d9810.js" defer></script><script src="/master/assets/js/3.14ec8901.js" defer></script><script src="/master/assets/js/616.a2af0848.js" defer></script>
  </body>
</html>
