<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Materialized view | Apache Doris</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="Apache Doris">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/master/assets/css/0.styles.691af086.css" as="style"><link rel="preload" href="/master/assets/js/app.c71c86b0.js" as="script"><link rel="preload" href="/master/assets/js/4.070d9810.js" as="script"><link rel="preload" href="/master/assets/js/3.14ec8901.js" as="script"><link rel="preload" href="/master/assets/js/38.5166b1ea.js" as="script"><link rel="prefetch" href="/master/assets/js/10.243323ea.js"><link rel="prefetch" href="/master/assets/js/100.301f580b.js"><link rel="prefetch" href="/master/assets/js/101.4cceed12.js"><link rel="prefetch" href="/master/assets/js/102.c671e1e7.js"><link rel="prefetch" href="/master/assets/js/103.c3c3b076.js"><link rel="prefetch" href="/master/assets/js/104.e960e349.js"><link rel="prefetch" href="/master/assets/js/105.525c2687.js"><link rel="prefetch" href="/master/assets/js/106.ca0f0e3d.js"><link rel="prefetch" href="/master/assets/js/107.63865e25.js"><link rel="prefetch" href="/master/assets/js/108.dc952528.js"><link rel="prefetch" href="/master/assets/js/109.e83accdc.js"><link rel="prefetch" href="/master/assets/js/11.0ef7e5ad.js"><link rel="prefetch" href="/master/assets/js/110.7f9f8112.js"><link rel="prefetch" href="/master/assets/js/111.128ac0bd.js"><link rel="prefetch" href="/master/assets/js/112.0fb0ed60.js"><link rel="prefetch" href="/master/assets/js/113.f176e868.js"><link rel="prefetch" href="/master/assets/js/114.2a941c82.js"><link rel="prefetch" href="/master/assets/js/115.94c965ee.js"><link rel="prefetch" href="/master/assets/js/116.9b10fe3e.js"><link rel="prefetch" href="/master/assets/js/117.b24a69bf.js"><link rel="prefetch" href="/master/assets/js/118.5431b18e.js"><link rel="prefetch" href="/master/assets/js/119.d10681c5.js"><link rel="prefetch" href="/master/assets/js/12.052c7e79.js"><link rel="prefetch" href="/master/assets/js/120.9c0eb97f.js"><link rel="prefetch" href="/master/assets/js/121.eb149c03.js"><link rel="prefetch" href="/master/assets/js/122.4771caad.js"><link rel="prefetch" href="/master/assets/js/123.77e39a11.js"><link rel="prefetch" href="/master/assets/js/124.027106b8.js"><link rel="prefetch" href="/master/assets/js/125.783313dd.js"><link rel="prefetch" href="/master/assets/js/126.85e11058.js"><link rel="prefetch" href="/master/assets/js/127.6d65ba29.js"><link rel="prefetch" href="/master/assets/js/128.b043ee1f.js"><link rel="prefetch" href="/master/assets/js/129.8c7e8f49.js"><link rel="prefetch" href="/master/assets/js/13.f279056f.js"><link rel="prefetch" href="/master/assets/js/130.7ba2b06f.js"><link rel="prefetch" href="/master/assets/js/131.0a0fdcbd.js"><link rel="prefetch" href="/master/assets/js/132.0771dcc7.js"><link rel="prefetch" href="/master/assets/js/133.ccb6ddaa.js"><link rel="prefetch" href="/master/assets/js/134.c61e3b4b.js"><link rel="prefetch" href="/master/assets/js/135.03310c48.js"><link rel="prefetch" href="/master/assets/js/136.acad41d5.js"><link rel="prefetch" href="/master/assets/js/137.a125f8f6.js"><link rel="prefetch" href="/master/assets/js/138.f169f3a1.js"><link rel="prefetch" href="/master/assets/js/139.e3d59233.js"><link rel="prefetch" href="/master/assets/js/14.0077bd2c.js"><link rel="prefetch" href="/master/assets/js/140.f0da1fce.js"><link rel="prefetch" href="/master/assets/js/141.bc5cfeb6.js"><link rel="prefetch" href="/master/assets/js/142.1527f118.js"><link rel="prefetch" href="/master/assets/js/143.a495c7b8.js"><link rel="prefetch" href="/master/assets/js/144.ebccabd5.js"><link rel="prefetch" href="/master/assets/js/145.f64e15a6.js"><link rel="prefetch" href="/master/assets/js/146.7aa07164.js"><link rel="prefetch" href="/master/assets/js/147.652d4de9.js"><link rel="prefetch" href="/master/assets/js/148.e895aef0.js"><link rel="prefetch" href="/master/assets/js/149.de959fe0.js"><link rel="prefetch" href="/master/assets/js/15.4109b8d6.js"><link rel="prefetch" href="/master/assets/js/150.38902751.js"><link rel="prefetch" href="/master/assets/js/151.c25b5a12.js"><link rel="prefetch" href="/master/assets/js/152.282ff4c4.js"><link rel="prefetch" href="/master/assets/js/153.f181fb43.js"><link rel="prefetch" href="/master/assets/js/154.e1249799.js"><link rel="prefetch" href="/master/assets/js/155.0db09ec7.js"><link rel="prefetch" href="/master/assets/js/156.75da5ac5.js"><link rel="prefetch" href="/master/assets/js/157.1916f299.js"><link rel="prefetch" href="/master/assets/js/158.cbaf8e67.js"><link rel="prefetch" href="/master/assets/js/159.19b0c71b.js"><link rel="prefetch" href="/master/assets/js/16.89394eef.js"><link rel="prefetch" href="/master/assets/js/160.50bf22e0.js"><link rel="prefetch" href="/master/assets/js/161.ed275dfd.js"><link rel="prefetch" href="/master/assets/js/162.4fae737d.js"><link rel="prefetch" href="/master/assets/js/163.aefd438e.js"><link rel="prefetch" href="/master/assets/js/164.32598061.js"><link rel="prefetch" href="/master/assets/js/165.a08b107c.js"><link rel="prefetch" href="/master/assets/js/166.4571709c.js"><link rel="prefetch" href="/master/assets/js/167.f848cb88.js"><link rel="prefetch" href="/master/assets/js/168.84eb5f81.js"><link rel="prefetch" href="/master/assets/js/169.7d6b3477.js"><link rel="prefetch" href="/master/assets/js/17.cf04c727.js"><link rel="prefetch" href="/master/assets/js/170.e9888d78.js"><link rel="prefetch" href="/master/assets/js/171.3d630a2e.js"><link rel="prefetch" href="/master/assets/js/172.e9d2230a.js"><link rel="prefetch" href="/master/assets/js/173.31140579.js"><link rel="prefetch" href="/master/assets/js/174.6b65b523.js"><link rel="prefetch" href="/master/assets/js/175.9c27924d.js"><link rel="prefetch" href="/master/assets/js/176.6e389228.js"><link rel="prefetch" href="/master/assets/js/177.f41e2a06.js"><link rel="prefetch" href="/master/assets/js/178.8edb979b.js"><link rel="prefetch" href="/master/assets/js/179.fbf4b188.js"><link rel="prefetch" href="/master/assets/js/18.41a25b54.js"><link rel="prefetch" href="/master/assets/js/180.de6ac258.js"><link rel="prefetch" href="/master/assets/js/181.a764e15b.js"><link rel="prefetch" href="/master/assets/js/182.2f9ffef0.js"><link rel="prefetch" href="/master/assets/js/183.c3dcbfc1.js"><link rel="prefetch" href="/master/assets/js/184.c46d40be.js"><link rel="prefetch" href="/master/assets/js/185.ae210546.js"><link rel="prefetch" href="/master/assets/js/186.33338232.js"><link rel="prefetch" href="/master/assets/js/187.398daa52.js"><link rel="prefetch" href="/master/assets/js/188.ee478981.js"><link rel="prefetch" href="/master/assets/js/189.7b179060.js"><link rel="prefetch" href="/master/assets/js/19.e265bcf0.js"><link rel="prefetch" href="/master/assets/js/190.c3b921e6.js"><link rel="prefetch" href="/master/assets/js/191.8ad1430d.js"><link rel="prefetch" href="/master/assets/js/192.5af5ec26.js"><link rel="prefetch" href="/master/assets/js/193.2f32573e.js"><link rel="prefetch" href="/master/assets/js/194.f51461f6.js"><link rel="prefetch" href="/master/assets/js/195.c3275838.js"><link rel="prefetch" href="/master/assets/js/196.8c585814.js"><link rel="prefetch" href="/master/assets/js/197.0ba310bd.js"><link rel="prefetch" href="/master/assets/js/198.4f924582.js"><link rel="prefetch" href="/master/assets/js/199.79ed6081.js"><link rel="prefetch" href="/master/assets/js/20.fcd21d14.js"><link rel="prefetch" href="/master/assets/js/200.37aab1d1.js"><link rel="prefetch" href="/master/assets/js/201.53a25913.js"><link rel="prefetch" href="/master/assets/js/202.0f66fa62.js"><link rel="prefetch" href="/master/assets/js/203.b0cb33df.js"><link rel="prefetch" href="/master/assets/js/204.b8873d59.js"><link rel="prefetch" href="/master/assets/js/205.3303ed83.js"><link rel="prefetch" href="/master/assets/js/206.58314fe8.js"><link rel="prefetch" href="/master/assets/js/207.37b4605e.js"><link rel="prefetch" href="/master/assets/js/208.1bcfafcb.js"><link rel="prefetch" href="/master/assets/js/209.e39ebc05.js"><link rel="prefetch" href="/master/assets/js/21.4e78eacf.js"><link rel="prefetch" href="/master/assets/js/210.005bebca.js"><link rel="prefetch" href="/master/assets/js/211.f7a001ee.js"><link rel="prefetch" href="/master/assets/js/212.0408e88d.js"><link rel="prefetch" href="/master/assets/js/213.fc14540f.js"><link rel="prefetch" href="/master/assets/js/214.96c3e5b9.js"><link rel="prefetch" href="/master/assets/js/215.8a31bf1e.js"><link rel="prefetch" href="/master/assets/js/216.699ae5da.js"><link rel="prefetch" href="/master/assets/js/217.44b24da9.js"><link rel="prefetch" href="/master/assets/js/218.5c2dfa4a.js"><link rel="prefetch" href="/master/assets/js/219.edc31d8c.js"><link rel="prefetch" href="/master/assets/js/22.83f8c301.js"><link rel="prefetch" href="/master/assets/js/220.d437cde3.js"><link rel="prefetch" href="/master/assets/js/221.90a6b52c.js"><link rel="prefetch" href="/master/assets/js/222.9dc45952.js"><link rel="prefetch" href="/master/assets/js/223.26e4b873.js"><link rel="prefetch" href="/master/assets/js/224.025a4fe1.js"><link rel="prefetch" href="/master/assets/js/225.4c9630f7.js"><link rel="prefetch" href="/master/assets/js/226.60d7bda2.js"><link rel="prefetch" href="/master/assets/js/227.48da159d.js"><link rel="prefetch" href="/master/assets/js/228.85b6b374.js"><link rel="prefetch" href="/master/assets/js/229.2f0877ad.js"><link rel="prefetch" href="/master/assets/js/23.4a18970a.js"><link rel="prefetch" href="/master/assets/js/230.e11fe5f7.js"><link rel="prefetch" href="/master/assets/js/231.af478c54.js"><link rel="prefetch" href="/master/assets/js/232.c46e441d.js"><link rel="prefetch" href="/master/assets/js/233.eac57ef4.js"><link rel="prefetch" href="/master/assets/js/234.d321f642.js"><link rel="prefetch" href="/master/assets/js/235.e76cab5e.js"><link rel="prefetch" href="/master/assets/js/236.c3f99675.js"><link rel="prefetch" href="/master/assets/js/237.1dc32e1c.js"><link rel="prefetch" href="/master/assets/js/238.684f959d.js"><link rel="prefetch" href="/master/assets/js/239.4e80e3d4.js"><link rel="prefetch" href="/master/assets/js/24.05d2a199.js"><link rel="prefetch" href="/master/assets/js/240.24c94ef4.js"><link rel="prefetch" href="/master/assets/js/241.34080ef5.js"><link rel="prefetch" href="/master/assets/js/242.cd91e819.js"><link rel="prefetch" href="/master/assets/js/243.3c473713.js"><link rel="prefetch" href="/master/assets/js/244.ee3fa659.js"><link rel="prefetch" href="/master/assets/js/245.a15b40f2.js"><link rel="prefetch" href="/master/assets/js/246.e423311b.js"><link rel="prefetch" href="/master/assets/js/247.98877ef0.js"><link rel="prefetch" href="/master/assets/js/248.5852c1c6.js"><link rel="prefetch" href="/master/assets/js/249.891a3ce9.js"><link rel="prefetch" href="/master/assets/js/25.7b950c73.js"><link rel="prefetch" href="/master/assets/js/250.b029da50.js"><link rel="prefetch" href="/master/assets/js/251.f48cb5f2.js"><link rel="prefetch" href="/master/assets/js/252.4539dede.js"><link rel="prefetch" href="/master/assets/js/253.e75368ee.js"><link rel="prefetch" href="/master/assets/js/254.9755aff5.js"><link rel="prefetch" href="/master/assets/js/255.4f1411d4.js"><link rel="prefetch" href="/master/assets/js/256.82c6166a.js"><link rel="prefetch" href="/master/assets/js/257.5f86260e.js"><link rel="prefetch" href="/master/assets/js/258.a42f4afe.js"><link rel="prefetch" href="/master/assets/js/259.a780a641.js"><link rel="prefetch" href="/master/assets/js/26.9af50f2b.js"><link rel="prefetch" href="/master/assets/js/260.d2e02f4e.js"><link rel="prefetch" href="/master/assets/js/261.0cdfd861.js"><link rel="prefetch" href="/master/assets/js/262.c6fda2a8.js"><link rel="prefetch" href="/master/assets/js/263.7475fe5c.js"><link rel="prefetch" href="/master/assets/js/264.7be6caf7.js"><link rel="prefetch" href="/master/assets/js/265.ba8c50b6.js"><link rel="prefetch" href="/master/assets/js/266.ad0c98d1.js"><link rel="prefetch" href="/master/assets/js/267.00d14b88.js"><link rel="prefetch" href="/master/assets/js/268.ab0abda2.js"><link rel="prefetch" href="/master/assets/js/269.27b661ef.js"><link rel="prefetch" href="/master/assets/js/27.1c7a9093.js"><link rel="prefetch" href="/master/assets/js/270.22e417cd.js"><link rel="prefetch" href="/master/assets/js/271.64bad06f.js"><link rel="prefetch" href="/master/assets/js/272.90a2e94c.js"><link rel="prefetch" href="/master/assets/js/273.5156cdf9.js"><link rel="prefetch" href="/master/assets/js/274.7ef786bf.js"><link rel="prefetch" href="/master/assets/js/275.37361694.js"><link rel="prefetch" href="/master/assets/js/276.30b45f65.js"><link rel="prefetch" href="/master/assets/js/277.7122899b.js"><link rel="prefetch" href="/master/assets/js/278.dd8341f6.js"><link rel="prefetch" href="/master/assets/js/279.22fc4dbe.js"><link rel="prefetch" href="/master/assets/js/28.9a71a941.js"><link rel="prefetch" href="/master/assets/js/280.59fac047.js"><link rel="prefetch" href="/master/assets/js/281.b70a9069.js"><link rel="prefetch" href="/master/assets/js/282.9262588a.js"><link rel="prefetch" href="/master/assets/js/283.0ec8c81a.js"><link rel="prefetch" href="/master/assets/js/284.9b4b3f45.js"><link rel="prefetch" href="/master/assets/js/285.5717562d.js"><link rel="prefetch" href="/master/assets/js/286.0b5b3a4a.js"><link rel="prefetch" href="/master/assets/js/287.e718c05c.js"><link rel="prefetch" href="/master/assets/js/288.1602a877.js"><link rel="prefetch" href="/master/assets/js/289.83d3eed5.js"><link rel="prefetch" href="/master/assets/js/29.0e2537be.js"><link rel="prefetch" href="/master/assets/js/290.3363bc9c.js"><link rel="prefetch" href="/master/assets/js/291.0dd6c347.js"><link rel="prefetch" href="/master/assets/js/292.7ec0005e.js"><link rel="prefetch" href="/master/assets/js/293.c25090b4.js"><link rel="prefetch" href="/master/assets/js/294.65f7e815.js"><link rel="prefetch" href="/master/assets/js/295.6f58d259.js"><link rel="prefetch" href="/master/assets/js/296.bb71d857.js"><link rel="prefetch" href="/master/assets/js/297.16b94829.js"><link rel="prefetch" href="/master/assets/js/298.646c04d9.js"><link rel="prefetch" href="/master/assets/js/299.13f1dd91.js"><link rel="prefetch" href="/master/assets/js/30.70e258ff.js"><link rel="prefetch" href="/master/assets/js/300.f38ac01f.js"><link rel="prefetch" href="/master/assets/js/301.604aeb18.js"><link rel="prefetch" href="/master/assets/js/302.09d20b16.js"><link rel="prefetch" href="/master/assets/js/303.4676a611.js"><link rel="prefetch" href="/master/assets/js/304.c9c24fa1.js"><link rel="prefetch" href="/master/assets/js/305.245df5ac.js"><link rel="prefetch" href="/master/assets/js/306.ea19178c.js"><link rel="prefetch" href="/master/assets/js/307.4d0278ab.js"><link rel="prefetch" href="/master/assets/js/308.4e0087d0.js"><link rel="prefetch" href="/master/assets/js/309.8a8c3800.js"><link rel="prefetch" href="/master/assets/js/31.98c4191b.js"><link rel="prefetch" href="/master/assets/js/310.bed9909c.js"><link rel="prefetch" href="/master/assets/js/311.ed8acdc3.js"><link rel="prefetch" href="/master/assets/js/312.4c95b1a4.js"><link rel="prefetch" href="/master/assets/js/313.6d620ad7.js"><link rel="prefetch" href="/master/assets/js/314.32e577bf.js"><link rel="prefetch" href="/master/assets/js/315.0bd417da.js"><link rel="prefetch" href="/master/assets/js/316.81e2437c.js"><link rel="prefetch" href="/master/assets/js/317.34cb9787.js"><link rel="prefetch" href="/master/assets/js/318.991b337d.js"><link rel="prefetch" href="/master/assets/js/319.281eff40.js"><link rel="prefetch" href="/master/assets/js/32.df44c019.js"><link rel="prefetch" href="/master/assets/js/320.7b8902a0.js"><link rel="prefetch" href="/master/assets/js/321.853ffd08.js"><link rel="prefetch" href="/master/assets/js/322.55feb576.js"><link rel="prefetch" href="/master/assets/js/323.ab163a40.js"><link rel="prefetch" href="/master/assets/js/324.217d43bd.js"><link rel="prefetch" href="/master/assets/js/325.06651f9e.js"><link rel="prefetch" href="/master/assets/js/326.f22facad.js"><link rel="prefetch" href="/master/assets/js/327.f6fae406.js"><link rel="prefetch" href="/master/assets/js/328.c426a6a9.js"><link rel="prefetch" href="/master/assets/js/329.551f86b6.js"><link rel="prefetch" href="/master/assets/js/33.28693c70.js"><link rel="prefetch" href="/master/assets/js/330.9c8ef307.js"><link rel="prefetch" href="/master/assets/js/331.908ce0d7.js"><link rel="prefetch" href="/master/assets/js/332.a140ea60.js"><link rel="prefetch" href="/master/assets/js/333.7d0fd512.js"><link rel="prefetch" href="/master/assets/js/334.80d406ba.js"><link rel="prefetch" href="/master/assets/js/335.b9cfbb3a.js"><link rel="prefetch" href="/master/assets/js/336.0010b020.js"><link rel="prefetch" href="/master/assets/js/337.e4ef11c3.js"><link rel="prefetch" href="/master/assets/js/338.d393dd7a.js"><link rel="prefetch" href="/master/assets/js/339.85fa725e.js"><link rel="prefetch" href="/master/assets/js/34.6d0309e3.js"><link rel="prefetch" href="/master/assets/js/340.23d7dd0a.js"><link rel="prefetch" href="/master/assets/js/341.4f502eaf.js"><link rel="prefetch" href="/master/assets/js/342.52ede417.js"><link rel="prefetch" href="/master/assets/js/343.471931a2.js"><link rel="prefetch" href="/master/assets/js/344.329e5e9b.js"><link rel="prefetch" href="/master/assets/js/345.774a8634.js"><link rel="prefetch" href="/master/assets/js/346.492420c0.js"><link rel="prefetch" href="/master/assets/js/347.7a2d6900.js"><link rel="prefetch" href="/master/assets/js/348.50aaebf0.js"><link rel="prefetch" href="/master/assets/js/349.cbb83609.js"><link rel="prefetch" href="/master/assets/js/35.1379a2bc.js"><link rel="prefetch" href="/master/assets/js/350.f38e106b.js"><link rel="prefetch" href="/master/assets/js/351.df70adc5.js"><link rel="prefetch" href="/master/assets/js/352.523f52d5.js"><link rel="prefetch" href="/master/assets/js/353.d75d3809.js"><link rel="prefetch" href="/master/assets/js/354.ee10220e.js"><link rel="prefetch" href="/master/assets/js/355.5651d8a4.js"><link rel="prefetch" href="/master/assets/js/356.e15b0581.js"><link rel="prefetch" href="/master/assets/js/357.835c5b0d.js"><link rel="prefetch" href="/master/assets/js/358.68b150d4.js"><link rel="prefetch" href="/master/assets/js/359.d285592c.js"><link rel="prefetch" href="/master/assets/js/36.ed017118.js"><link rel="prefetch" href="/master/assets/js/360.5075936e.js"><link rel="prefetch" href="/master/assets/js/361.3313b0e2.js"><link rel="prefetch" href="/master/assets/js/362.72d06824.js"><link rel="prefetch" href="/master/assets/js/363.5bde636a.js"><link rel="prefetch" href="/master/assets/js/364.8616684e.js"><link rel="prefetch" href="/master/assets/js/365.6d2a5703.js"><link rel="prefetch" href="/master/assets/js/366.e964e241.js"><link rel="prefetch" href="/master/assets/js/367.9a4601e1.js"><link rel="prefetch" href="/master/assets/js/368.e0748edb.js"><link rel="prefetch" href="/master/assets/js/369.337fc5fc.js"><link rel="prefetch" href="/master/assets/js/37.77d9fa97.js"><link rel="prefetch" href="/master/assets/js/370.1a7e1e02.js"><link rel="prefetch" href="/master/assets/js/371.bc51ac46.js"><link rel="prefetch" href="/master/assets/js/372.3f94e70f.js"><link rel="prefetch" href="/master/assets/js/373.c574f9b8.js"><link rel="prefetch" href="/master/assets/js/374.c981601d.js"><link rel="prefetch" href="/master/assets/js/375.2f50fb45.js"><link rel="prefetch" href="/master/assets/js/376.36a9d1a4.js"><link rel="prefetch" href="/master/assets/js/377.f0752b11.js"><link rel="prefetch" href="/master/assets/js/378.37306cd3.js"><link rel="prefetch" href="/master/assets/js/379.d6e16f80.js"><link rel="prefetch" href="/master/assets/js/380.2085ebe9.js"><link rel="prefetch" href="/master/assets/js/381.7c5ccc77.js"><link rel="prefetch" href="/master/assets/js/382.2378aadd.js"><link rel="prefetch" href="/master/assets/js/383.14ee683b.js"><link rel="prefetch" href="/master/assets/js/384.4da721b1.js"><link rel="prefetch" href="/master/assets/js/385.27a4c34f.js"><link rel="prefetch" href="/master/assets/js/386.67973f5c.js"><link rel="prefetch" href="/master/assets/js/387.d0a04f81.js"><link rel="prefetch" href="/master/assets/js/388.395fbf04.js"><link rel="prefetch" href="/master/assets/js/389.e9bfb108.js"><link rel="prefetch" href="/master/assets/js/39.f2699195.js"><link rel="prefetch" href="/master/assets/js/390.293ecb82.js"><link rel="prefetch" href="/master/assets/js/391.46e8dafb.js"><link rel="prefetch" href="/master/assets/js/392.643f5a47.js"><link rel="prefetch" href="/master/assets/js/393.7f6b3492.js"><link rel="prefetch" href="/master/assets/js/394.84c1bb9e.js"><link rel="prefetch" href="/master/assets/js/395.f5c4b93e.js"><link rel="prefetch" href="/master/assets/js/396.c1643a70.js"><link rel="prefetch" href="/master/assets/js/397.2554cf48.js"><link rel="prefetch" href="/master/assets/js/398.98f5e639.js"><link rel="prefetch" href="/master/assets/js/399.37d9df03.js"><link rel="prefetch" href="/master/assets/js/40.05638860.js"><link rel="prefetch" href="/master/assets/js/400.9a87757e.js"><link rel="prefetch" href="/master/assets/js/401.1e819275.js"><link rel="prefetch" href="/master/assets/js/402.6d26d66c.js"><link rel="prefetch" href="/master/assets/js/403.a664decd.js"><link rel="prefetch" href="/master/assets/js/404.f08b96bb.js"><link rel="prefetch" href="/master/assets/js/405.73493cbd.js"><link rel="prefetch" href="/master/assets/js/406.ab28da6c.js"><link rel="prefetch" href="/master/assets/js/407.9b0f68c0.js"><link rel="prefetch" href="/master/assets/js/408.cb211ff3.js"><link rel="prefetch" href="/master/assets/js/409.f961972f.js"><link rel="prefetch" href="/master/assets/js/41.0526b448.js"><link rel="prefetch" href="/master/assets/js/410.9b43079f.js"><link rel="prefetch" href="/master/assets/js/411.0730e37d.js"><link rel="prefetch" href="/master/assets/js/412.e75d0ec1.js"><link rel="prefetch" href="/master/assets/js/413.bdb1b945.js"><link rel="prefetch" href="/master/assets/js/414.6620ff56.js"><link rel="prefetch" href="/master/assets/js/415.bd0d871e.js"><link rel="prefetch" href="/master/assets/js/416.71614700.js"><link rel="prefetch" href="/master/assets/js/417.fe4ef83f.js"><link rel="prefetch" href="/master/assets/js/418.50878152.js"><link rel="prefetch" href="/master/assets/js/419.a9bfe063.js"><link rel="prefetch" href="/master/assets/js/42.0a13fb49.js"><link rel="prefetch" href="/master/assets/js/420.7d38f537.js"><link rel="prefetch" href="/master/assets/js/421.b4ccf95f.js"><link rel="prefetch" href="/master/assets/js/422.484e2ef0.js"><link rel="prefetch" href="/master/assets/js/423.1d74c5c1.js"><link rel="prefetch" href="/master/assets/js/424.d83fc9d3.js"><link rel="prefetch" href="/master/assets/js/425.5abf9968.js"><link rel="prefetch" href="/master/assets/js/426.6dca1750.js"><link rel="prefetch" href="/master/assets/js/427.28f64502.js"><link rel="prefetch" href="/master/assets/js/428.f765ca43.js"><link rel="prefetch" href="/master/assets/js/429.0b3ca9c1.js"><link rel="prefetch" href="/master/assets/js/43.fea67090.js"><link rel="prefetch" href="/master/assets/js/430.311810af.js"><link rel="prefetch" href="/master/assets/js/431.fa3ca66d.js"><link rel="prefetch" href="/master/assets/js/432.139ffa14.js"><link rel="prefetch" href="/master/assets/js/433.37f3b812.js"><link rel="prefetch" href="/master/assets/js/434.4f1cf999.js"><link rel="prefetch" href="/master/assets/js/435.42d926a2.js"><link rel="prefetch" href="/master/assets/js/436.9e3ff425.js"><link rel="prefetch" href="/master/assets/js/437.b9200beb.js"><link rel="prefetch" href="/master/assets/js/438.4eaa6727.js"><link rel="prefetch" href="/master/assets/js/439.748634c0.js"><link rel="prefetch" href="/master/assets/js/44.085c5b89.js"><link rel="prefetch" href="/master/assets/js/440.45183e5e.js"><link rel="prefetch" href="/master/assets/js/441.ff5a1d9e.js"><link rel="prefetch" href="/master/assets/js/442.bf281bbf.js"><link rel="prefetch" href="/master/assets/js/443.5e1faece.js"><link rel="prefetch" href="/master/assets/js/444.6cd0af70.js"><link rel="prefetch" href="/master/assets/js/445.858b00d6.js"><link rel="prefetch" href="/master/assets/js/446.d524efb9.js"><link rel="prefetch" href="/master/assets/js/447.a18870da.js"><link rel="prefetch" href="/master/assets/js/448.dc3897cd.js"><link rel="prefetch" href="/master/assets/js/449.3c0db057.js"><link rel="prefetch" href="/master/assets/js/45.b58ad431.js"><link rel="prefetch" href="/master/assets/js/450.2f323905.js"><link rel="prefetch" href="/master/assets/js/451.a471001c.js"><link rel="prefetch" href="/master/assets/js/452.6e8c1338.js"><link rel="prefetch" href="/master/assets/js/453.f03d4ba0.js"><link rel="prefetch" href="/master/assets/js/454.15c95853.js"><link rel="prefetch" href="/master/assets/js/455.7c85dc53.js"><link rel="prefetch" href="/master/assets/js/456.65e3ec41.js"><link rel="prefetch" href="/master/assets/js/457.caa2a57b.js"><link rel="prefetch" href="/master/assets/js/458.59629f56.js"><link rel="prefetch" href="/master/assets/js/459.ce45b460.js"><link rel="prefetch" href="/master/assets/js/46.d8ae27b6.js"><link rel="prefetch" href="/master/assets/js/460.1eb24fca.js"><link rel="prefetch" href="/master/assets/js/461.62b2f9f9.js"><link rel="prefetch" href="/master/assets/js/462.3116c811.js"><link rel="prefetch" href="/master/assets/js/463.91bfa560.js"><link rel="prefetch" href="/master/assets/js/464.5908591f.js"><link rel="prefetch" href="/master/assets/js/465.38e2e8c4.js"><link rel="prefetch" href="/master/assets/js/466.3dc5933c.js"><link rel="prefetch" href="/master/assets/js/467.4723bb55.js"><link rel="prefetch" href="/master/assets/js/468.d6d9bac4.js"><link rel="prefetch" href="/master/assets/js/469.dc9e1c3c.js"><link rel="prefetch" href="/master/assets/js/47.aa0eb504.js"><link rel="prefetch" href="/master/assets/js/470.773fd9cc.js"><link rel="prefetch" href="/master/assets/js/471.203d91a7.js"><link rel="prefetch" href="/master/assets/js/472.f9a561ae.js"><link rel="prefetch" href="/master/assets/js/473.b260b918.js"><link rel="prefetch" href="/master/assets/js/474.0085e319.js"><link rel="prefetch" href="/master/assets/js/475.4b0dec44.js"><link rel="prefetch" href="/master/assets/js/476.a03debb8.js"><link rel="prefetch" href="/master/assets/js/477.f6ec0c3e.js"><link rel="prefetch" href="/master/assets/js/478.0ae8ed49.js"><link rel="prefetch" href="/master/assets/js/479.ae1620d6.js"><link rel="prefetch" href="/master/assets/js/48.e2323234.js"><link rel="prefetch" href="/master/assets/js/480.f99cedf7.js"><link rel="prefetch" href="/master/assets/js/481.be5b63b8.js"><link rel="prefetch" href="/master/assets/js/482.fe886a2f.js"><link rel="prefetch" href="/master/assets/js/483.5ee64192.js"><link rel="prefetch" href="/master/assets/js/484.86296b8d.js"><link rel="prefetch" href="/master/assets/js/485.c364c6fd.js"><link rel="prefetch" href="/master/assets/js/486.7c2dea5e.js"><link rel="prefetch" href="/master/assets/js/487.277b086c.js"><link rel="prefetch" href="/master/assets/js/488.ceb4cd7b.js"><link rel="prefetch" href="/master/assets/js/489.7c79e6c3.js"><link rel="prefetch" href="/master/assets/js/49.020b6499.js"><link rel="prefetch" href="/master/assets/js/490.958a04d4.js"><link rel="prefetch" href="/master/assets/js/491.6196b74b.js"><link rel="prefetch" href="/master/assets/js/492.706c913e.js"><link rel="prefetch" href="/master/assets/js/493.d2272329.js"><link rel="prefetch" href="/master/assets/js/494.cc1a30ee.js"><link rel="prefetch" href="/master/assets/js/495.98eeda92.js"><link rel="prefetch" href="/master/assets/js/496.0d417300.js"><link rel="prefetch" href="/master/assets/js/497.d88aebd8.js"><link rel="prefetch" href="/master/assets/js/498.6af0d1e7.js"><link rel="prefetch" href="/master/assets/js/499.83935014.js"><link rel="prefetch" href="/master/assets/js/5.c68ea6a2.js"><link rel="prefetch" href="/master/assets/js/50.1f6c28c2.js"><link rel="prefetch" href="/master/assets/js/500.d92f48f9.js"><link rel="prefetch" href="/master/assets/js/501.e7a2396a.js"><link rel="prefetch" href="/master/assets/js/502.e35e18b9.js"><link rel="prefetch" href="/master/assets/js/503.b2ec138a.js"><link rel="prefetch" href="/master/assets/js/504.0ceaf80b.js"><link rel="prefetch" href="/master/assets/js/505.50306893.js"><link rel="prefetch" href="/master/assets/js/506.df96322c.js"><link rel="prefetch" href="/master/assets/js/507.019b9a9e.js"><link rel="prefetch" href="/master/assets/js/508.8e14cbc2.js"><link rel="prefetch" href="/master/assets/js/509.3a51849f.js"><link rel="prefetch" href="/master/assets/js/51.c8ffaab3.js"><link rel="prefetch" href="/master/assets/js/510.2fedfc5a.js"><link rel="prefetch" href="/master/assets/js/511.b3cda21c.js"><link rel="prefetch" href="/master/assets/js/512.8f5cdff8.js"><link rel="prefetch" href="/master/assets/js/513.b0b010ae.js"><link rel="prefetch" href="/master/assets/js/514.1b8b722d.js"><link rel="prefetch" href="/master/assets/js/515.d209a93c.js"><link rel="prefetch" href="/master/assets/js/516.09dc19f3.js"><link rel="prefetch" href="/master/assets/js/517.f2fe194c.js"><link rel="prefetch" href="/master/assets/js/518.65536383.js"><link rel="prefetch" href="/master/assets/js/519.57a9825a.js"><link rel="prefetch" href="/master/assets/js/52.8d440bec.js"><link rel="prefetch" href="/master/assets/js/520.4e146457.js"><link rel="prefetch" href="/master/assets/js/521.2bdb7435.js"><link rel="prefetch" href="/master/assets/js/522.de6850bc.js"><link rel="prefetch" href="/master/assets/js/523.39481db5.js"><link rel="prefetch" href="/master/assets/js/524.863d72da.js"><link rel="prefetch" href="/master/assets/js/525.8770258c.js"><link rel="prefetch" href="/master/assets/js/526.fbf9c129.js"><link rel="prefetch" href="/master/assets/js/527.79ff0e7b.js"><link rel="prefetch" href="/master/assets/js/528.900ff516.js"><link rel="prefetch" href="/master/assets/js/529.02fbd415.js"><link rel="prefetch" href="/master/assets/js/53.8e285894.js"><link rel="prefetch" href="/master/assets/js/530.af8d97a6.js"><link rel="prefetch" href="/master/assets/js/531.6b1ed1ed.js"><link rel="prefetch" href="/master/assets/js/532.1ed498f7.js"><link rel="prefetch" href="/master/assets/js/533.16e89f91.js"><link rel="prefetch" href="/master/assets/js/534.35a0f7b7.js"><link rel="prefetch" href="/master/assets/js/535.e90fa7bf.js"><link rel="prefetch" href="/master/assets/js/536.6e138588.js"><link rel="prefetch" href="/master/assets/js/537.4111daf2.js"><link rel="prefetch" href="/master/assets/js/538.d59fe31e.js"><link rel="prefetch" href="/master/assets/js/539.f094405d.js"><link rel="prefetch" href="/master/assets/js/54.9d88a461.js"><link rel="prefetch" href="/master/assets/js/540.3047ad3f.js"><link rel="prefetch" href="/master/assets/js/541.41d92083.js"><link rel="prefetch" href="/master/assets/js/542.5bbaad38.js"><link rel="prefetch" href="/master/assets/js/543.83d851d1.js"><link rel="prefetch" href="/master/assets/js/544.7ad739f7.js"><link rel="prefetch" href="/master/assets/js/545.19f7e4ef.js"><link rel="prefetch" href="/master/assets/js/546.e1aba36b.js"><link rel="prefetch" href="/master/assets/js/547.2883e5bf.js"><link rel="prefetch" href="/master/assets/js/548.7617dfaf.js"><link rel="prefetch" href="/master/assets/js/549.897838e4.js"><link rel="prefetch" href="/master/assets/js/55.15181b6e.js"><link rel="prefetch" href="/master/assets/js/550.94c62f21.js"><link rel="prefetch" href="/master/assets/js/551.43fa5e4d.js"><link rel="prefetch" href="/master/assets/js/552.4234cbac.js"><link rel="prefetch" href="/master/assets/js/553.ec38acd9.js"><link rel="prefetch" href="/master/assets/js/554.4356ebbb.js"><link rel="prefetch" href="/master/assets/js/555.e7df1383.js"><link rel="prefetch" href="/master/assets/js/556.1f0b4874.js"><link rel="prefetch" href="/master/assets/js/557.9a77bbe4.js"><link rel="prefetch" href="/master/assets/js/558.ce33c559.js"><link rel="prefetch" href="/master/assets/js/559.87a20376.js"><link rel="prefetch" href="/master/assets/js/56.3d50384c.js"><link rel="prefetch" href="/master/assets/js/560.e585786f.js"><link rel="prefetch" href="/master/assets/js/561.69ad4060.js"><link rel="prefetch" href="/master/assets/js/562.39094238.js"><link rel="prefetch" href="/master/assets/js/563.c934343a.js"><link rel="prefetch" href="/master/assets/js/564.d14e05b1.js"><link rel="prefetch" href="/master/assets/js/565.c58bd5e8.js"><link rel="prefetch" href="/master/assets/js/566.68f0e78a.js"><link rel="prefetch" href="/master/assets/js/567.cb6fa1ff.js"><link rel="prefetch" href="/master/assets/js/568.fd8ab2db.js"><link rel="prefetch" href="/master/assets/js/569.a7c179ae.js"><link rel="prefetch" href="/master/assets/js/57.1aea1194.js"><link rel="prefetch" href="/master/assets/js/570.c74dde7e.js"><link rel="prefetch" href="/master/assets/js/571.f85328f3.js"><link rel="prefetch" href="/master/assets/js/572.54dc326c.js"><link rel="prefetch" href="/master/assets/js/573.d1e18593.js"><link rel="prefetch" href="/master/assets/js/574.34c4eeea.js"><link rel="prefetch" href="/master/assets/js/575.8e1d286f.js"><link rel="prefetch" href="/master/assets/js/576.5c835778.js"><link rel="prefetch" href="/master/assets/js/577.4a580a6f.js"><link rel="prefetch" href="/master/assets/js/578.a63a4126.js"><link rel="prefetch" href="/master/assets/js/579.91e04b88.js"><link rel="prefetch" href="/master/assets/js/58.4fbc2ea9.js"><link rel="prefetch" href="/master/assets/js/580.8a2a4042.js"><link rel="prefetch" href="/master/assets/js/581.99577b27.js"><link rel="prefetch" href="/master/assets/js/582.4ff461d0.js"><link rel="prefetch" href="/master/assets/js/583.fbb06c69.js"><link rel="prefetch" href="/master/assets/js/584.f23c795f.js"><link rel="prefetch" href="/master/assets/js/585.1d237b19.js"><link rel="prefetch" href="/master/assets/js/586.cca0aa7c.js"><link rel="prefetch" href="/master/assets/js/587.e5d010c2.js"><link rel="prefetch" href="/master/assets/js/588.3db8f0df.js"><link rel="prefetch" href="/master/assets/js/589.2e7622e2.js"><link rel="prefetch" href="/master/assets/js/59.0ef38c57.js"><link rel="prefetch" href="/master/assets/js/590.6fea4a15.js"><link rel="prefetch" href="/master/assets/js/591.6fa33b6e.js"><link rel="prefetch" href="/master/assets/js/592.5a4689a4.js"><link rel="prefetch" href="/master/assets/js/593.4d998508.js"><link rel="prefetch" href="/master/assets/js/6.92868e56.js"><link rel="prefetch" href="/master/assets/js/60.a8404a06.js"><link rel="prefetch" href="/master/assets/js/61.84841caf.js"><link rel="prefetch" href="/master/assets/js/62.4fab7488.js"><link rel="prefetch" href="/master/assets/js/63.973b7b34.js"><link rel="prefetch" href="/master/assets/js/64.aca861f7.js"><link rel="prefetch" href="/master/assets/js/65.3dbe822f.js"><link rel="prefetch" href="/master/assets/js/66.cfdd5e96.js"><link rel="prefetch" href="/master/assets/js/67.a7aa1eda.js"><link rel="prefetch" href="/master/assets/js/68.21e8af4e.js"><link rel="prefetch" href="/master/assets/js/69.0554b4a3.js"><link rel="prefetch" href="/master/assets/js/7.0c88b0c3.js"><link rel="prefetch" href="/master/assets/js/70.553933d4.js"><link rel="prefetch" href="/master/assets/js/71.28e35594.js"><link rel="prefetch" href="/master/assets/js/72.aa7b6512.js"><link rel="prefetch" href="/master/assets/js/73.b5167a15.js"><link rel="prefetch" href="/master/assets/js/74.b5c6e7ae.js"><link rel="prefetch" href="/master/assets/js/75.89ff298e.js"><link rel="prefetch" href="/master/assets/js/76.5ea0f5d5.js"><link rel="prefetch" href="/master/assets/js/77.6f131761.js"><link rel="prefetch" href="/master/assets/js/78.2fbd9d45.js"><link rel="prefetch" href="/master/assets/js/79.4440fa89.js"><link rel="prefetch" href="/master/assets/js/8.78e0d2ad.js"><link rel="prefetch" href="/master/assets/js/80.9f89b807.js"><link rel="prefetch" href="/master/assets/js/81.ccb40131.js"><link rel="prefetch" href="/master/assets/js/82.fb192421.js"><link rel="prefetch" href="/master/assets/js/83.acb6e32c.js"><link rel="prefetch" href="/master/assets/js/84.5d1d9aab.js"><link rel="prefetch" href="/master/assets/js/85.d3f82e51.js"><link rel="prefetch" href="/master/assets/js/86.3c456822.js"><link rel="prefetch" href="/master/assets/js/87.f5c79ae6.js"><link rel="prefetch" href="/master/assets/js/88.ec48f98f.js"><link rel="prefetch" href="/master/assets/js/89.cc32613b.js"><link rel="prefetch" href="/master/assets/js/9.29f74563.js"><link rel="prefetch" href="/master/assets/js/90.fddb2b07.js"><link rel="prefetch" href="/master/assets/js/91.669c34a1.js"><link rel="prefetch" href="/master/assets/js/92.92852877.js"><link rel="prefetch" href="/master/assets/js/93.26920b5f.js"><link rel="prefetch" href="/master/assets/js/94.8f7f182f.js"><link rel="prefetch" href="/master/assets/js/95.d45166c6.js"><link rel="prefetch" href="/master/assets/js/96.ec090e78.js"><link rel="prefetch" href="/master/assets/js/97.b29e3fe4.js"><link rel="prefetch" href="/master/assets/js/98.5d4decb8.js"><link rel="prefetch" href="/master/assets/js/99.7137b094.js"><link rel="prefetch" href="/master/assets/js/vendors~docsearch.8b43ba8f.js">
    <link rel="stylesheet" href="/master/assets/css/0.styles.691af086.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/master/en/" class="home-link router-link-active"><img src="/master/images/doris-logo-only.png" alt="Apache Doris" class="logo"> <span class="site-name can-hide">Apache Doris</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/master/en/downloads/downloads.html" class="nav-link">
  Download
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/master/en/administrator-guide/materialized_view.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/master/zh-CN/administrator-guide/materialized_view.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/apache/incubator-doris" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/master/en/downloads/downloads.html" class="nav-link">
  Download
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/master/en/administrator-guide/materialized_view.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/master/zh-CN/administrator-guide/materialized_view.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/apache/incubator-doris" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Downloads</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Compilation and Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting Started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Administrator Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Load Data</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/en/administrator-guide/load-data/load-manual.html" class="sidebar-link">Introduction Overview</a></li><li><a href="/master/en/administrator-guide/load-data/broker-load-manual.html" class="sidebar-link">Broker Load</a></li><li><a href="/master/en/administrator-guide/load-data/stream-load-manual.html" class="sidebar-link">Stream load</a></li><li><a href="/master/en/administrator-guide/load-data/routine-load-manual.html" class="sidebar-link">Routine Load</a></li><li><a href="/master/en/administrator-guide/load-data/insert-into-manual.html" class="sidebar-link">Insert Into</a></li><li><a href="/master/en/administrator-guide/load-data/delete-manual.html" class="sidebar-link">Delete</a></li><li><a href="/master/en/administrator-guide/load-data/load-json-format.html" class="sidebar-link">Load Json Format Data</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Schema Change</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/master/en/administrator-guide/materialized_view.html" aria-current="page" class="active sidebar-link">Materialized view</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/materialized_view.html#when-to-use-materialized-view" class="sidebar-link">When to use materialized view</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/materialized_view.html#advantage" class="sidebar-link">Advantage</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/materialized_view.html#materialized-view-vs-rollup" class="sidebar-link">Materialized View VS Rollup</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/materialized_view.html#use-materialized-views" class="sidebar-link">Use materialized views</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/materialized_view.html#best-practice-1" class="sidebar-link">Best Practice 1</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/materialized_view.html#best-practice-2-pv-uv" class="sidebar-link">Best Practice 2 PV,UV</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/materialized_view.html#best-practice-3" class="sidebar-link">Best Practice 3</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/materialized_view.html#limitations" class="sidebar-link">Limitations</a></li></ul></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>HTTP API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Maintainence Operation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Configuration</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/master/en/administrator-guide/backup-restore.html" class="sidebar-link">Backup and Recovery</a></li><li><a href="/master/en/administrator-guide/broker.html" class="sidebar-link">Broker</a></li><li><a href="/master/en/administrator-guide/colocation-join.html" class="sidebar-link">Colocation Join</a></li><li><a href="/master/en/administrator-guide/dynamic-partition.html" class="sidebar-link">Dynamic Partition</a></li><li><a href="/master/en/administrator-guide/export_manual.html" class="sidebar-link">Data export</a></li><li><a href="/master/en/administrator-guide/outfile.html" class="sidebar-link">Export Query Result</a></li><li><a href="/master/en/administrator-guide/privilege.html" class="sidebar-link">Authority Management</a></li><li><a href="/master/en/administrator-guide/running-profile.html" class="sidebar-link">Statistics of query execution</a></li><li><a href="/master/en/administrator-guide/small-file-mgr.html" class="sidebar-link">File Manager</a></li><li><a href="/master/en/administrator-guide/sql-mode.html" class="sidebar-link">SQL MODE</a></li><li><a href="/master/en/administrator-guide/time-zone.html" class="sidebar-link">Time zone</a></li><li><a href="/master/en/administrator-guide/variables.html" class="sidebar-link">Variable</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Extending Ability</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Design Documents</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL Manual</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developer Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Apache Community</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="materialized-view"><a href="#materialized-view" class="header-anchor">#</a> Materialized view</h1> <p>A materialized view is a data set that is pre-calculated (according to a defined SELECT statement) and stored in a special table in Doris.</p> <p>The emergence of materialized views is mainly to satisfy users. It can analyze any dimension of the original detailed data, but also can quickly analyze and query fixed dimensions.</p> <h2 id="when-to-use-materialized-view"><a href="#when-to-use-materialized-view" class="header-anchor">#</a> When to use materialized view</h2> <ul><li>Analyze requirements to cover both detailed data query and fixed-dimensional query.</li> <li>The query only involves a small part of the columns or rows in the table.</li> <li>The query contains some time-consuming processing operations, such as long-time aggregation operations.</li> <li>The query needs to match different prefix indexes.</li></ul> <h2 id="advantage"><a href="#advantage" class="header-anchor">#</a> Advantage</h2> <ul><li>For those queries that frequently use the same sub-query results repeatedly, the performance is greatly improved</li> <li>Doris automatically maintains the data of the materialized view, whether it is a new import or delete operation, it can ensure the data consistency of the base table and the materialized view table. No need for any additional labor maintenance costs.</li> <li>When querying, it will automatically match the optimal materialized view and read data directly from the materialized view.</li></ul> <p><em>Automatic maintenance of materialized view data will cause some maintenance overhead, which will be explained in the limitations of materialized views later.</em></p> <h2 id="materialized-view-vs-rollup"><a href="#materialized-view-vs-rollup" class="header-anchor">#</a> Materialized View VS Rollup</h2> <p>Before the materialized view function, users generally used the Rollup function to improve query efficiency through pre-aggregation. However, Rollup has certain limitations. It cannot do pre-aggregation based on the detailed model.</p> <p>Materialized views cover the functions of Rollup while also supporting richer aggregate functions. So the materialized view is actually a superset of Rollup.</p> <p>In other words, the functions previously supported by the <code>ALTER TABLE ADD ROLLUP</code> syntax can now be implemented by <code>CREATE MATERIALIZED VIEW</code>.</p> <h2 id="use-materialized-views"><a href="#use-materialized-views" class="header-anchor">#</a> Use materialized views</h2> <p>The Doris system provides a complete set of DDL syntax for materialized views, including creating, viewing, and deleting. The syntax of DDL is consistent with PostgreSQL and Oracle.</p> <h3 id="create-a-materialized-view"><a href="#create-a-materialized-view" class="header-anchor">#</a> Create a materialized view</h3> <p>Here you must first decide what kind of materialized view to create based on the characteristics of your query statement. This is not to say that your materialized view definition is exactly the same as one of your query statements. There are two principles here:</p> <ol><li><strong>Abstract</strong> from the query statement, the grouping and aggregation methods shared by multiple queries are used as the definition of the materialized view.</li> <li>It is not necessary to create materialized views for all dimension combinations.</li></ol> <p>First of all, the first point, if a materialized view is abstracted, and multiple queries can be matched to this materialized view. This materialized view works best. Because the maintenance of the materialized view itself also consumes resources.</p> <p>If the materialized view only fits a particular query, and other queries do not use this materialized view. As a result, the materialized view is not cost-effective, which not only occupies the storage resources of the cluster, but cannot serve more queries.</p> <p>Therefore, users need to combine their own query statements and data dimension information to abstract the definition of some materialized views.</p> <p>The second point is that in the actual analysis query, not all dimensional analysis will be covered. Therefore, it is enough to create a materialized view for the commonly used combination of dimensions, so as to achieve a space and time balance.</p> <p>The materialized view can be created by the following command. Creating a materialized view is an asynchronous operation, which means that after the user successfully submits the creation task, Doris will calculate the existing data in the background until the creation is successful.</p> <div class="language- extra-class"><pre class="language-text"><code>CREATE MATERIALIZED VIEW
</code></pre></div><p>The specific syntax can be viewed through the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>HELP CREATE MATERIALIZED VIEW
</code></pre></div><h3 id="support-aggregate-functions"><a href="#support-aggregate-functions" class="header-anchor">#</a> Support aggregate functions</h3> <p>The aggregate functions currently supported by the materialized view function are:</p> <ul><li>SUM, MIN, MAX (Version 0.12)</li> <li>COUNT, BITMAP_UNION, HLL_UNION (Version 0.13)</li></ul> <h3 id="update-strategy"><a href="#update-strategy" class="header-anchor">#</a> Update strategy</h3> <p>In order to ensure the data consistency between the materialized view table and the Base table, Doris will import, delete and other operations on the Base table are synchronized to the materialized view table. And through incremental update to improve update efficiency. To ensure atomicity through transaction.</p> <p>For example, if the user inserts data into the base table through the INSERT command, this data will be inserted into the materialized view synchronously. When both the base table and the materialized view table are written successfully, the INSERT command will return successfully. To</p> <h3 id="query-automatic-matching"><a href="#query-automatic-matching" class="header-anchor">#</a> Query automatic matching</h3> <p>After the materialized view is successfully created, the user's query does not need to be changed, that is, it is still the base table of the query. Doris will automatically select an optimal materialized view based on the current query statement, read data from the materialized view and calculate it.</p> <p>Users can use the EXPLAIN command to check whether the current query uses a materialized view.</p> <p>The matching relationship between the aggregation in the materialized view and the aggregation in the query:</p> <table><thead><tr><th>Materialized View Aggregation</th> <th>Query Aggregation</th></tr></thead> <tbody><tr><td>sum</td> <td>sum</td></tr> <tr><td>min</td> <td>min</td></tr> <tr><td>max</td> <td>max</td></tr> <tr><td>count</td> <td>count</td></tr> <tr><td>bitmap_union</td> <td>bitmap_union, bitmap_union_count, count(distinct)</td></tr> <tr><td>hll_union</td> <td>hll_raw_agg, hll_union_agg, ndv, approx_count_distinct</td></tr></tbody></table> <p>After the aggregation functions of bitmap and hll match the materialized view in the query, the aggregation operator of the query will be rewritten according to the table structure of the materialized view. See example 2 for details.</p> <h3 id="query-materialized-views"><a href="#query-materialized-views" class="header-anchor">#</a> Query materialized views</h3> <p>Check what materialized views the current table has, and what their table structure is. Through the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL [test]&gt; desc mv_test all;
+-----------+---------------+-----------------+----------+------+-------+---------+--------------+
| IndexName | IndexKeysType | Field           | Type     | Null | Key   | Default | Extra        |
+-----------+---------------+-----------------+----------+------+-------+---------+--------------+
| mv_test   | DUP_KEYS      | k1              | INT      | Yes  | true  | NULL    |              |
|           |               | k2              | BIGINT   | Yes  | true  | NULL    |              |
|           |               | k3              | LARGEINT | Yes  | true  | NULL    |              |
|           |               | k4              | SMALLINT | Yes  | false | NULL    | NONE         |
|           |               |                 |          |      |       |         |              |
| mv_2      | AGG_KEYS      | k2              | BIGINT   | Yes  | true  | NULL    |              |
|           |               | k4              | SMALLINT | Yes  | false | NULL    | MIN          |
|           |               | k1              | INT      | Yes  | false | NULL    | MAX          |
|           |               |                 |          |      |       |         |              |
| mv_3      | AGG_KEYS      | k1              | INT      | Yes  | true  | NULL    |              |
|           |               | to_bitmap(`k2`) | BITMAP   | No   | false |         | BITMAP_UNION |
|           |               |                 |          |      |       |         |              |
| mv_1      | AGG_KEYS      | k4              | SMALLINT | Yes  | true  | NULL    |              |
|           |               | k1              | BIGINT   | Yes  | false | NULL    | SUM          |
|           |               | k3              | LARGEINT | Yes  | false | NULL    | SUM          |
|           |               | k2              | BIGINT   | Yes  | false | NULL    | MIN          |
+-----------+---------------+-----------------+----------+------+-------+---------+--------------+
</code></pre></div><p>You can see that the current <code>mv_test</code> table has three materialized views: mv_1, mv_2 and mv_3, and their table structure.</p> <h3 id="delete-materialized-view"><a href="#delete-materialized-view" class="header-anchor">#</a> Delete materialized view</h3> <p>If the user no longer needs the materialized view, you can delete the materialized view with the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>DROP MATERIALIZED VIEW
</code></pre></div><p>The specific syntax can be viewed through the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>HELP DROP MATERIALIZED VIEW
</code></pre></div><h2 id="best-practice-1"><a href="#best-practice-1" class="header-anchor">#</a> Best Practice 1</h2> <p>The use of materialized views is generally divided into the following steps:</p> <ol><li>Create a materialized view</li> <li>Asynchronously check whether the materialized view has been constructed</li> <li>Query and automatically match materialized views</li></ol> <p><strong>First is the first step: Create a materialized view</strong></p> <p>Assume that the user has a sales record list, which stores the transaction id, salesperson, sales store, sales time, and amount of each transaction. The table building statement is:</p> <div class="language- extra-class"><pre class="language-text"><code>create table sales_records(record_id int, seller_id int, store_id int, sale_date date, sale_amt bigint) distributed by hash(record_id) properties(&quot;replication_num&quot; = &quot;1&quot;);
</code></pre></div><p>The table structure of this <code>sales_records</code> is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL [test]&gt; desc sales_records;
+-----------+--------+------+-------+---------+--- ----+
| Field | Type | Null | Key | Default | Extra |
+-----------+--------+------+-------+---------+--- ----+
| record_id | INT | Yes | true | NULL | |
| seller_id | INT | Yes | true | NULL | |
| store_id | INT | Yes | true | NULL | |
| sale_date | DATE | Yes | false | NULL | NONE |
| sale_amt | BIGINT | Yes | false | NULL | NONE |
+-----------+--------+------+-------+---------+--- ----+
</code></pre></div><p>At this time, if the user often performs an analysis query on the sales volume of different stores, you can create a materialized view for the <code>sales_records</code> table to group the sales stores and sum the sales of the same sales stores. The creation statement is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL [test]&gt; create materialized view store_amt as select store_id, sum(sale_amt) from sales_records group by store_id;
</code></pre></div><p>The backend returns to the following figure, indicating that the task of creating a materialized view is submitted successfully.</p> <div class="language- extra-class"><pre class="language-text"><code>Query OK, 0 rows affected (0.012 sec)
</code></pre></div><p><strong>Step 2: Check whether the materialized view has been built</strong></p> <p>Since the creation of a materialized view is an asynchronous operation, after the user submits the task of creating a materialized view, he needs to asynchronously check whether the materialized view has been constructed through a command. The command is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>SHOW ALTER TABLE ROLLUP FROM db_name; (Version 0.12)
SHOW ALTER TABLE MATERIALIZED VIEW FROM db_name; (Version 0.13)
</code></pre></div><p>In this command, <code>db_name</code> is a parameter, you need to replace it with your real db name. The result of the command is to display all the tasks of creating a materialized view of this db. The results are as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>+-------+---------------+---------------------+--- ------------------+---------------+--------------- --+----------+---------------+-----------+-------- -------------------------------------------------- -------------------------------------------------- -------------+----------+---------+
| JobId | TableName | CreateTime | FinishedTime | BaseIndexName | RollupIndexName | RollupId | TransactionId | State | Msg | Progress | Timeout |
+-------+---------------+---------------------+--- ------------------+---------------+--------------- --+----------+---------------+-----------+-------- -------------------------------------------------- -------------------------------------------------- -------------+----------+---------+
| 22036 | sales_records | 2020-07-30 20:04:28 | 2020-07-30 20:04:57 | sales_records | store_amt | 22037 | 5008 | FINISHED | | NULL | 86400 |
+-------+---------------+---------------------+--- ------------------+---------------+--------------- --+----------+---------------+-----------+-------- ----------------------------------------

</code></pre></div><p>Among them, TableName refers to which table the data of the materialized view comes from, and RollupIndexName refers to the name of the materialized view. One of the more important indicators is State.</p> <p>When the State of the task of creating a materialized view has become FINISHED, it means that the materialized view has been created successfully. This means that it is possible to automatically match this materialized view when querying.</p> <p><strong>Step 3: Query</strong></p> <p>After the materialized view is created, when users query the sales volume of different stores, they will directly read the aggregated data from the materialized view <code>store_amt</code> just created. To achieve the effect of improving query efficiency.</p> <p>The user's query still specifies the query <code>sales_records</code> table, for example:</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT store_id, sum(sale_amt) FROM sales_records GROUP BY store_id;
</code></pre></div><p>The above query will automatically match <code>store_amt</code>. The user can use the following command to check whether the current query matches the appropriate materialized view.</p> <div class="language- extra-class"><pre class="language-text"><code>EXPLAIN SELECT store_id, sum(sale_amt) FROM sales_records GROUP BY store_id;
+-----------------------------------------------------------------------------+
| Explain String                                                              |
+-----------------------------------------------------------------------------+
| PLAN FRAGMENT 0                                                             |
|  OUTPUT EXPRS:&lt;slot 2&gt; `store_id` | &lt;slot 3&gt; sum(`sale_amt`)                |
|   PARTITION: UNPARTITIONED                                                  |
|                                                                             |
|   RESULT SINK                                                               |
|                                                                             |
|   4:EXCHANGE                                                                |
|                                                                             |
| PLAN FRAGMENT 1                                                             |
|  OUTPUT EXPRS:                                                              |
|   PARTITION: HASH_PARTITIONED: &lt;slot 2&gt; `store_id`                          |
|                                                                             |
|   STREAM DATA SINK                                                          |
|     EXCHANGE ID: 04                                                         |
|     UNPARTITIONED                                                           |
|                                                                             |
|   3:AGGREGATE (merge finalize)                                              |
|   |  output: sum(&lt;slot 3&gt; sum(`sale_amt`))                                  |
|   |  group by: &lt;slot 2&gt; `store_id`                                          |
|   |                                                                         |
|   2:EXCHANGE                                                                |
|                                                                             |
| PLAN FRAGMENT 2                                                             |
|  OUTPUT EXPRS:                                                              |
|   PARTITION: RANDOM                                                         |
|                                                                             |
|   STREAM DATA SINK                                                          |
|     EXCHANGE ID: 02                                                         |
|     HASH_PARTITIONED: &lt;slot 2&gt; `store_id`                                   |
|                                                                             |
|   1:AGGREGATE (update serialize)                                            |
|   |  STREAMING                                                              |
|   |  output: sum(`sale_amt`)                                                |
|   |  group by: `store_id`                                                   |
|   |                                                                         |
|   0:OlapScanNode                                                            |
|      TABLE: sales_records                                                   |
|      PREAGGREGATION: ON                                                     |
|      partitions=1/1                                                         |
|      rollup: store_amt                                                      |
|      tabletRatio=10/10                                                      |
|      tabletList=22038,22040,22042,22044,22046,22048,22050,22052,22054,22056 |
|      cardinality=0                                                          |
|      avgRowSize=0.0                                                         |
|      numNodes=1                                                             |
+-----------------------------------------------------------------------------+
45 rows in set (0.006 sec)
</code></pre></div><p>The final thing is the rollup attribute in OlapScanNode. You can see that the rollup of the current query shows <code>store_amt</code>. That is to say, the query has been correctly matched to the materialized view <code>store_amt</code>, and data is read directly from the materialized view.</p> <h2 id="best-practice-2-pv-uv"><a href="#best-practice-2-pv-uv" class="header-anchor">#</a> Best Practice 2 PV,UV</h2> <p>Business scenario: Calculate the UV and PV of advertising</p> <p>Assuming that the user's original ad click data is stored in Doris, then for ad PV and UV queries, the query speed can be improved by creating a materialized view of <code>bitmap_union</code>.</p> <p>Use the following statement to first create a table that stores the details of the advertisement click data, including the click event of each click, what advertisement was clicked, what channel clicked, and who was the user who clicked.</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL [test]&gt; create table advertiser_view_record(time date, advertiser varchar(10), channel varchar(10), user_id int) distributed by hash(time) properties(&quot;replication_num&quot; = &quot;1&quot;);
Query OK, 0 rows affected (0.014 sec)
</code></pre></div><p>The original ad click data table structure is:</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL [test]&gt; desc advertiser_view_record;
+------------+-------------+------+-------+---------+-------+
| Field      | Type        | Null | Key   | Default | Extra |
+------------+-------------+------+-------+---------+-------+
| time       | DATE        | Yes  | true  | NULL    |       |
| advertiser | VARCHAR(10) | Yes  | true  | NULL    |       |
| channel    | VARCHAR(10) | Yes  | false | NULL    | NONE  |
| user_id    | INT         | Yes  | false | NULL    | NONE  |
+------------+-------------+------+-------+---------+-------+
4 rows in set (0.001 sec)
</code></pre></div><ol><li><p>Create a materialized view</p> <p>Since the user wants to query the UV value of the advertisement, that is, a precise de-duplication of users of the same advertisement is required, the user's query is generally:</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT advertiser, channel, count(distinct user_id) FROM advertiser_view_record GROUP BY advertiser, channel;
</code></pre></div><p>For this kind of UV-seeking scene, we can create a materialized view with <code>bitmap_union</code> to achieve a precise deduplication effect in advance.</p> <p>In Doris, the result of <code>count(distinct)</code> aggregation is exactly the same as the result of <code>bitmap_union_count</code> aggregation. And <code>bitmap_union_count</code> is equal to the result of <code>bitmap_union</code> to calculate count, so if the query ** involves <code>count(distinct)</code>, you can speed up the query by creating a materialized view with <code>bitmap_union</code> aggregation.**</p> <p>For this case, you can create a materialized view that accurately deduplicates <code>user_id</code> based on advertising and channel grouping.</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL [test]&gt; create materialized view advertiser_uv as select advertiser, channel, bitmap_union(to_bitmap(user_id)) from advertiser_view_record group by advertiser, channel;
Query OK, 0 rows affected (0.012 sec)
</code></pre></div><p>*Note: Because the user_id itself is an INT type, it is called <code>bitmap_union</code> directly in Doris. The fields need to be converted to bitmap type through the function <code>to_bitmap</code> first, and then <code>bitmap_union</code> can be aggregated. *</p> <p>After the creation is complete, the table structure of the advertisement click schedule and the materialized view table is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL [test]&gt; desc advertiser_view_record all;
+------------------------+---------------+----------------------+-------------+------+-------+---------+--------------+
| IndexName              | IndexKeysType | Field                | Type        | Null | Key   | Default | Extra        |
+------------------------+---------------+----------------------+-------------+------+-------+---------+--------------+
| advertiser_view_record | DUP_KEYS      | time                 | DATE        | Yes  | true  | NULL    |              |
|                        |               | advertiser           | VARCHAR(10) | Yes  | true  | NULL    |              |
|                        |               | channel              | VARCHAR(10) | Yes  | false | NULL    | NONE         |
|                        |               | user_id              | INT         | Yes  | false | NULL    | NONE         |
|                        |               |                      |             |      |       |         |              |
| advertiser_uv          | AGG_KEYS      | advertiser           | VARCHAR(10) | Yes  | true  | NULL    |              |
|                        |               | channel              | VARCHAR(10) | Yes  | true  | NULL    |              |
|                        |               | to_bitmap(`user_id`) | BITMAP      | No   | false |         | BITMAP_UNION |
+------------------------+---------------+----------------------+-------------+------+-------+---------+--------------+
</code></pre></div></li> <li><p>Automatic query matching</p> <p>When the materialized view table is created, when querying the advertisement UV, Doris will automatically query the data from the materialized view <code>advertiser_uv</code> just created. For example, the original query statement is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT advertiser, channel, count(distinct user_id) FROM advertiser_view_record GROUP BY advertiser, channel;
</code></pre></div><p>After the materialized view is selected, the actual query will be transformed into:</p> <div class="language- extra-class"><pre class="language-text"><code>SELECT advertiser, channel, bitmap_union_count(to_bitmap(user_id)) FROM advertiser_uv GROUP BY advertiser, channel;
</code></pre></div><p>Through the EXPLAIN command, you can check whether Doris matches the materialized view:</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL [test]&gt; explain SELECT advertiser, channel, count(distinct user_id) FROM  advertiser_view_record GROUP BY advertiser, channel;
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| Explain String                                                                                                                                                    |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
| PLAN FRAGMENT 0                                                                                                                                                   |
|  OUTPUT EXPRS:&lt;slot 7&gt; `advertiser` | &lt;slot 8&gt; `channel` | &lt;slot 9&gt; bitmap_union_count(`default_cluster:test`.`advertiser_view_record`.`mv_bitmap_union_user_id`) |
|   PARTITION: UNPARTITIONED                                                                                                                                        |
|                                                                                                                                                                   |
|   RESULT SINK                                                                                                                                                     |
|                                                                                                                                                                   |
|   4:EXCHANGE                                                                                                                                                      |
|                                                                                                                                                                   |
| PLAN FRAGMENT 1                                                                                                                                                   |
|  OUTPUT EXPRS:                                                                                                                                                    |
|   PARTITION: HASH_PARTITIONED: &lt;slot 4&gt; `advertiser`, &lt;slot 5&gt; `channel`                                                                                          |
|                                                                                                                                                                   |
|   STREAM DATA SINK                                                                                                                                                |
|     EXCHANGE ID: 04                                                                                                                                               |
|     UNPARTITIONED                                                                                                                                                 |
|                                                                                                                                                                   |
|   3:AGGREGATE (merge finalize)                                                                                                                                    |
|   |  output: bitmap_union_count(&lt;slot 6&gt; bitmap_union_count(`default_cluster:test`.`advertiser_view_record`.`mv_bitmap_union_user_id`))                           |
|   |  group by: &lt;slot 4&gt; `advertiser`, &lt;slot 5&gt; `channel`                                                                                                          |
|   |                                                                                                                                                               |
|   2:EXCHANGE                                                                                                                                                      |
|                                                                                                                                                                   |
| PLAN FRAGMENT 2                                                                                                                                                   |
|  OUTPUT EXPRS:                                                                                                                                                    |
|   PARTITION: RANDOM                                                                                                                                               |
|                                                                                                                                                                   |
|   STREAM DATA SINK                                                                                                                                                |
|     EXCHANGE ID: 02                                                                                                                                               |
|     HASH_PARTITIONED: &lt;slot 4&gt; `advertiser`, &lt;slot 5&gt; `channel`                                                                                                   |
|                                                                                                                                                                   |
|   1:AGGREGATE (update serialize)                                                                                                                                  |
|   |  STREAMING                                                                                                                                                    |
|   |  output: bitmap_union_count(`default_cluster:test`.`advertiser_view_record`.`mv_bitmap_union_user_id`)                                                        |
|   |  group by: `advertiser`, `channel`                                                                                                                            |
|   |                                                                                                                                                               |
|   0:OlapScanNode                                                                                                                                                  |
|      TABLE: advertiser_view_record                                                                                                                                |
|      PREAGGREGATION: ON                                                                                                                                           |
|      partitions=1/1                                                                                                                                               |
|      rollup: advertiser_uv                                                                                                                                        |
|      tabletRatio=10/10                                                                                                                                            |
|      tabletList=22084,22086,22088,22090,22092,22094,22096,22098,22100,22102                                                                                       |
|      cardinality=0                                                                                                                                                |
|      avgRowSize=0.0                                                                                                                                               |
|      numNodes=1                                                                                                                                                   |
+-------------------------------------------------------------------------------------------------------------------------------------------------------------------+
45 rows in set (0.030 sec)
</code></pre></div><p>In the result of EXPLAIN, you can first see that the rollup attribute value of OlapScanNode is advertiser_uv. In other words, the query directly scans the data of the materialized view. The match is successful.</p> <p>Secondly, the calculation of <code>count(distinct)</code> for the <code>user_id</code> field is rewritten as <code>bitmap_union_count</code>. That is to achieve the effect of precise deduplication through bitmap.</p></li></ol> <h2 id="best-practice-3"><a href="#best-practice-3" class="header-anchor">#</a> Best Practice 3</h2> <p>Business scenario: matching a richer prefix index</p> <p>The user's original table has three columns (k1, k2, k3). Among them, k1, k2 are prefix index columns. At this time, if the user query condition contains <code>where k1=a and k2=b</code>, the query can be accelerated through the index.</p> <p>But in some cases, the user's filter conditions cannot match the prefix index, such as <code>where k3=c</code>. Then the query speed cannot be improved through the index.</p> <p>This problem can be solved by creating a materialized view with k3 as the first column.</p> <ol><li><p>Create a materialized view</p> <div class="language- extra-class"><pre class="language-text"><code>CREATE MATERIALIZED VIEW mv_1 as SELECT k3, k2, k1 FROM tableA ORDER BY k3;
</code></pre></div><p>After the creation of the above grammar is completed, the complete detail data is retained in the materialized view, and the prefix index of the materialized view is the k3 column. The table structure is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>MySQL [test]&gt; desc tableA all;
+-----------+---------------+-------+------+------+-------+---------+-------+
| IndexName | IndexKeysType | Field | Type | Null | Key   | Default | Extra |
+-----------+---------------+-------+------+------+-------+---------+-------+
| tableA    | DUP_KEYS      | k1    | INT  | Yes  | true  | NULL    |       |
|           |               | k2    | INT  | Yes  | true  | NULL    |       |
|           |               | k3    | INT  | Yes  | true  | NULL    |       |
|           |               |       |      |      |       |         |       |
| mv_1      | DUP_KEYS      | k3    | INT  | Yes  | true  | NULL    |       |
|           |               | k2    | INT  | Yes  | false | NULL    | NONE  |
|           |               | k1    | INT  | Yes  | false | NULL    | NONE  |
+-----------+---------------+-------+------+------+-------+---------+-------+
</code></pre></div></li> <li><p>Query matching</p> <p>At this time, if the user's query has k3 column, the filter condition is, for example:</p> <div class="language- extra-class"><pre class="language-text"><code>select k1, k2, k3 from table A where k3=1;
</code></pre></div><p>At this time, the query will read data directly from the mv_1 materialized view just created. The materialized view has a prefix index on k3, and query efficiency will also be improved.</p></li></ol> <h2 id="limitations"><a href="#limitations" class="header-anchor">#</a> Limitations</h2> <ol><li>The parameter of the aggregate function of the materialized view does not support the expression only supports a single column, for example: sum(a+b) does not support.</li> <li>If the conditional column of the delete statement does not exist in the materialized view, the delete operation cannot be performed. If you must delete data, you need to delete the materialized view before deleting the data.</li> <li>Too many materialized views on a single table will affect the efficiency of importing: When importing data, the materialized view and base table data are updated synchronously. If a table has more than 10 materialized view tables, it may cause the import speed to be very high. slow. This is the same as a single import needs to import 10 tables at the same time.</li> <li>The same column with different aggregate functions cannot appear in a materialized view at the same time. For example, select sum(a), min(a) from table are not supported.</li></ol></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/apache/incubator-doris/edit/master/docs/en/administrator-guide/materialized_view.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">8/6/2020, 3:18:06 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/master/en/administrator-guide/alter-table/alter-table-temp-partition.html" class="prev">
        Temporary partition
      </a></span> <span class="next"><a href="/master/en/administrator-guide/http-actions/cancel-label.html">
        CANCEL LABEL
      </a>
      →
    </span></p></div> <footer><div class="footer-wrapper"><p class="apache-info"><a href="https://apache.org"><img width="200" src="/master/images/asf_logo.svg" alt="The Apache Software Foundation"></a> <a href="https://www.apache.org/events/current-event.html" style="float: right"><img src="https://www.apache.org/events/current-event-234x60.png"></a></p><p><a href="https://www.apache.org/licenses/">License</a> | <a href="https://www.apache.org/security/">Security</a> | <a href="https://www.apache.org/foundation/thanks.html">Thanks</a> | <a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></p> <p><br> <span class="footer-text">© Copyright 2020, Apache Doris(Incubating) </span> <br> <span class="footer-text">
      Apache Doris(incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
    </span></p></div></footer></main></div><div class="global-ui"></div></div>
    <script src="/master/assets/js/app.c71c86b0.js" defer></script><script src="/master/assets/js/4.070d9810.js" defer></script><script src="/master/assets/js/3.14ec8901.js" defer></script><script src="/master/assets/js/38.5166b1ea.js" defer></script>
  </body>
</html>
