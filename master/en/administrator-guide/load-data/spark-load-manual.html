<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Spark Load | Apache Doris</title>
    <meta name="generator" content="VuePress 1.5.0">
    
    <meta name="description" content="Apache Doris">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="msapplication-TileColor" content="#000000">
    <link rel="preload" href="/master/assets/css/0.styles.691af086.css" as="style"><link rel="preload" href="/master/assets/js/app.dc9f1ccf.js" as="script"><link rel="preload" href="/master/assets/js/4.070d9810.js" as="script"><link rel="preload" href="/master/assets/js/3.14ec8901.js" as="script"><link rel="preload" href="/master/assets/js/79.68baab96.js" as="script"><link rel="prefetch" href="/master/assets/js/10.97db2b92.js"><link rel="prefetch" href="/master/assets/js/100.676fd895.js"><link rel="prefetch" href="/master/assets/js/101.574ecb43.js"><link rel="prefetch" href="/master/assets/js/102.6728d023.js"><link rel="prefetch" href="/master/assets/js/103.37e157cc.js"><link rel="prefetch" href="/master/assets/js/104.407bbc6a.js"><link rel="prefetch" href="/master/assets/js/105.533ec15f.js"><link rel="prefetch" href="/master/assets/js/106.b89232dd.js"><link rel="prefetch" href="/master/assets/js/107.36c81772.js"><link rel="prefetch" href="/master/assets/js/108.b8b2ffac.js"><link rel="prefetch" href="/master/assets/js/109.8ece544f.js"><link rel="prefetch" href="/master/assets/js/11.4f193d17.js"><link rel="prefetch" href="/master/assets/js/110.61819ff1.js"><link rel="prefetch" href="/master/assets/js/111.250fe737.js"><link rel="prefetch" href="/master/assets/js/112.92e81e2e.js"><link rel="prefetch" href="/master/assets/js/113.09794da0.js"><link rel="prefetch" href="/master/assets/js/114.97a73c8e.js"><link rel="prefetch" href="/master/assets/js/115.b4534168.js"><link rel="prefetch" href="/master/assets/js/116.fe3db7c3.js"><link rel="prefetch" href="/master/assets/js/117.4cd7c4ca.js"><link rel="prefetch" href="/master/assets/js/118.55693e38.js"><link rel="prefetch" href="/master/assets/js/119.67230001.js"><link rel="prefetch" href="/master/assets/js/12.b0b9a67b.js"><link rel="prefetch" href="/master/assets/js/120.fb245292.js"><link rel="prefetch" href="/master/assets/js/121.e06410b7.js"><link rel="prefetch" href="/master/assets/js/122.c275da85.js"><link rel="prefetch" href="/master/assets/js/123.39f94977.js"><link rel="prefetch" href="/master/assets/js/124.d990f532.js"><link rel="prefetch" href="/master/assets/js/125.330c0ede.js"><link rel="prefetch" href="/master/assets/js/126.0daf742b.js"><link rel="prefetch" href="/master/assets/js/127.8e5ff983.js"><link rel="prefetch" href="/master/assets/js/128.d04a5509.js"><link rel="prefetch" href="/master/assets/js/129.bda3084c.js"><link rel="prefetch" href="/master/assets/js/13.4165254f.js"><link rel="prefetch" href="/master/assets/js/130.8d4b3784.js"><link rel="prefetch" href="/master/assets/js/131.3ae6792c.js"><link rel="prefetch" href="/master/assets/js/132.24a1afe1.js"><link rel="prefetch" href="/master/assets/js/133.bd9f1550.js"><link rel="prefetch" href="/master/assets/js/134.463c9a5c.js"><link rel="prefetch" href="/master/assets/js/135.a93687c9.js"><link rel="prefetch" href="/master/assets/js/136.c3a1b615.js"><link rel="prefetch" href="/master/assets/js/137.cf309ffb.js"><link rel="prefetch" href="/master/assets/js/138.f5756783.js"><link rel="prefetch" href="/master/assets/js/139.e33ab0cb.js"><link rel="prefetch" href="/master/assets/js/14.034f7779.js"><link rel="prefetch" href="/master/assets/js/140.bdcac668.js"><link rel="prefetch" href="/master/assets/js/141.9f39f2f5.js"><link rel="prefetch" href="/master/assets/js/142.1a6049bf.js"><link rel="prefetch" href="/master/assets/js/143.c9d47789.js"><link rel="prefetch" href="/master/assets/js/144.313f75cd.js"><link rel="prefetch" href="/master/assets/js/145.4a049f53.js"><link rel="prefetch" href="/master/assets/js/146.e0132284.js"><link rel="prefetch" href="/master/assets/js/147.773e144f.js"><link rel="prefetch" href="/master/assets/js/148.6b0cb6c1.js"><link rel="prefetch" href="/master/assets/js/149.0b9bd119.js"><link rel="prefetch" href="/master/assets/js/15.fa2b8959.js"><link rel="prefetch" href="/master/assets/js/150.5925eae0.js"><link rel="prefetch" href="/master/assets/js/151.50cd3125.js"><link rel="prefetch" href="/master/assets/js/152.fa9c540d.js"><link rel="prefetch" href="/master/assets/js/153.a001ddfc.js"><link rel="prefetch" href="/master/assets/js/154.6d945e11.js"><link rel="prefetch" href="/master/assets/js/155.7f567070.js"><link rel="prefetch" href="/master/assets/js/156.6cff3f61.js"><link rel="prefetch" href="/master/assets/js/157.9aff96f4.js"><link rel="prefetch" href="/master/assets/js/158.d0c8eb0d.js"><link rel="prefetch" href="/master/assets/js/159.5f8dc161.js"><link rel="prefetch" href="/master/assets/js/16.9af64f44.js"><link rel="prefetch" href="/master/assets/js/160.758f2b48.js"><link rel="prefetch" href="/master/assets/js/161.6c84022f.js"><link rel="prefetch" href="/master/assets/js/162.bb42440e.js"><link rel="prefetch" href="/master/assets/js/163.45fdfe26.js"><link rel="prefetch" href="/master/assets/js/164.92ff5367.js"><link rel="prefetch" href="/master/assets/js/165.6fab1712.js"><link rel="prefetch" href="/master/assets/js/166.4fcd7525.js"><link rel="prefetch" href="/master/assets/js/167.a2622bca.js"><link rel="prefetch" href="/master/assets/js/168.51cea739.js"><link rel="prefetch" href="/master/assets/js/169.328a3109.js"><link rel="prefetch" href="/master/assets/js/17.6c76d269.js"><link rel="prefetch" href="/master/assets/js/170.ea52b714.js"><link rel="prefetch" href="/master/assets/js/171.d79f4e8b.js"><link rel="prefetch" href="/master/assets/js/172.0e6335bd.js"><link rel="prefetch" href="/master/assets/js/173.afe7a2ca.js"><link rel="prefetch" href="/master/assets/js/174.cc895e5a.js"><link rel="prefetch" href="/master/assets/js/175.a16056f4.js"><link rel="prefetch" href="/master/assets/js/176.7d5bffad.js"><link rel="prefetch" href="/master/assets/js/177.c7caf1c0.js"><link rel="prefetch" href="/master/assets/js/178.bbb9367c.js"><link rel="prefetch" href="/master/assets/js/179.e000b5ba.js"><link rel="prefetch" href="/master/assets/js/18.0f361088.js"><link rel="prefetch" href="/master/assets/js/180.59411dd3.js"><link rel="prefetch" href="/master/assets/js/181.dc8f2614.js"><link rel="prefetch" href="/master/assets/js/182.08ba9820.js"><link rel="prefetch" href="/master/assets/js/183.fb3ebb55.js"><link rel="prefetch" href="/master/assets/js/184.815d6a51.js"><link rel="prefetch" href="/master/assets/js/185.2789e23d.js"><link rel="prefetch" href="/master/assets/js/186.5ced5f00.js"><link rel="prefetch" href="/master/assets/js/187.494b206d.js"><link rel="prefetch" href="/master/assets/js/188.97485884.js"><link rel="prefetch" href="/master/assets/js/189.822a833e.js"><link rel="prefetch" href="/master/assets/js/19.8e84cdad.js"><link rel="prefetch" href="/master/assets/js/190.80a89461.js"><link rel="prefetch" href="/master/assets/js/191.daf16670.js"><link rel="prefetch" href="/master/assets/js/192.b98a7cd8.js"><link rel="prefetch" href="/master/assets/js/193.345d1c1b.js"><link rel="prefetch" href="/master/assets/js/194.8aa3edad.js"><link rel="prefetch" href="/master/assets/js/195.31a0011a.js"><link rel="prefetch" href="/master/assets/js/196.7790da27.js"><link rel="prefetch" href="/master/assets/js/197.a5909bd8.js"><link rel="prefetch" href="/master/assets/js/198.464df6dc.js"><link rel="prefetch" href="/master/assets/js/199.69ce0ef4.js"><link rel="prefetch" href="/master/assets/js/20.3fedfe75.js"><link rel="prefetch" href="/master/assets/js/200.deee2050.js"><link rel="prefetch" href="/master/assets/js/201.d6da52f6.js"><link rel="prefetch" href="/master/assets/js/202.86115cda.js"><link rel="prefetch" href="/master/assets/js/203.9030c28c.js"><link rel="prefetch" href="/master/assets/js/204.0d5c0103.js"><link rel="prefetch" href="/master/assets/js/205.ecbbf185.js"><link rel="prefetch" href="/master/assets/js/206.1fed9626.js"><link rel="prefetch" href="/master/assets/js/207.5b53395f.js"><link rel="prefetch" href="/master/assets/js/208.11f3730c.js"><link rel="prefetch" href="/master/assets/js/209.d65777b1.js"><link rel="prefetch" href="/master/assets/js/21.a3c15255.js"><link rel="prefetch" href="/master/assets/js/210.b990956a.js"><link rel="prefetch" href="/master/assets/js/211.0ea5b079.js"><link rel="prefetch" href="/master/assets/js/212.85b7902c.js"><link rel="prefetch" href="/master/assets/js/213.3e06595a.js"><link rel="prefetch" href="/master/assets/js/214.2bce595e.js"><link rel="prefetch" href="/master/assets/js/215.6ccbc918.js"><link rel="prefetch" href="/master/assets/js/216.68ad3beb.js"><link rel="prefetch" href="/master/assets/js/217.eb7aea8f.js"><link rel="prefetch" href="/master/assets/js/218.abd69f48.js"><link rel="prefetch" href="/master/assets/js/219.b6478626.js"><link rel="prefetch" href="/master/assets/js/22.a24f1d2b.js"><link rel="prefetch" href="/master/assets/js/220.85232842.js"><link rel="prefetch" href="/master/assets/js/221.418f1008.js"><link rel="prefetch" href="/master/assets/js/222.06a80dcb.js"><link rel="prefetch" href="/master/assets/js/223.4f4c03e7.js"><link rel="prefetch" href="/master/assets/js/224.204bcdf5.js"><link rel="prefetch" href="/master/assets/js/225.48d8d5bc.js"><link rel="prefetch" href="/master/assets/js/226.5a23c2ce.js"><link rel="prefetch" href="/master/assets/js/227.34ba72da.js"><link rel="prefetch" href="/master/assets/js/228.0cfcd532.js"><link rel="prefetch" href="/master/assets/js/229.7e1b0031.js"><link rel="prefetch" href="/master/assets/js/23.269c4dd2.js"><link rel="prefetch" href="/master/assets/js/230.faf506b3.js"><link rel="prefetch" href="/master/assets/js/231.9fbf8e42.js"><link rel="prefetch" href="/master/assets/js/232.4235db0f.js"><link rel="prefetch" href="/master/assets/js/233.c952ef50.js"><link rel="prefetch" href="/master/assets/js/234.41b8062a.js"><link rel="prefetch" href="/master/assets/js/235.eb78c803.js"><link rel="prefetch" href="/master/assets/js/236.a867ed99.js"><link rel="prefetch" href="/master/assets/js/237.896bca3d.js"><link rel="prefetch" href="/master/assets/js/238.bb25758f.js"><link rel="prefetch" href="/master/assets/js/239.47604d6a.js"><link rel="prefetch" href="/master/assets/js/24.d43ecef7.js"><link rel="prefetch" href="/master/assets/js/240.bda7f18f.js"><link rel="prefetch" href="/master/assets/js/241.74ebff8c.js"><link rel="prefetch" href="/master/assets/js/242.4d083f3a.js"><link rel="prefetch" href="/master/assets/js/243.bbb2aec8.js"><link rel="prefetch" href="/master/assets/js/244.5ed29dd4.js"><link rel="prefetch" href="/master/assets/js/245.1a33f156.js"><link rel="prefetch" href="/master/assets/js/246.90385c67.js"><link rel="prefetch" href="/master/assets/js/247.1c549821.js"><link rel="prefetch" href="/master/assets/js/248.dccd200d.js"><link rel="prefetch" href="/master/assets/js/249.424c12c3.js"><link rel="prefetch" href="/master/assets/js/25.a0db83ef.js"><link rel="prefetch" href="/master/assets/js/250.e4f045bc.js"><link rel="prefetch" href="/master/assets/js/251.6d7625ab.js"><link rel="prefetch" href="/master/assets/js/252.95dbcfd6.js"><link rel="prefetch" href="/master/assets/js/253.ff332a21.js"><link rel="prefetch" href="/master/assets/js/254.bd15a36e.js"><link rel="prefetch" href="/master/assets/js/255.7137e67a.js"><link rel="prefetch" href="/master/assets/js/256.6f7fc13d.js"><link rel="prefetch" href="/master/assets/js/257.6dc0bf41.js"><link rel="prefetch" href="/master/assets/js/258.c93c0d38.js"><link rel="prefetch" href="/master/assets/js/259.2713558c.js"><link rel="prefetch" href="/master/assets/js/26.d4c538a9.js"><link rel="prefetch" href="/master/assets/js/260.3678572c.js"><link rel="prefetch" href="/master/assets/js/261.b587d6b1.js"><link rel="prefetch" href="/master/assets/js/262.7a3f117c.js"><link rel="prefetch" href="/master/assets/js/263.14fa3336.js"><link rel="prefetch" href="/master/assets/js/264.2aaa69df.js"><link rel="prefetch" href="/master/assets/js/265.bd4f317c.js"><link rel="prefetch" href="/master/assets/js/266.066366ab.js"><link rel="prefetch" href="/master/assets/js/267.7be2c9fb.js"><link rel="prefetch" href="/master/assets/js/268.0ffccc21.js"><link rel="prefetch" href="/master/assets/js/269.43058ec2.js"><link rel="prefetch" href="/master/assets/js/27.888c7692.js"><link rel="prefetch" href="/master/assets/js/270.b492b3a1.js"><link rel="prefetch" href="/master/assets/js/271.72a01544.js"><link rel="prefetch" href="/master/assets/js/272.a4ebc1c5.js"><link rel="prefetch" href="/master/assets/js/273.c19db3f6.js"><link rel="prefetch" href="/master/assets/js/274.4ff7b4a7.js"><link rel="prefetch" href="/master/assets/js/275.6ddd5397.js"><link rel="prefetch" href="/master/assets/js/276.8cc17db4.js"><link rel="prefetch" href="/master/assets/js/277.4fac1119.js"><link rel="prefetch" href="/master/assets/js/278.94ce2cb3.js"><link rel="prefetch" href="/master/assets/js/279.94710367.js"><link rel="prefetch" href="/master/assets/js/28.a8644c55.js"><link rel="prefetch" href="/master/assets/js/280.01ce6d11.js"><link rel="prefetch" href="/master/assets/js/281.34702dbc.js"><link rel="prefetch" href="/master/assets/js/282.4237d959.js"><link rel="prefetch" href="/master/assets/js/283.d9ccd2a9.js"><link rel="prefetch" href="/master/assets/js/284.00441c1f.js"><link rel="prefetch" href="/master/assets/js/285.fa7b97c2.js"><link rel="prefetch" href="/master/assets/js/286.c422493b.js"><link rel="prefetch" href="/master/assets/js/287.9e039afb.js"><link rel="prefetch" href="/master/assets/js/288.51156e74.js"><link rel="prefetch" href="/master/assets/js/289.12556a14.js"><link rel="prefetch" href="/master/assets/js/29.45310941.js"><link rel="prefetch" href="/master/assets/js/290.e7d4a459.js"><link rel="prefetch" href="/master/assets/js/291.be70f4d8.js"><link rel="prefetch" href="/master/assets/js/292.0e53e1b0.js"><link rel="prefetch" href="/master/assets/js/293.6c9de574.js"><link rel="prefetch" href="/master/assets/js/294.03775f99.js"><link rel="prefetch" href="/master/assets/js/295.4c8c01a7.js"><link rel="prefetch" href="/master/assets/js/296.3eb213df.js"><link rel="prefetch" href="/master/assets/js/297.b90344e0.js"><link rel="prefetch" href="/master/assets/js/298.30af7f11.js"><link rel="prefetch" href="/master/assets/js/299.b47a6a9f.js"><link rel="prefetch" href="/master/assets/js/30.0ca54afa.js"><link rel="prefetch" href="/master/assets/js/300.b02b188e.js"><link rel="prefetch" href="/master/assets/js/301.a0fe6325.js"><link rel="prefetch" href="/master/assets/js/302.03dcd727.js"><link rel="prefetch" href="/master/assets/js/303.156c033d.js"><link rel="prefetch" href="/master/assets/js/304.2820dbf8.js"><link rel="prefetch" href="/master/assets/js/305.c5ffcffd.js"><link rel="prefetch" href="/master/assets/js/306.60ff9bf8.js"><link rel="prefetch" href="/master/assets/js/307.c90b31d5.js"><link rel="prefetch" href="/master/assets/js/308.dbdd7e7d.js"><link rel="prefetch" href="/master/assets/js/309.d3415f6f.js"><link rel="prefetch" href="/master/assets/js/31.eea5876c.js"><link rel="prefetch" href="/master/assets/js/310.672322b9.js"><link rel="prefetch" href="/master/assets/js/311.62adb30d.js"><link rel="prefetch" href="/master/assets/js/312.bbb2a125.js"><link rel="prefetch" href="/master/assets/js/313.a00175c9.js"><link rel="prefetch" href="/master/assets/js/314.835e84e0.js"><link rel="prefetch" href="/master/assets/js/315.047f758a.js"><link rel="prefetch" href="/master/assets/js/316.76cf81c9.js"><link rel="prefetch" href="/master/assets/js/317.6244b198.js"><link rel="prefetch" href="/master/assets/js/318.7f8ec9fb.js"><link rel="prefetch" href="/master/assets/js/319.40a43cf1.js"><link rel="prefetch" href="/master/assets/js/32.35a1c303.js"><link rel="prefetch" href="/master/assets/js/320.b9d402b6.js"><link rel="prefetch" href="/master/assets/js/321.4951d7d9.js"><link rel="prefetch" href="/master/assets/js/322.cdec2d54.js"><link rel="prefetch" href="/master/assets/js/323.daae6417.js"><link rel="prefetch" href="/master/assets/js/324.dd75b871.js"><link rel="prefetch" href="/master/assets/js/325.4ed2d1e6.js"><link rel="prefetch" href="/master/assets/js/326.8ec03c98.js"><link rel="prefetch" href="/master/assets/js/327.2a5bc981.js"><link rel="prefetch" href="/master/assets/js/328.ef7fbd5b.js"><link rel="prefetch" href="/master/assets/js/329.3f4bbd2e.js"><link rel="prefetch" href="/master/assets/js/33.09aed4ec.js"><link rel="prefetch" href="/master/assets/js/330.0bb31cdb.js"><link rel="prefetch" href="/master/assets/js/331.3783965c.js"><link rel="prefetch" href="/master/assets/js/332.3e682c62.js"><link rel="prefetch" href="/master/assets/js/333.90d7d989.js"><link rel="prefetch" href="/master/assets/js/334.aee73b12.js"><link rel="prefetch" href="/master/assets/js/335.672583f4.js"><link rel="prefetch" href="/master/assets/js/336.278073f1.js"><link rel="prefetch" href="/master/assets/js/337.d8e76550.js"><link rel="prefetch" href="/master/assets/js/338.a3462aa9.js"><link rel="prefetch" href="/master/assets/js/339.1c9370f7.js"><link rel="prefetch" href="/master/assets/js/34.ca4ff700.js"><link rel="prefetch" href="/master/assets/js/340.7949e81a.js"><link rel="prefetch" href="/master/assets/js/341.1808b985.js"><link rel="prefetch" href="/master/assets/js/342.92670167.js"><link rel="prefetch" href="/master/assets/js/343.ef83dc00.js"><link rel="prefetch" href="/master/assets/js/344.09c7b25d.js"><link rel="prefetch" href="/master/assets/js/345.c5a1bf82.js"><link rel="prefetch" href="/master/assets/js/346.f22309eb.js"><link rel="prefetch" href="/master/assets/js/347.85829746.js"><link rel="prefetch" href="/master/assets/js/348.15dbfea6.js"><link rel="prefetch" href="/master/assets/js/349.4a553eac.js"><link rel="prefetch" href="/master/assets/js/35.b8fa0f1b.js"><link rel="prefetch" href="/master/assets/js/350.4bcba178.js"><link rel="prefetch" href="/master/assets/js/351.e4ab7c57.js"><link rel="prefetch" href="/master/assets/js/352.4f4637c0.js"><link rel="prefetch" href="/master/assets/js/353.eca7fb96.js"><link rel="prefetch" href="/master/assets/js/354.ce10415b.js"><link rel="prefetch" href="/master/assets/js/355.4981ccfd.js"><link rel="prefetch" href="/master/assets/js/356.1c281644.js"><link rel="prefetch" href="/master/assets/js/357.cf251d08.js"><link rel="prefetch" href="/master/assets/js/358.d8f269e4.js"><link rel="prefetch" href="/master/assets/js/359.e7ebeac4.js"><link rel="prefetch" href="/master/assets/js/36.7c7f8dc9.js"><link rel="prefetch" href="/master/assets/js/360.d57a92de.js"><link rel="prefetch" href="/master/assets/js/361.13fd929c.js"><link rel="prefetch" href="/master/assets/js/362.a0d46e90.js"><link rel="prefetch" href="/master/assets/js/363.4d004d2a.js"><link rel="prefetch" href="/master/assets/js/364.c0b069f5.js"><link rel="prefetch" href="/master/assets/js/365.bf77e0fa.js"><link rel="prefetch" href="/master/assets/js/366.34c99a2e.js"><link rel="prefetch" href="/master/assets/js/367.47e3bf5c.js"><link rel="prefetch" href="/master/assets/js/368.635a0871.js"><link rel="prefetch" href="/master/assets/js/369.52b7c38a.js"><link rel="prefetch" href="/master/assets/js/37.f237104f.js"><link rel="prefetch" href="/master/assets/js/370.8ca21b2a.js"><link rel="prefetch" href="/master/assets/js/371.dddc80d9.js"><link rel="prefetch" href="/master/assets/js/372.543ac9a8.js"><link rel="prefetch" href="/master/assets/js/373.a5954957.js"><link rel="prefetch" href="/master/assets/js/374.8ac8c495.js"><link rel="prefetch" href="/master/assets/js/375.7a9022f6.js"><link rel="prefetch" href="/master/assets/js/376.f4b078b5.js"><link rel="prefetch" href="/master/assets/js/377.f88204b5.js"><link rel="prefetch" href="/master/assets/js/378.4d70db75.js"><link rel="prefetch" href="/master/assets/js/379.c38b45e8.js"><link rel="prefetch" href="/master/assets/js/38.636565f9.js"><link rel="prefetch" href="/master/assets/js/380.bf8bec32.js"><link rel="prefetch" href="/master/assets/js/381.428a968d.js"><link rel="prefetch" href="/master/assets/js/382.ceb8a489.js"><link rel="prefetch" href="/master/assets/js/383.04f17645.js"><link rel="prefetch" href="/master/assets/js/384.62c96ddd.js"><link rel="prefetch" href="/master/assets/js/385.a3e0d8bf.js"><link rel="prefetch" href="/master/assets/js/386.a1a96ff8.js"><link rel="prefetch" href="/master/assets/js/387.401323c0.js"><link rel="prefetch" href="/master/assets/js/388.da0b1952.js"><link rel="prefetch" href="/master/assets/js/389.7c8dd430.js"><link rel="prefetch" href="/master/assets/js/39.ae3b9cf2.js"><link rel="prefetch" href="/master/assets/js/390.8388e3a1.js"><link rel="prefetch" href="/master/assets/js/391.a4c19e7f.js"><link rel="prefetch" href="/master/assets/js/392.ec24b36e.js"><link rel="prefetch" href="/master/assets/js/393.d40cd491.js"><link rel="prefetch" href="/master/assets/js/394.4a538aaa.js"><link rel="prefetch" href="/master/assets/js/395.ca056283.js"><link rel="prefetch" href="/master/assets/js/396.395ae707.js"><link rel="prefetch" href="/master/assets/js/397.7cbf8162.js"><link rel="prefetch" href="/master/assets/js/398.1b6761cf.js"><link rel="prefetch" href="/master/assets/js/399.0f39d97d.js"><link rel="prefetch" href="/master/assets/js/40.4fb73091.js"><link rel="prefetch" href="/master/assets/js/400.75ebcaef.js"><link rel="prefetch" href="/master/assets/js/401.aa0e8a73.js"><link rel="prefetch" href="/master/assets/js/402.273a4fe6.js"><link rel="prefetch" href="/master/assets/js/403.80bad45e.js"><link rel="prefetch" href="/master/assets/js/404.829107d9.js"><link rel="prefetch" href="/master/assets/js/405.0a636e67.js"><link rel="prefetch" href="/master/assets/js/406.ad2964b9.js"><link rel="prefetch" href="/master/assets/js/407.37fdc4b6.js"><link rel="prefetch" href="/master/assets/js/408.4d7f71d4.js"><link rel="prefetch" href="/master/assets/js/409.5ea6fadd.js"><link rel="prefetch" href="/master/assets/js/41.05c15595.js"><link rel="prefetch" href="/master/assets/js/410.ed51f1da.js"><link rel="prefetch" href="/master/assets/js/411.4340003a.js"><link rel="prefetch" href="/master/assets/js/412.e12da3ab.js"><link rel="prefetch" href="/master/assets/js/413.b3b0e540.js"><link rel="prefetch" href="/master/assets/js/414.d32e89e9.js"><link rel="prefetch" href="/master/assets/js/415.74e19f85.js"><link rel="prefetch" href="/master/assets/js/416.ea617035.js"><link rel="prefetch" href="/master/assets/js/417.692038c6.js"><link rel="prefetch" href="/master/assets/js/418.94c4a151.js"><link rel="prefetch" href="/master/assets/js/419.f843d169.js"><link rel="prefetch" href="/master/assets/js/42.849c532d.js"><link rel="prefetch" href="/master/assets/js/420.4469e235.js"><link rel="prefetch" href="/master/assets/js/421.ca20e2bd.js"><link rel="prefetch" href="/master/assets/js/422.251d03c4.js"><link rel="prefetch" href="/master/assets/js/423.b58eec76.js"><link rel="prefetch" href="/master/assets/js/424.ad5b969a.js"><link rel="prefetch" href="/master/assets/js/425.695191d9.js"><link rel="prefetch" href="/master/assets/js/426.32b7726d.js"><link rel="prefetch" href="/master/assets/js/427.6458a6b3.js"><link rel="prefetch" href="/master/assets/js/428.304561a8.js"><link rel="prefetch" href="/master/assets/js/429.1beea26d.js"><link rel="prefetch" href="/master/assets/js/43.7446a37c.js"><link rel="prefetch" href="/master/assets/js/430.8ff04e89.js"><link rel="prefetch" href="/master/assets/js/431.2b2ac223.js"><link rel="prefetch" href="/master/assets/js/432.f43cca6c.js"><link rel="prefetch" href="/master/assets/js/433.8d53de96.js"><link rel="prefetch" href="/master/assets/js/434.ccbac4d3.js"><link rel="prefetch" href="/master/assets/js/435.1885f289.js"><link rel="prefetch" href="/master/assets/js/436.1845951f.js"><link rel="prefetch" href="/master/assets/js/437.a7c1fd74.js"><link rel="prefetch" href="/master/assets/js/438.1c96d203.js"><link rel="prefetch" href="/master/assets/js/439.668c3c39.js"><link rel="prefetch" href="/master/assets/js/44.e1ce2e0f.js"><link rel="prefetch" href="/master/assets/js/440.86cf8ccb.js"><link rel="prefetch" href="/master/assets/js/441.5b8872f1.js"><link rel="prefetch" href="/master/assets/js/442.18cc24b8.js"><link rel="prefetch" href="/master/assets/js/443.22e61c74.js"><link rel="prefetch" href="/master/assets/js/444.6164ae2a.js"><link rel="prefetch" href="/master/assets/js/445.4d0456cf.js"><link rel="prefetch" href="/master/assets/js/446.9e82dde9.js"><link rel="prefetch" href="/master/assets/js/447.50e90742.js"><link rel="prefetch" href="/master/assets/js/448.24f802df.js"><link rel="prefetch" href="/master/assets/js/449.eb189cf8.js"><link rel="prefetch" href="/master/assets/js/45.e462a77a.js"><link rel="prefetch" href="/master/assets/js/450.dbb7748c.js"><link rel="prefetch" href="/master/assets/js/451.edde5271.js"><link rel="prefetch" href="/master/assets/js/452.8760291f.js"><link rel="prefetch" href="/master/assets/js/453.e062d8ed.js"><link rel="prefetch" href="/master/assets/js/454.270926f9.js"><link rel="prefetch" href="/master/assets/js/455.36620566.js"><link rel="prefetch" href="/master/assets/js/456.f52b3c24.js"><link rel="prefetch" href="/master/assets/js/457.86aa0a4f.js"><link rel="prefetch" href="/master/assets/js/458.537b7e46.js"><link rel="prefetch" href="/master/assets/js/459.dd3e01f5.js"><link rel="prefetch" href="/master/assets/js/46.77758605.js"><link rel="prefetch" href="/master/assets/js/460.88deee12.js"><link rel="prefetch" href="/master/assets/js/461.51f697b9.js"><link rel="prefetch" href="/master/assets/js/462.a8defa9c.js"><link rel="prefetch" href="/master/assets/js/463.020cf259.js"><link rel="prefetch" href="/master/assets/js/464.12723d85.js"><link rel="prefetch" href="/master/assets/js/465.c0ea3cc7.js"><link rel="prefetch" href="/master/assets/js/466.b9018657.js"><link rel="prefetch" href="/master/assets/js/467.25e4d73b.js"><link rel="prefetch" href="/master/assets/js/468.0b35a29a.js"><link rel="prefetch" href="/master/assets/js/469.bdca862c.js"><link rel="prefetch" href="/master/assets/js/47.9a2c1db2.js"><link rel="prefetch" href="/master/assets/js/470.9a56e99a.js"><link rel="prefetch" href="/master/assets/js/471.f45f1eda.js"><link rel="prefetch" href="/master/assets/js/472.07acc293.js"><link rel="prefetch" href="/master/assets/js/473.370e6712.js"><link rel="prefetch" href="/master/assets/js/474.caf724a1.js"><link rel="prefetch" href="/master/assets/js/475.536c028e.js"><link rel="prefetch" href="/master/assets/js/476.10ab28c2.js"><link rel="prefetch" href="/master/assets/js/477.b54bd3e2.js"><link rel="prefetch" href="/master/assets/js/478.bd320aed.js"><link rel="prefetch" href="/master/assets/js/479.ef2114fc.js"><link rel="prefetch" href="/master/assets/js/48.3d327192.js"><link rel="prefetch" href="/master/assets/js/480.52e8002b.js"><link rel="prefetch" href="/master/assets/js/481.490e0867.js"><link rel="prefetch" href="/master/assets/js/482.803d689d.js"><link rel="prefetch" href="/master/assets/js/483.1ff630a4.js"><link rel="prefetch" href="/master/assets/js/484.d0284773.js"><link rel="prefetch" href="/master/assets/js/485.b2ec5d6b.js"><link rel="prefetch" href="/master/assets/js/486.c4abf502.js"><link rel="prefetch" href="/master/assets/js/487.bf862878.js"><link rel="prefetch" href="/master/assets/js/488.ebcfb578.js"><link rel="prefetch" href="/master/assets/js/489.ed1bcdcb.js"><link rel="prefetch" href="/master/assets/js/49.3fe5bbaa.js"><link rel="prefetch" href="/master/assets/js/490.47eda75b.js"><link rel="prefetch" href="/master/assets/js/491.b7a81498.js"><link rel="prefetch" href="/master/assets/js/492.6b1f99cc.js"><link rel="prefetch" href="/master/assets/js/493.c0dd206e.js"><link rel="prefetch" href="/master/assets/js/494.7ef6ee50.js"><link rel="prefetch" href="/master/assets/js/495.b58003cf.js"><link rel="prefetch" href="/master/assets/js/496.751799c0.js"><link rel="prefetch" href="/master/assets/js/497.1ee68b62.js"><link rel="prefetch" href="/master/assets/js/498.b5344547.js"><link rel="prefetch" href="/master/assets/js/499.86b8107e.js"><link rel="prefetch" href="/master/assets/js/5.df1a4dfd.js"><link rel="prefetch" href="/master/assets/js/50.38b27473.js"><link rel="prefetch" href="/master/assets/js/500.de025d6f.js"><link rel="prefetch" href="/master/assets/js/501.529325e6.js"><link rel="prefetch" href="/master/assets/js/502.e9d74c6f.js"><link rel="prefetch" href="/master/assets/js/503.432db837.js"><link rel="prefetch" href="/master/assets/js/504.a467bf75.js"><link rel="prefetch" href="/master/assets/js/505.47f0eb10.js"><link rel="prefetch" href="/master/assets/js/506.e91dc8c6.js"><link rel="prefetch" href="/master/assets/js/507.02de277b.js"><link rel="prefetch" href="/master/assets/js/508.b7b97bf7.js"><link rel="prefetch" href="/master/assets/js/509.06798909.js"><link rel="prefetch" href="/master/assets/js/51.a8705d9b.js"><link rel="prefetch" href="/master/assets/js/510.153e7482.js"><link rel="prefetch" href="/master/assets/js/511.2f8d331d.js"><link rel="prefetch" href="/master/assets/js/512.7167ea73.js"><link rel="prefetch" href="/master/assets/js/513.e7ee9418.js"><link rel="prefetch" href="/master/assets/js/514.c679bea6.js"><link rel="prefetch" href="/master/assets/js/515.e19d79ea.js"><link rel="prefetch" href="/master/assets/js/516.66a59e4d.js"><link rel="prefetch" href="/master/assets/js/517.4356f680.js"><link rel="prefetch" href="/master/assets/js/518.c365b5ca.js"><link rel="prefetch" href="/master/assets/js/519.2b2bb72a.js"><link rel="prefetch" href="/master/assets/js/52.888275b0.js"><link rel="prefetch" href="/master/assets/js/520.614e7e7e.js"><link rel="prefetch" href="/master/assets/js/521.5ff4c9de.js"><link rel="prefetch" href="/master/assets/js/522.ddef8532.js"><link rel="prefetch" href="/master/assets/js/523.ed7dc9b9.js"><link rel="prefetch" href="/master/assets/js/524.1666be70.js"><link rel="prefetch" href="/master/assets/js/525.cd34c3c1.js"><link rel="prefetch" href="/master/assets/js/526.ab11ae26.js"><link rel="prefetch" href="/master/assets/js/527.dd1a1b76.js"><link rel="prefetch" href="/master/assets/js/528.cdab972c.js"><link rel="prefetch" href="/master/assets/js/529.9e7c0e90.js"><link rel="prefetch" href="/master/assets/js/53.29b01023.js"><link rel="prefetch" href="/master/assets/js/530.3ab526fe.js"><link rel="prefetch" href="/master/assets/js/531.3f1a22ad.js"><link rel="prefetch" href="/master/assets/js/532.7a8bc014.js"><link rel="prefetch" href="/master/assets/js/533.390b17d6.js"><link rel="prefetch" href="/master/assets/js/534.66e3e44d.js"><link rel="prefetch" href="/master/assets/js/535.bf4c9b8c.js"><link rel="prefetch" href="/master/assets/js/536.2cf80c26.js"><link rel="prefetch" href="/master/assets/js/537.befd3b6a.js"><link rel="prefetch" href="/master/assets/js/538.851d0b08.js"><link rel="prefetch" href="/master/assets/js/539.fc59af32.js"><link rel="prefetch" href="/master/assets/js/54.a036e7d8.js"><link rel="prefetch" href="/master/assets/js/540.2e66b689.js"><link rel="prefetch" href="/master/assets/js/541.4b18b42d.js"><link rel="prefetch" href="/master/assets/js/542.2a727d4f.js"><link rel="prefetch" href="/master/assets/js/543.7fc352f4.js"><link rel="prefetch" href="/master/assets/js/544.d5b6d0cb.js"><link rel="prefetch" href="/master/assets/js/545.0fbbe951.js"><link rel="prefetch" href="/master/assets/js/546.0f1ed9d6.js"><link rel="prefetch" href="/master/assets/js/547.ab233564.js"><link rel="prefetch" href="/master/assets/js/548.1d214b4f.js"><link rel="prefetch" href="/master/assets/js/549.238864fb.js"><link rel="prefetch" href="/master/assets/js/55.dcde7e87.js"><link rel="prefetch" href="/master/assets/js/550.1ef669c7.js"><link rel="prefetch" href="/master/assets/js/551.43291660.js"><link rel="prefetch" href="/master/assets/js/552.67a360fd.js"><link rel="prefetch" href="/master/assets/js/553.46f58732.js"><link rel="prefetch" href="/master/assets/js/554.dc3ffe1c.js"><link rel="prefetch" href="/master/assets/js/555.397f037a.js"><link rel="prefetch" href="/master/assets/js/556.5ce661e4.js"><link rel="prefetch" href="/master/assets/js/557.86d4788a.js"><link rel="prefetch" href="/master/assets/js/558.94213ab9.js"><link rel="prefetch" href="/master/assets/js/559.0da73c8b.js"><link rel="prefetch" href="/master/assets/js/56.77b17e0f.js"><link rel="prefetch" href="/master/assets/js/560.ad07e19c.js"><link rel="prefetch" href="/master/assets/js/561.316b2bba.js"><link rel="prefetch" href="/master/assets/js/562.eab2145a.js"><link rel="prefetch" href="/master/assets/js/563.cc51f4ac.js"><link rel="prefetch" href="/master/assets/js/564.4a0a077d.js"><link rel="prefetch" href="/master/assets/js/565.b568bcdf.js"><link rel="prefetch" href="/master/assets/js/566.27237268.js"><link rel="prefetch" href="/master/assets/js/567.b21df5e2.js"><link rel="prefetch" href="/master/assets/js/568.8bfd1c0e.js"><link rel="prefetch" href="/master/assets/js/569.6c8b4ac7.js"><link rel="prefetch" href="/master/assets/js/57.c7756515.js"><link rel="prefetch" href="/master/assets/js/570.d6507dd2.js"><link rel="prefetch" href="/master/assets/js/571.267be190.js"><link rel="prefetch" href="/master/assets/js/572.cd6204f2.js"><link rel="prefetch" href="/master/assets/js/573.0087e806.js"><link rel="prefetch" href="/master/assets/js/574.322e15f3.js"><link rel="prefetch" href="/master/assets/js/575.9ca6294d.js"><link rel="prefetch" href="/master/assets/js/576.88faa7fb.js"><link rel="prefetch" href="/master/assets/js/577.a7bee327.js"><link rel="prefetch" href="/master/assets/js/578.873b14ca.js"><link rel="prefetch" href="/master/assets/js/579.028b90df.js"><link rel="prefetch" href="/master/assets/js/58.72da0af4.js"><link rel="prefetch" href="/master/assets/js/580.437ac5a5.js"><link rel="prefetch" href="/master/assets/js/581.1d83aec2.js"><link rel="prefetch" href="/master/assets/js/582.63b9d524.js"><link rel="prefetch" href="/master/assets/js/583.e84a1496.js"><link rel="prefetch" href="/master/assets/js/584.2f937758.js"><link rel="prefetch" href="/master/assets/js/585.ce55455b.js"><link rel="prefetch" href="/master/assets/js/586.c8cb0022.js"><link rel="prefetch" href="/master/assets/js/587.c72cf049.js"><link rel="prefetch" href="/master/assets/js/588.08c44857.js"><link rel="prefetch" href="/master/assets/js/589.f4a317c3.js"><link rel="prefetch" href="/master/assets/js/59.92de6db2.js"><link rel="prefetch" href="/master/assets/js/590.31a31e9d.js"><link rel="prefetch" href="/master/assets/js/591.edcdec10.js"><link rel="prefetch" href="/master/assets/js/592.373c1f03.js"><link rel="prefetch" href="/master/assets/js/593.aa6390dc.js"><link rel="prefetch" href="/master/assets/js/594.78781db5.js"><link rel="prefetch" href="/master/assets/js/595.d7743cca.js"><link rel="prefetch" href="/master/assets/js/596.676478d0.js"><link rel="prefetch" href="/master/assets/js/597.ba32dc0e.js"><link rel="prefetch" href="/master/assets/js/598.8f77267d.js"><link rel="prefetch" href="/master/assets/js/599.ef530725.js"><link rel="prefetch" href="/master/assets/js/6.92868e56.js"><link rel="prefetch" href="/master/assets/js/60.f9a94296.js"><link rel="prefetch" href="/master/assets/js/600.c0192177.js"><link rel="prefetch" href="/master/assets/js/601.5ebf5300.js"><link rel="prefetch" href="/master/assets/js/602.1f04cd22.js"><link rel="prefetch" href="/master/assets/js/603.d9d03269.js"><link rel="prefetch" href="/master/assets/js/604.217a0a26.js"><link rel="prefetch" href="/master/assets/js/605.6f1b8aeb.js"><link rel="prefetch" href="/master/assets/js/606.27860173.js"><link rel="prefetch" href="/master/assets/js/607.1dfaba6a.js"><link rel="prefetch" href="/master/assets/js/608.6ca4470e.js"><link rel="prefetch" href="/master/assets/js/609.e5428149.js"><link rel="prefetch" href="/master/assets/js/61.4e8028b4.js"><link rel="prefetch" href="/master/assets/js/610.aab0cfcf.js"><link rel="prefetch" href="/master/assets/js/611.cb30fd49.js"><link rel="prefetch" href="/master/assets/js/612.1bb3fd2b.js"><link rel="prefetch" href="/master/assets/js/613.863cabeb.js"><link rel="prefetch" href="/master/assets/js/614.005690ad.js"><link rel="prefetch" href="/master/assets/js/615.4cee175d.js"><link rel="prefetch" href="/master/assets/js/616.0508653d.js"><link rel="prefetch" href="/master/assets/js/617.998602fe.js"><link rel="prefetch" href="/master/assets/js/618.51175c08.js"><link rel="prefetch" href="/master/assets/js/619.6264c996.js"><link rel="prefetch" href="/master/assets/js/62.d930a1b3.js"><link rel="prefetch" href="/master/assets/js/620.f1886eac.js"><link rel="prefetch" href="/master/assets/js/621.4a4bd972.js"><link rel="prefetch" href="/master/assets/js/622.d24d2545.js"><link rel="prefetch" href="/master/assets/js/623.a92a7411.js"><link rel="prefetch" href="/master/assets/js/624.976537b7.js"><link rel="prefetch" href="/master/assets/js/625.29bafd06.js"><link rel="prefetch" href="/master/assets/js/626.a946c551.js"><link rel="prefetch" href="/master/assets/js/627.699547a2.js"><link rel="prefetch" href="/master/assets/js/628.a875dac5.js"><link rel="prefetch" href="/master/assets/js/629.08e68c9e.js"><link rel="prefetch" href="/master/assets/js/63.6cc4a415.js"><link rel="prefetch" href="/master/assets/js/630.7d470ee6.js"><link rel="prefetch" href="/master/assets/js/631.f49195db.js"><link rel="prefetch" href="/master/assets/js/632.621f45f5.js"><link rel="prefetch" href="/master/assets/js/633.ed3d9672.js"><link rel="prefetch" href="/master/assets/js/634.3927d581.js"><link rel="prefetch" href="/master/assets/js/635.ca235777.js"><link rel="prefetch" href="/master/assets/js/636.7d5e8996.js"><link rel="prefetch" href="/master/assets/js/637.9f6568a2.js"><link rel="prefetch" href="/master/assets/js/638.1b571b19.js"><link rel="prefetch" href="/master/assets/js/639.07a89f9f.js"><link rel="prefetch" href="/master/assets/js/64.3e17d84e.js"><link rel="prefetch" href="/master/assets/js/640.613b9bf6.js"><link rel="prefetch" href="/master/assets/js/641.dca4a47b.js"><link rel="prefetch" href="/master/assets/js/642.3c3211f2.js"><link rel="prefetch" href="/master/assets/js/643.d44378dc.js"><link rel="prefetch" href="/master/assets/js/644.d0948cdd.js"><link rel="prefetch" href="/master/assets/js/645.0b8cc2cc.js"><link rel="prefetch" href="/master/assets/js/646.3e7956c2.js"><link rel="prefetch" href="/master/assets/js/647.443e809c.js"><link rel="prefetch" href="/master/assets/js/648.4f491bdc.js"><link rel="prefetch" href="/master/assets/js/649.44df0d84.js"><link rel="prefetch" href="/master/assets/js/65.982f2d83.js"><link rel="prefetch" href="/master/assets/js/650.3befc284.js"><link rel="prefetch" href="/master/assets/js/651.4a323509.js"><link rel="prefetch" href="/master/assets/js/652.6b7584c1.js"><link rel="prefetch" href="/master/assets/js/653.5850a461.js"><link rel="prefetch" href="/master/assets/js/654.b3610d7d.js"><link rel="prefetch" href="/master/assets/js/655.711c8586.js"><link rel="prefetch" href="/master/assets/js/656.1c2cf093.js"><link rel="prefetch" href="/master/assets/js/657.6ddc3dd0.js"><link rel="prefetch" href="/master/assets/js/658.e1d0a736.js"><link rel="prefetch" href="/master/assets/js/659.6fc051ea.js"><link rel="prefetch" href="/master/assets/js/66.653d89c3.js"><link rel="prefetch" href="/master/assets/js/660.130e8867.js"><link rel="prefetch" href="/master/assets/js/661.00ccd64d.js"><link rel="prefetch" href="/master/assets/js/662.2c93874c.js"><link rel="prefetch" href="/master/assets/js/663.22035f2b.js"><link rel="prefetch" href="/master/assets/js/664.19d55f2f.js"><link rel="prefetch" href="/master/assets/js/665.09e5aaa4.js"><link rel="prefetch" href="/master/assets/js/666.f3dad8fc.js"><link rel="prefetch" href="/master/assets/js/667.65ea9fc2.js"><link rel="prefetch" href="/master/assets/js/668.5a82d959.js"><link rel="prefetch" href="/master/assets/js/669.e37360d8.js"><link rel="prefetch" href="/master/assets/js/67.9125a046.js"><link rel="prefetch" href="/master/assets/js/670.e0542d0a.js"><link rel="prefetch" href="/master/assets/js/671.dda94d19.js"><link rel="prefetch" href="/master/assets/js/672.65bb3027.js"><link rel="prefetch" href="/master/assets/js/673.960c8cff.js"><link rel="prefetch" href="/master/assets/js/674.a637fb2e.js"><link rel="prefetch" href="/master/assets/js/675.067e4bbe.js"><link rel="prefetch" href="/master/assets/js/676.8b605402.js"><link rel="prefetch" href="/master/assets/js/677.8a768cef.js"><link rel="prefetch" href="/master/assets/js/678.eca07382.js"><link rel="prefetch" href="/master/assets/js/679.e2510278.js"><link rel="prefetch" href="/master/assets/js/68.92fe78ce.js"><link rel="prefetch" href="/master/assets/js/680.cc2d6383.js"><link rel="prefetch" href="/master/assets/js/681.4b86f701.js"><link rel="prefetch" href="/master/assets/js/682.27b18741.js"><link rel="prefetch" href="/master/assets/js/683.b7a6d76a.js"><link rel="prefetch" href="/master/assets/js/684.9768bc7a.js"><link rel="prefetch" href="/master/assets/js/685.d90ccf17.js"><link rel="prefetch" href="/master/assets/js/686.e7c0b97c.js"><link rel="prefetch" href="/master/assets/js/687.0b502a2a.js"><link rel="prefetch" href="/master/assets/js/688.b089a3f3.js"><link rel="prefetch" href="/master/assets/js/689.c11d37c7.js"><link rel="prefetch" href="/master/assets/js/69.2bb70382.js"><link rel="prefetch" href="/master/assets/js/690.74a300f9.js"><link rel="prefetch" href="/master/assets/js/691.b0848116.js"><link rel="prefetch" href="/master/assets/js/692.9345005d.js"><link rel="prefetch" href="/master/assets/js/693.66af4400.js"><link rel="prefetch" href="/master/assets/js/694.7bc2adb2.js"><link rel="prefetch" href="/master/assets/js/695.8b9c39d0.js"><link rel="prefetch" href="/master/assets/js/696.50670e8f.js"><link rel="prefetch" href="/master/assets/js/697.a75f4201.js"><link rel="prefetch" href="/master/assets/js/698.2a72f5c1.js"><link rel="prefetch" href="/master/assets/js/699.d1ad4dd9.js"><link rel="prefetch" href="/master/assets/js/7.88280eb8.js"><link rel="prefetch" href="/master/assets/js/70.c92d811f.js"><link rel="prefetch" href="/master/assets/js/700.08809ef1.js"><link rel="prefetch" href="/master/assets/js/701.e5caa932.js"><link rel="prefetch" href="/master/assets/js/702.f89b8606.js"><link rel="prefetch" href="/master/assets/js/703.59f39c93.js"><link rel="prefetch" href="/master/assets/js/704.d639fe36.js"><link rel="prefetch" href="/master/assets/js/705.64558fbc.js"><link rel="prefetch" href="/master/assets/js/706.9c374790.js"><link rel="prefetch" href="/master/assets/js/707.8e53a2ef.js"><link rel="prefetch" href="/master/assets/js/708.d665b8e3.js"><link rel="prefetch" href="/master/assets/js/709.a6880593.js"><link rel="prefetch" href="/master/assets/js/71.e64a77bf.js"><link rel="prefetch" href="/master/assets/js/710.7c4142f0.js"><link rel="prefetch" href="/master/assets/js/711.fe7d676a.js"><link rel="prefetch" href="/master/assets/js/712.a503fe1e.js"><link rel="prefetch" href="/master/assets/js/713.f604e0fe.js"><link rel="prefetch" href="/master/assets/js/714.e0ff451e.js"><link rel="prefetch" href="/master/assets/js/715.149de7ef.js"><link rel="prefetch" href="/master/assets/js/716.f9cbc20e.js"><link rel="prefetch" href="/master/assets/js/717.1566fe46.js"><link rel="prefetch" href="/master/assets/js/718.dadc8850.js"><link rel="prefetch" href="/master/assets/js/719.ddde31c4.js"><link rel="prefetch" href="/master/assets/js/72.0ee17487.js"><link rel="prefetch" href="/master/assets/js/720.6e8f157b.js"><link rel="prefetch" href="/master/assets/js/721.c6ea893b.js"><link rel="prefetch" href="/master/assets/js/722.3e46342f.js"><link rel="prefetch" href="/master/assets/js/723.b8e2d2d3.js"><link rel="prefetch" href="/master/assets/js/724.7dc4cad3.js"><link rel="prefetch" href="/master/assets/js/73.d1fcf769.js"><link rel="prefetch" href="/master/assets/js/74.dfc0fa72.js"><link rel="prefetch" href="/master/assets/js/75.13683e28.js"><link rel="prefetch" href="/master/assets/js/76.646a3ee0.js"><link rel="prefetch" href="/master/assets/js/77.4e6d2f2b.js"><link rel="prefetch" href="/master/assets/js/78.cdc29601.js"><link rel="prefetch" href="/master/assets/js/8.78e0d2ad.js"><link rel="prefetch" href="/master/assets/js/80.42373d54.js"><link rel="prefetch" href="/master/assets/js/81.9da29b4a.js"><link rel="prefetch" href="/master/assets/js/82.e7b7aaef.js"><link rel="prefetch" href="/master/assets/js/83.34cf5712.js"><link rel="prefetch" href="/master/assets/js/84.40662310.js"><link rel="prefetch" href="/master/assets/js/85.e98ce7a9.js"><link rel="prefetch" href="/master/assets/js/86.8c914bd9.js"><link rel="prefetch" href="/master/assets/js/87.8b0f4581.js"><link rel="prefetch" href="/master/assets/js/88.79fe2c81.js"><link rel="prefetch" href="/master/assets/js/89.98fc2365.js"><link rel="prefetch" href="/master/assets/js/9.a52dac40.js"><link rel="prefetch" href="/master/assets/js/90.b0bd18f7.js"><link rel="prefetch" href="/master/assets/js/91.769e29f4.js"><link rel="prefetch" href="/master/assets/js/92.0abc457f.js"><link rel="prefetch" href="/master/assets/js/93.4d5c5d4f.js"><link rel="prefetch" href="/master/assets/js/94.d51b0dcb.js"><link rel="prefetch" href="/master/assets/js/95.9daffd46.js"><link rel="prefetch" href="/master/assets/js/96.2c9565a2.js"><link rel="prefetch" href="/master/assets/js/97.6e4d3d2e.js"><link rel="prefetch" href="/master/assets/js/98.ae924ca8.js"><link rel="prefetch" href="/master/assets/js/99.14de6361.js"><link rel="prefetch" href="/master/assets/js/vendors~docsearch.8b43ba8f.js">
    <link rel="stylesheet" href="/master/assets/css/0.styles.691af086.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/master/en/" class="home-link router-link-active"><img src="/master/images/doris-logo-only.png" alt="Apache Doris" class="logo"> <span class="site-name can-hide">Apache Doris</span></a> <div class="links"><form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form> <nav class="nav-links can-hide"><div class="nav-item"><a href="/master/en/downloads/downloads.html" class="nav-link">
  Download
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/master/en/administrator-guide/load-data/spark-load-manual.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/master/zh-CN/administrator-guide/load-data/spark-load-manual.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/apache/incubator-doris" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/master/en/downloads/downloads.html" class="nav-link">
  Download
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Languages" class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/master/en/administrator-guide/load-data/spark-load-manual.html" aria-current="page" class="nav-link router-link-exact-active router-link-active">
  English
</a></li><li class="dropdown-item"><!----> <a href="/master/zh-CN/administrator-guide/load-data/spark-load-manual.html" class="nav-link">
  简体中文
</a></li></ul></div></div> <a href="https://github.com/apache/incubator-doris" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Downloads</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Compilation and Deployment</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Getting Started</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Administrator Guide</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading open"><span>Load Data</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/master/en/administrator-guide/load-data/load-manual.html" class="sidebar-link">Introduction Overview</a></li><li><a href="/master/en/administrator-guide/load-data/batch-delete-manual.html" class="sidebar-link">Batch Delete</a></li><li><a href="/master/en/administrator-guide/load-data/broker-load-manual.html" class="sidebar-link">Broker Load</a></li><li><a href="/master/en/administrator-guide/load-data/routine-load-manual.html" class="sidebar-link">Routine Load</a></li><li><a href="/master/en/administrator-guide/load-data/sequence-column-manual.html" class="sidebar-link">Sequence Column</a></li><li><a href="/master/en/administrator-guide/load-data/spark-load-manual.html" aria-current="page" class="active sidebar-link">Spark Load</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#applicable-scenarios" class="sidebar-link">Applicable scenarios</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#explanation-of-terms" class="sidebar-link">Explanation of terms</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#basic-principles" class="sidebar-link">Basic principles</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#basic-process" class="sidebar-link">Basic process</a></li></ul></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#global-dictionary" class="sidebar-link">Global dictionary</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#applicable-scenarios-2" class="sidebar-link">Applicable scenarios</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#build-process" class="sidebar-link">Build process</a></li></ul></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#data-preprocessing-dpp" class="sidebar-link">Data preprocessing (DPP)</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#basic-process-2" class="sidebar-link">Basic process</a></li></ul></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#basic-operation" class="sidebar-link">Basic operation</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#configure-etl-cluster" class="sidebar-link">Configure ETL cluster</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#configure-spark-client" class="sidebar-link">Configure spark client</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#configure-yarn-client" class="sidebar-link">Configure yarn client</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#create-load" class="sidebar-link">Create load</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#show-load" class="sidebar-link">Show load</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#view-spark-launcher-commit-log" class="sidebar-link">View spark launcher commit log</a></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#cancel-load" class="sidebar-link">cancel load</a></li></ul></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#related-system-configuration" class="sidebar-link">Related system configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#fe-configuration" class="sidebar-link">FE configuration</a></li></ul></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#best-practices" class="sidebar-link">Best practices</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#application-scenarios" class="sidebar-link">Application scenarios</a></li></ul></li><li class="sidebar-sub-header"><a href="/master/en/administrator-guide/load-data/spark-load-manual.html#faq" class="sidebar-link">FAQ</a></li></ul></li><li><a href="/master/en/administrator-guide/load-data/stream-load-manual.html" class="sidebar-link">Stream load</a></li><li><a href="/master/en/administrator-guide/load-data/s3-load-manual.html" class="sidebar-link">S3 Load</a></li><li><a href="/master/en/administrator-guide/load-data/delete-manual.html" class="sidebar-link">Delete</a></li><li><a href="/master/en/administrator-guide/load-data/insert-into-manual.html" class="sidebar-link">Insert Into</a></li><li><a href="/master/en/administrator-guide/load-data/load-json-format.html" class="sidebar-link">Load Json Format Data</a></li></ul></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Schema Change</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/master/en/administrator-guide/materialized_view.html" class="sidebar-link">Materialized view</a></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>HTTP API</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Maintainence Operation</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable is-sub-group depth-1"><p class="sidebar-heading"><span>Configuration</span> <span class="arrow right"></span></p> <!----></section></li><li><a href="/master/en/administrator-guide/backup-restore.html" class="sidebar-link">Backup and Recovery</a></li><li><a href="/master/en/administrator-guide/broker.html" class="sidebar-link">Broker</a></li><li><a href="/master/en/administrator-guide/colocation-join.html" class="sidebar-link">Colocation Join</a></li><li><a href="/master/en/administrator-guide/bucket-shuffle-join.html" class="sidebar-link">Bucket Shuffle Join</a></li><li><a href="/master/en/administrator-guide/dynamic-partition.html" class="sidebar-link">Dynamic Partition</a></li><li><a href="/master/en/administrator-guide/export-manual.html" class="sidebar-link">Data export</a></li><li><a href="/master/en/administrator-guide/outfile.html" class="sidebar-link">Export Query Result</a></li><li><a href="/master/en/administrator-guide/privilege.html" class="sidebar-link">Authority Management</a></li><li><a href="/master/en/administrator-guide/resource-management.html" class="sidebar-link">Resource management</a></li><li><a href="/master/en/administrator-guide/running-profile.html" class="sidebar-link">Statistics of query execution</a></li><li><a href="/master/en/administrator-guide/small-file-mgr.html" class="sidebar-link">File Manager</a></li><li><a href="/master/en/administrator-guide/sql-mode.html" class="sidebar-link">SQL MODE</a></li><li><a href="/master/en/administrator-guide/time-zone.html" class="sidebar-link">Time zone</a></li><li><a href="/master/en/administrator-guide/variables.html" class="sidebar-link">Variable</a></li></ul></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Extending Ability</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Design Documents</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>SQL Manual</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Developer Guide</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Apache Community</span> <span class="arrow right"></span></p> <!----></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h1 id="spark-load"><a href="#spark-load" class="header-anchor">#</a> Spark Load</h1> <p>Spark load realizes the preprocessing of load data by spark, improves the performance of loading large amount of Doris data and saves the computing resources of Doris cluster. It is mainly used for the scene of initial migration and large amount of data imported into Doris.</p> <p>Spark load is an asynchronous load method. Users need to create spark type load job by MySQL protocol and view the load results by <code>show load</code>.</p> <h2 id="applicable-scenarios"><a href="#applicable-scenarios" class="header-anchor">#</a> Applicable scenarios</h2> <ul><li><p>The source data is in a file storage system that spark can access, such as HDFS.</p></li> <li><p>The data volume ranges from tens of GB to TB.</p></li></ul> <h2 id="explanation-of-terms"><a href="#explanation-of-terms" class="header-anchor">#</a> Explanation of terms</h2> <ol><li><p>Frontend (FE): metadata and scheduling node of Doris system. In the load process, it is mainly responsible for the scheduling of load jobs.</p></li> <li><p>Backend (be): the computing and storage node of Doris system. In the load process, it is mainly responsible for data writing and storage.</p></li> <li><p>Spark ETL: in the load process, it is mainly responsible for ETL of data, including global dictionary construction (bitmap type), partition, sorting, aggregation, etc.</p></li> <li><p>Broker: broker is an independent stateless process. It encapsulates the file system interface and provides the ability of Doris to read the files in the remote storage system.</p></li> <li><p>Global dictionary: it stores the data structure from the original value to the coded value. The original value can be any data type, while the encoded value is an integer. The global dictionary is mainly used in the scene of precise de duplication precomputation.</p></li></ol> <h2 id="basic-principles"><a href="#basic-principles" class="header-anchor">#</a> Basic principles</h2> <h3 id="basic-process"><a href="#basic-process" class="header-anchor">#</a> Basic process</h3> <p>The user submits spark type load job by MySQL client, Fe records metadata and returns that the user submitted successfully.</p> <p>The implementation of spark load task is mainly divided into the following five stages.</p> <ol><li><p>Fe schedules and submits ETL tasks to spark cluster for execution.</p></li> <li><p>Spark cluster executes ETL to complete the preprocessing of load data. It includes global dictionary building (bitmap type), partitioning, sorting, aggregation, etc.</p></li> <li><p>After the ETL task is completed, Fe obtains the data path of each partition that has been preprocessed, and schedules the related be to execute the push task.</p></li> <li><p>Be reads data through broker and converts it into Doris underlying storage format.</p></li> <li><p>Fe schedule the effective version and complete the load job.</p></li></ol> <div class="language- extra-class"><pre class="language-text"><code>                 +
                 | 0. User create spark load job
            +----v----+
            |   FE    |---------------------------------+
            +----+----+                                 |
                 | 3. FE send push tasks                |
                 | 5. FE publish version                |
    +------------+------------+                         |
    |            |            |                         |
+---v---+    +---v---+    +---v---+                     |
|  BE   |    |  BE   |    |  BE   |                     |1. FE submit Spark ETL job
+---^---+    +---^---+    +---^---+                     |
    |4. BE push with broker   |                         |
+---+---+    +---+---+    +---+---+                     |
|Broker |    |Broker |    |Broker |                     |
+---^---+    +---^---+    +---^---+                     |
    |            |            |                         |
+---+------------+------------+---+ 2.ETL +-------------v---------------+
|               HDFS              +-------&gt;       Spark cluster         |
|                                 &lt;-------+                             |
+---------------------------------+       +-----------------------------+

</code></pre></div><h2 id="global-dictionary"><a href="#global-dictionary" class="header-anchor">#</a> Global dictionary</h2> <h3 id="applicable-scenarios-2"><a href="#applicable-scenarios-2" class="header-anchor">#</a> Applicable scenarios</h3> <p>At present, the bitmap column in Doris is implemented using the class library '<code>roaingbitmap</code>', while the input data type of '<code>roaringbitmap</code>' can only be integer. Therefore, if you want to pre calculate the bitmap column in the import process, you need to convert the type of input data to integer.</p> <p>In the existing Doris import process, the data structure of global dictionary is implemented based on hive table, which stores the mapping from original value to encoded value.</p> <h3 id="build-process"><a href="#build-process" class="header-anchor">#</a> Build process</h3> <ol><li><p>Read the data from the upstream data source and generate a hive temporary table, which is recorded as <code>hive_table</code>.</p></li> <li><p>Extract the de duplicated values of the fields to be de duplicated from the <code>hive_table</code>, and generate a new hive table, which is marked as <code>distinct_value_table</code>.</p></li> <li><p>Create a new global dictionary table named <code>dict_table</code>; one column is the original value, and the other is the encoded value.</p></li> <li><p>Left join the <code>distinct_value_table</code> and <code>dict_table</code>, calculate the new de duplication value set, and then code this set with window function. At this time, the original value of the de duplication column will have one more column of encoded value. Finally, the data of these two columns will be written back to <code>dict_table</code>.</p></li> <li><p>Join the <code>dict_table</code> with the <code>hive_table</code> to replace the original value in the <code>hive_table</code> with the integer encoded value.</p></li> <li><p><code>hive_table</code> will be read by the next data preprocessing process and imported into Doris after calculation.</p></li></ol> <h2 id="data-preprocessing-dpp"><a href="#data-preprocessing-dpp" class="header-anchor">#</a> Data preprocessing (DPP)</h2> <h3 id="basic-process-2"><a href="#basic-process-2" class="header-anchor">#</a> Basic process</h3> <ol><li><p>Read data from the data source. The upstream data source can be HDFS file or hive table.</p></li> <li><p>Map the read data, calculate the expression, and generate the bucket field <code>bucket_id</code> according to the partition information.</p></li> <li><p>Generate rolluptree according to rollup metadata of Doris table.</p></li> <li><p>Traverse rolluptree to perform hierarchical aggregation. The rollup of the next level can be calculated from the rollup of the previous level.</p></li> <li><p>After each aggregation calculation, the data will be calculated according to the <code>bucket_id</code>is divided into buckets and then written into HDFS.</p></li> <li><p>Subsequent brokers will pull the files in HDFS and import them into Doris be.</p></li></ol> <h2 id="basic-operation"><a href="#basic-operation" class="header-anchor">#</a> Basic operation</h2> <h3 id="configure-etl-cluster"><a href="#configure-etl-cluster" class="header-anchor">#</a> Configure ETL cluster</h3> <p>As an external computing resource, spark is used to complete ETL work in Doris. In the future, there may be other external resources that will be used in Doris, such as spark / GPU for query, HDFS / S3 for external storage, MapReduce for ETL, etc. Therefore, we introduce resource management to manage these external resources used by Doris.</p> <p>Before submitting the spark import task, you need to configure the spark cluster that performs the ETL task.</p> <p>Grammar:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- create spark resource</span>
<span class="token keyword">CREATE</span> EXTERNAL RESOURCE resource_name
PROPERTIES
<span class="token punctuation">(</span>
  <span class="token keyword">type</span> <span class="token operator">=</span> spark<span class="token punctuation">,</span>
  spark_conf_key <span class="token operator">=</span> spark_conf_value<span class="token punctuation">,</span>
  working_dir <span class="token operator">=</span> path<span class="token punctuation">,</span>
  broker <span class="token operator">=</span> broker_name<span class="token punctuation">,</span>
  broker<span class="token punctuation">.</span>property_key <span class="token operator">=</span> property_value
<span class="token punctuation">)</span>

<span class="token comment">-- drop spark resource</span>
<span class="token keyword">DROP</span> RESOURCE resource_name

<span class="token comment">-- show resources</span>
<span class="token keyword">SHOW</span> RESOURCES
<span class="token keyword">SHOW</span> <span class="token keyword">PROC</span> <span class="token string">&quot;/resources&quot;</span>

<span class="token comment">-- privileges</span>
<span class="token keyword">GRANT</span> USAGE_PRIV <span class="token keyword">ON</span> RESOURCE resource_name <span class="token keyword">TO</span> user_identity
<span class="token keyword">GRANT</span> USAGE_PRIV <span class="token keyword">ON</span> RESOURCE resource_name <span class="token keyword">TO</span> ROLE role_name

<span class="token keyword">REVOKE</span> USAGE_PRIV <span class="token keyword">ON</span> RESOURCE resource_name <span class="token keyword">FROM</span> user_identity
<span class="token keyword">REVOKE</span> USAGE_PRIV <span class="token keyword">ON</span> RESOURCE resource_name <span class="token keyword">FROM</span> ROLE role_name
</code></pre></div><h4 id="create-resource"><a href="#create-resource" class="header-anchor">#</a> Create resource</h4> <p><code>resource_name</code> is the name of the spark resource configured in Doris.</p> <p><code>Properties</code> are the parameters related to spark resources, as follows:</p> <ul><li><p><code>type</code>: resource type, required. Currently, only spark is supported.</p></li> <li><p>Spark related parameters are as follows:</p> <ul><li><p><code>spark.master</code>: required, yarn is supported at present, <code>spark://host:port</code>.</p></li> <li><p><code>spark.submit.deployMode</code>: the deployment mode of Spark Program. It is required and supports cluster and client.</p></li> <li><p><code>spark.hadoop.yarn.resourcemanager.address</code>: required when master is yarn.</p></li> <li><p><code>spark.hadoop.fs.defaultfs</code>: required when master is yarn.</p></li> <li><p>Other parameters are optional, refer to <code>http://spark.apache.org/docs/latest/configuration.html</code></p></li></ul></li> <li><p><code>working_dir</code>: directory used by ETL. Spark is required when used as an ETL resource. For example: <code>hdfs://host :port/tmp/doris</code>.</p></li> <li><p><code>broker</code>: the name of the broker. Spark is required when used as an ETL resource. You need to use the 'alter system add broker' command to complete the configuration in advance.</p></li> <li><p><code>broker.property_key</code>: the authentication information that the broker needs to specify when reading the intermediate file generated by ETL.</p></li></ul> <p>Example:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- yarn cluster 模式</span>
<span class="token keyword">CREATE</span> EXTERNAL RESOURCE <span class="token string">&quot;spark0&quot;</span>
PROPERTIES
<span class="token punctuation">(</span>
  <span class="token string">&quot;type&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;spark&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.master&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;yarn&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.submit.deployMode&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;cluster&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.jars&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;xxx.jar,yyy.jar&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.files&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;/tmp/aaa,/tmp/bbb&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.executor.memory&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;1g&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.yarn.queue&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;queue0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.hadoop.yarn.resourcemanager.address&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;127.0.0.1:9999&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.hadoop.fs.defaultFS&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;hdfs://127.0.0.1:10000&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;working_dir&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;hdfs://127.0.0.1:10000/tmp/doris&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;broker&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;broker0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;broker.username&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;user0&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;broker.password&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;password0&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">-- spark standalone client 模式</span>
<span class="token keyword">CREATE</span> EXTERNAL RESOURCE <span class="token string">&quot;spark1&quot;</span>
PROPERTIES
<span class="token punctuation">(</span>
  <span class="token string">&quot;type&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;spark&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.master&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;spark://127.0.0.1:7777&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.submit.deployMode&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;client&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;working_dir&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;hdfs://127.0.0.1:10000/tmp/doris&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;broker&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;broker1&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="show-resources"><a href="#show-resources" class="header-anchor">#</a> Show resources</h4> <p>Ordinary accounts can only see the resources that they have <code>USAGE_PRIV</code> to use.</p> <p>The root and admin accounts can see all the resources.</p> <h4 id="resource-privilege"><a href="#resource-privilege" class="header-anchor">#</a> Resource privilege</h4> <p>Resource permissions are managed by grant revoke. Currently, only <code>USAGE_PRIV</code> permission is supported.</p> <p>You can use the <code>USAGE_PRIV</code> permission is given to a user or a role, and the role is used the same as before.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token comment">-- Grant permission to the spark0 resource to user user0</span>

<span class="token keyword">GRANT</span> USAGE_PRIV <span class="token keyword">ON</span> RESOURCE <span class="token string">&quot;spark0&quot;</span> <span class="token keyword">TO</span> <span class="token string">&quot;user0&quot;</span><span class="token variable">@&quot;%&quot;</span><span class="token punctuation">;</span>


<span class="token comment">-- Grant permission to the spark0 resource to role ROLE0</span>

<span class="token keyword">GRANT</span> USAGE_PRIV <span class="token keyword">ON</span> RESOURCE <span class="token string">&quot;spark0&quot;</span> <span class="token keyword">TO</span> ROLE <span class="token string">&quot;role0&quot;</span><span class="token punctuation">;</span>


<span class="token comment">-- Grant permission to all resources to user user0</span>

<span class="token keyword">GRANT</span> USAGE_PRIV <span class="token keyword">ON</span> RESOURCE <span class="token operator">*</span> <span class="token keyword">TO</span> <span class="token string">&quot;user0&quot;</span><span class="token variable">@&quot;%&quot;</span><span class="token punctuation">;</span>


<span class="token comment">-- Grant permission to all resources to role ROLE0</span>

<span class="token keyword">GRANT</span> USAGE_PRIV <span class="token keyword">ON</span> RESOURCE <span class="token operator">*</span> <span class="token keyword">TO</span> ROLE <span class="token string">&quot;role0&quot;</span><span class="token punctuation">;</span>


<span class="token comment">-- Revoke the spark0 resource permission of user user0</span>

<span class="token keyword">REVOKE</span> USAGE_PRIV <span class="token keyword">ON</span> RESOURCE <span class="token string">&quot;spark0&quot;</span> <span class="token keyword">FROM</span> <span class="token string">&quot;user0&quot;</span><span class="token variable">@&quot;%&quot;</span><span class="token punctuation">;</span>

</code></pre></div><h3 id="configure-spark-client"><a href="#configure-spark-client" class="header-anchor">#</a> Configure spark client</h3> <p>The Fe submits the spark task by executing the spark submit command. Therefore, it is necessary to configure the spark client for Fe. It is recommended to use the official version of spark 2 above 2.4.3, <a href="https://archive.apache.org/dist/spark/" target="_blank" rel="noopener noreferrer">download spark here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. After downloading, please follow the steps to complete the following configuration.</p> <h4 id="configure-spark-home-environment-variable"><a href="#configure-spark-home-environment-variable" class="header-anchor">#</a> Configure SPARK_HOME environment variable</h4> <p>Place the spark client on the same machine as Fe and configure <code>spark_home_default_dir</code> in the <code>fe.conf</code>. This configuration item defaults to the <code>fe/lib/spark2x</code> path. This config cannot be empty.</p> <h4 id="configure-spark-dependencies"><a href="#configure-spark-dependencies" class="header-anchor">#</a> Configure spark dependencies</h4> <p>Package all jar packages in jars folder under spark client root path into a zip file, and configure <code>spark_resource_patj</code> in <code>fe.conf</code> as this zip file's path.</p> <p>When the spark load task is submitted, this zip file will be uploaded to the remote repository, and the default repository path will be hung in <code>working_dir/{cluster_ID}</code> directory named as <code>__spark_repository__{resource_name}</code>, which indicates that a resource in the cluster corresponds to a remote warehouse. The directory structure of the remote warehouse is as follows:</p> <div class="language- extra-class"><pre class="language-text"><code>__spark_repository__spark0/
    |-__archive_1.0.0/
    |        |-__lib_990325d2c0d1d5e45bf675e54e44fb16_spark-dpp-1.0.0-jar-with-dependencies.jar
    |        |-__lib_7670c29daf535efe3c9b923f778f61fc_spark-2x.zip
    |-__archive_1.1.0/
    |        |-__lib_64d5696f99c379af2bee28c1c84271d5_spark-dpp-1.1.0-jar-with-dependencies.jar
    |        |-__lib_1bbb74bb6b264a270bc7fca3e964160f_spark-2x.zip
    |-__archive_1.2.0/
    |        |-...
</code></pre></div><p>In addition to spark dependency (named by <code>spark-2x.zip</code> by default), Fe will also upload DPP's dependency package to the remote repository. If all the dependency files submitted by spark load already exist in the remote repository, then there is no need to upload dependency, saving the time of repeatedly uploading a large number of files each time.</p> <h3 id="configure-yarn-client"><a href="#configure-yarn-client" class="header-anchor">#</a> Configure yarn client</h3> <p>The Fe obtains the running application status and kills the application by executing the yarn command. Therefore, you need to configure the yarn client for Fe. It is recommended to use the official version of Hadoop above 2.5.2, <a href="https://archive.apache.org/dist/hadoop/common/" target="_blank" rel="noopener noreferrer">download hadoop<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. After downloading, please follow the steps to complete the following configuration.</p> <h4 id="configure-the-yarn-client-path"><a href="#configure-the-yarn-client-path" class="header-anchor">#</a> Configure the yarn client path</h4> <p>Place the downloaded yarn client in the same machine as Fe, and configure <code>yarn_client_path</code> in the <code>fe.conf</code> as the executable file of yarn, which is set as the <code>fe/lib/yarn-client/hadoop/bin/yarn</code> by default.</p> <p>(optional) when Fe obtains the application status or kills the application through the yarn client, the configuration files required for executing the yarn command will be generated by default in the <code>lib/yarn-config</code> path in the Fe root directory. This path can be configured by configuring <code>yarn-config-dir</code> in the <code>fe.conf</code>. The currently generated configuration yarn config files include <code>core-site.xml</code> and <code>yarn-site.xml</code>.</p> <h3 id="create-load"><a href="#create-load" class="header-anchor">#</a> Create load</h3> <p>Grammar:</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">LOAD</span> LABEL load_label
    <span class="token punctuation">(</span>data_desc<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token keyword">WITH</span> RESOURCE resource_name resource_properties
    <span class="token punctuation">[</span>PROPERTIES <span class="token punctuation">(</span>key1<span class="token operator">=</span>value1<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span> <span class="token punctuation">)</span><span class="token punctuation">]</span>

<span class="token operator">*</span> load_label:
	db_name<span class="token punctuation">.</span>label_name

<span class="token operator">*</span> data_desc:
    <span class="token keyword">DATA</span> <span class="token keyword">INFILE</span> <span class="token punctuation">(</span><span class="token string">'file_path'</span><span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
    <span class="token punctuation">[</span>NEGATIVE<span class="token punctuation">]</span>
    <span class="token keyword">INTO</span> <span class="token keyword">TABLE</span> tbl_name
    <span class="token punctuation">[</span><span class="token keyword">PARTITION</span> <span class="token punctuation">(</span>p1<span class="token punctuation">,</span> p2<span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token keyword">COLUMNS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> separator <span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token punctuation">(</span>col1<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token keyword">SET</span> <span class="token punctuation">(</span>k1<span class="token operator">=</span>f1<span class="token punctuation">(</span>xx<span class="token punctuation">)</span><span class="token punctuation">,</span> k2<span class="token operator">=</span>f2<span class="token punctuation">(</span>xx<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">]</span>
    <span class="token punctuation">[</span><span class="token keyword">WHERE</span> predicate<span class="token punctuation">]</span>

<span class="token operator">*</span> resource_properties:
    <span class="token punctuation">(</span>key2<span class="token operator">=</span>value2<span class="token punctuation">,</span> <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">)</span>
</code></pre></div><p>Example 1: when the upstream data source is HDFS file</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">LOAD</span> LABEL db1<span class="token punctuation">.</span>label1
<span class="token punctuation">(</span>
    <span class="token keyword">DATA</span> <span class="token keyword">INFILE</span><span class="token punctuation">(</span><span class="token string">&quot;hdfs://abc.com:8888/user/palo/test/ml/file1&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">INTO</span> <span class="token keyword">TABLE</span> tbl1
    <span class="token keyword">COLUMNS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&quot;,&quot;</span>
    <span class="token punctuation">(</span>tmp_c1<span class="token punctuation">,</span>tmp_c2<span class="token punctuation">)</span>
    <span class="token keyword">SET</span>
    <span class="token punctuation">(</span>
        id<span class="token operator">=</span>tmp_c2<span class="token punctuation">,</span>
        name<span class="token operator">=</span>tmp_c1
    <span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token keyword">DATA</span> <span class="token keyword">INFILE</span><span class="token punctuation">(</span><span class="token string">&quot;hdfs://abc.com:8888/user/palo/test/ml/file2&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">INTO</span> <span class="token keyword">TABLE</span> tbl2
    <span class="token keyword">COLUMNS</span> <span class="token keyword">TERMINATED</span> <span class="token keyword">BY</span> <span class="token string">&quot;,&quot;</span>
    <span class="token punctuation">(</span>col1<span class="token punctuation">,</span> col2<span class="token punctuation">)</span>
    <span class="token keyword">where</span> col1 <span class="token operator">&gt;</span> <span class="token number">1</span>
<span class="token punctuation">)</span>
<span class="token keyword">WITH</span> RESOURCE <span class="token string">'spark0'</span>
<span class="token punctuation">(</span>
    <span class="token string">&quot;spark.executor.memory&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;2g&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;spark.shuffle.compress&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;true&quot;</span>
<span class="token punctuation">)</span>
PROPERTIES
<span class="token punctuation">(</span>
    <span class="token string">&quot;timeout&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;3600&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>Example 2: when the upstream data source is hive table</p> <div class="language-sql extra-class"><pre class="language-sql"><code>step <span class="token number">1</span>:新建hive外部表
<span class="token keyword">CREATE</span> EXTERNAL <span class="token keyword">TABLE</span> hive_t1
<span class="token punctuation">(</span>
    k1 <span class="token keyword">INT</span><span class="token punctuation">,</span>
    K2 <span class="token keyword">SMALLINT</span><span class="token punctuation">,</span>
    k3 <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">50</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    uuid <span class="token keyword">varchar</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token keyword">ENGINE</span><span class="token operator">=</span>hive
properties
<span class="token punctuation">(</span>
<span class="token string">&quot;database&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;tmp&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;table&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;t1&quot;</span><span class="token punctuation">,</span>
<span class="token string">&quot;hive.metastore.uris&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;thrift://0.0.0.0:8080&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

step <span class="token number">2</span>: 提交<span class="token keyword">load</span>命令
<span class="token keyword">LOAD</span> LABEL db1<span class="token punctuation">.</span>label1
<span class="token punctuation">(</span>
    <span class="token keyword">DATA</span> <span class="token keyword">FROM</span> <span class="token keyword">TABLE</span> hive_t1
    <span class="token keyword">INTO</span> <span class="token keyword">TABLE</span> tbl1
    <span class="token punctuation">(</span>k1<span class="token punctuation">,</span>k2<span class="token punctuation">,</span>k3<span class="token punctuation">)</span>
    <span class="token keyword">SET</span>
    <span class="token punctuation">(</span>
		uuid<span class="token operator">=</span>bitmap_dict<span class="token punctuation">(</span>uuid<span class="token punctuation">)</span>
    <span class="token punctuation">)</span>
<span class="token punctuation">)</span>
<span class="token keyword">WITH</span> RESOURCE <span class="token string">'spark0'</span>
<span class="token punctuation">(</span>
    <span class="token string">&quot;spark.executor.memory&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;2g&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;spark.shuffle.compress&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;true&quot;</span>
<span class="token punctuation">)</span>
PROPERTIES
<span class="token punctuation">(</span>
    <span class="token string">&quot;timeout&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;3600&quot;</span>
<span class="token punctuation">)</span><span class="token punctuation">;</span>

</code></pre></div><p>You can view the details syntax about creating load by input <code>help spark load</code>. This paper mainly introduces the parameter meaning and precautions in the creation and load syntax of spark load.</p> <h4 id="label"><a href="#label" class="header-anchor">#</a> Label</h4> <p>Identification of the import task. Each import task has a unique label within a single database. The specific rules are consistent with <code>broker load</code>.</p> <h4 id="data-description-parameters"><a href="#data-description-parameters" class="header-anchor">#</a> Data description parameters</h4> <p>Currently, the supported data sources are CSV and hive table. Other rules are consistent with <code>broker load</code>.</p> <h4 id="load-job-parameters"><a href="#load-job-parameters" class="header-anchor">#</a> Load job parameters</h4> <p>Load job parameters mainly refer to the <code>opt_properties</code> in the spark load. Load job parameters are applied to the entire load job. The rules are consistent with <code>broker load</code>.</p> <h4 id="spark-resource-parameters"><a href="#spark-resource-parameters" class="header-anchor">#</a> Spark resource parameters</h4> <p>Spark resources need to be configured into the Doris system in advance, and users should be given <code>USAGE_PRIV</code>. Spark load can only be used after priv permission.</p> <p>When users have temporary requirements, such as adding resources for tasks and modifying spark configs, you can set them here. The settings only take effect for this task and do not affect the existing configuration in the Doris cluster.</p> <div class="language-sql extra-class"><pre class="language-sql"><code><span class="token keyword">WITH</span> RESOURCE <span class="token string">'spark0'</span>
<span class="token punctuation">(</span>
  <span class="token string">&quot;spark.driver.memory&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;1g&quot;</span><span class="token punctuation">,</span>
  <span class="token string">&quot;spark.executor.memory&quot;</span> <span class="token operator">=</span> <span class="token string">&quot;3g&quot;</span>
<span class="token punctuation">)</span>
</code></pre></div><h4 id="load-when-data-source-is-hive-table"><a href="#load-when-data-source-is-hive-table" class="header-anchor">#</a> Load when data source is hive table</h4> <p>At present, if you want to use hive table as a data source in the import process, you need to create an external table of type hive,</p> <p>Then you can specify the table name of the external table when submitting the Load command.</p> <h4 id="load-process-to-build-global-dictionary"><a href="#load-process-to-build-global-dictionary" class="header-anchor">#</a> Load process to build global dictionary</h4> <p>The data type applicable to the aggregate columns of the Doris table is of type bitmap.</p> <p>In the load command, you can specify the field to build a global dictionary. The format is: '<code>doris field name=bitmap_dict(hive_table field name)</code></p> <p>It should be noted that the construction of global dictionary is supported only when the upstream data source is hive table.</p> <h3 id="show-load"><a href="#show-load" class="header-anchor">#</a> Show load</h3> <p>Spark load is asynchronous just like broker load, so the user must create the load label record and use label in the <strong>show load command to view the load result</strong>. The show load command is common in all load types. The specific syntax can be viewed by executing help show load.</p> <p>Example:</p> <div class="language- extra-class"><pre class="language-text"><code>mysql&gt; show load order by createtime desc limit 1\G
*************************** 1. row ***************************
         JobId: 76391
         Label: label1
         State: FINISHED
      Progress: ETL:100%; LOAD:100%
          Type: SPARK
       EtlInfo: unselected.rows=4; dpp.abnorm.ALL=15; dpp.norm.ALL=28133376
      TaskInfo: cluster:cluster0; timeout(s):10800; max_filter_ratio:5.0E-5
      ErrorMsg: N/A
    CreateTime: 2019-07-27 11:46:42
  EtlStartTime: 2019-07-27 11:46:44
 EtlFinishTime: 2019-07-27 11:49:44
 LoadStartTime: 2019-07-27 11:49:44
LoadFinishTime: 2019-07-27 11:50:16
           URL: http://1.1.1.1:8089/proxy/application_1586619723848_0035/
    JobDetails: {&quot;ScannedRows&quot;:28133395,&quot;TaskNumber&quot;:1,&quot;FileNumber&quot;:1,&quot;FileSize&quot;:200000}
</code></pre></div><p>Refer to broker load for the meaning of parameters in the returned result set. The differences are as follows:</p> <ul><li>State</li></ul> <p>The current phase of the load job. After the job is submitted, the status is pending. After the spark ETL is submitted, the status changes to ETL. After ETL is completed, Fe schedules be to execute push operation, and the status changes to finished after the push is completed and the version takes effect.</p> <p>There are two final stages of the load job: cancelled and finished. When the load job is in these two stages, the load is completed. Among them, cancelled is load failure, finished is load success.</p> <ul><li>Progress</li></ul> <p>Progress description of the load job. There are two kinds of progress: ETL and load, corresponding to the two stages of the load process, ETL and loading.</p> <p>The progress range of load is 0 ~ 100%.</p> <p><code>Load progress = the number of tables that have completed all replica imports / the total number of tables in this import task * 100%</code></p> <p><strong>If all load tables are loaded, the progress of load is 99%</strong>, the load enters the final effective stage. After the whole load is completed, the load progress will be changed to 100%.</p> <p>The load progress is not linear. Therefore, if the progress does not change over a period of time, it does not mean that the load is not in execution.</p> <ul><li>Type</li></ul> <p>Type of load job. Spark load is spark.</p> <ul><li>CreateTime/EtlStartTime/EtlFinishTime/LoadStartTime/LoadFinishTime</li></ul> <p>These values represent the creation time of the load, the start time of the ETL phase, the completion time of the ETL phase, the start time of the loading phase, and the completion time of the entire load job.</p> <ul><li>JobDetails</li></ul> <p>Display the detailed running status of some jobs, which will be updated when ETL ends. It includes the number of loaded files, the total size (bytes), the number of subtasks, the number of processed original lines, etc.</p> <p><code>{&quot;ScannedRows&quot;:139264,&quot;TaskNumber&quot;:1,&quot;FileNumber&quot;:1,&quot;FileSize&quot;:940754064}</code></p> <ul><li>URL</li></ul> <p>Copy this url to the browser and jump to the web interface of the corresponding application.</p> <h3 id="view-spark-launcher-commit-log"><a href="#view-spark-launcher-commit-log" class="header-anchor">#</a> View spark launcher commit log</h3> <p>Sometimes users need to view the detailed logs generated during the spark submission process. The logs are saved in the <code>log/spark_launcher_log</code> under the Fe root directory named as <code>spark_launcher_{load_job_id}_{label}.log</code>. The log will be saved in this directory for a period of time. When the load information in Fe metadata is cleaned up, the corresponding log will also be cleaned. The default saving log time is 3 days.</p> <h3 id="cancel-load"><a href="#cancel-load" class="header-anchor">#</a> cancel load</h3> <p>When the spark load job status is not cancelled or finished, it can be manually cancelled by the user. When canceling, you need to specify the label to cancel the load job. The syntax of the cancel load command can be viewed by executing <code>help cancel load</code>.</p> <h2 id="related-system-configuration"><a href="#related-system-configuration" class="header-anchor">#</a> Related system configuration</h2> <h3 id="fe-configuration"><a href="#fe-configuration" class="header-anchor">#</a> FE configuration</h3> <p>The following configuration belongs to the system level configuration of spark load, that is, the configuration for all spark load import tasks. Mainly through modification<code>fe.conf</code> to modify the configuration value.</p> <ul><li><code>enable_spark_load</code></li></ul> <p>Open spark load and create resource. The default value is false. This feature is turned off.</p> <ul><li><code>spark_load_default_timeout_second</code></li></ul> <p>The default timeout for tasks is 259200 seconds (3 days).</p> <ul><li><code>spark_home_default_dir</code></li></ul> <p>Spark client path (<code>Fe/lib/spark2x</code>).</p> <ul><li><code>spark_resource_path</code></li></ul> <p>The path of the packaged spark dependent file (empty by default).</p> <ul><li><code>spark_launcher_log_dir</code></li></ul> <p>The directory where the spark client's commit log is stored (<code>Fe/log/spark)_launcher_log</code>）.</p> <ul><li><code>yarn_client_path</code></li></ul> <p>The path of the yarn binary executable file (`Fe/lib/yarn-client/Hadoop/bin/yarn').</p> <ul><li><code>yarn_config_dir</code></li></ul> <p>The path to generate the yarn configuration file (<code>Fe/lib/yarn-config</code>).</p> <h2 id="best-practices"><a href="#best-practices" class="header-anchor">#</a> Best practices</h2> <h3 id="application-scenarios"><a href="#application-scenarios" class="header-anchor">#</a> Application scenarios</h3> <p>The most suitable scenario to use spark load is that the raw data is in the file system (HDFS), and the amount of data is tens of GB to TB. Stream load or broker load is recommended for small amount of data.</p> <h2 id="faq"><a href="#faq" class="header-anchor">#</a> FAQ</h2> <ul><li>When using spark load, the <code>HADOOP_CONF_DIR</code> environment variable is no set in the <code>spark-env.sh</code>.</li></ul> <p>If the <code>HADOOP_CONF_DIR</code> environment variable is not set, the error <code>When running with master 'yarn' either HADOOP_CONF_DIR or YARN_CONF_DIR must be set in the environment</code> will be reported.</p> <ul><li>When using spark load, the <code>spark_home_default_dir</code> does not specify correctly.</li></ul> <p>The spark submit command is used when submitting a spark job. If <code>spark_home_default_dir</code> is set incorrectly, an error <code>Cannot run program 'xxx/bin/spark_submit', error = 2, no such file or directory</code> will be reported.</p> <ul><li>When using spark load, <code>spark_resource_path</code> does not point to the packaged zip file.</li></ul> <p>If <code>spark_resource_path</code> is not set correctly. An error <code>file XXX/jars/spark-2x.zip</code> does not exist will be reported.</p> <ul><li>When using spark load <code>yarn_client_path</code> does not point to a executable file of yarn.</li></ul> <p>If <code>yarn_client_path</code> is not set correctly. An error <code>yarn client does not exist in path: XXX/yarn-client/hadoop/bin/yarn</code> will be reported.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/apache/incubator-doris/edit/master/docs/en/administrator-guide/load-data/spark-load-manual.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">5/12/2021, 2:38:46 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/master/en/administrator-guide/load-data/sequence-column-manual.html" class="prev">
        Sequence Column
      </a></span> <span class="next"><a href="/master/en/administrator-guide/load-data/stream-load-manual.html">
        Stream load
      </a>
      →
    </span></p></div> <footer><div class="footer-wrapper"><p class="apache-info"><a href="https://apache.org"><img width="200" src="/master/images/asf_logo.svg" alt="The Apache Software Foundation"></a> <a href="https://www.apache.org/events/current-event.html" style="float: right"><img src="https://www.apache.org/events/current-event-234x60.png"></a></p><p><a href="https://www.apache.org/licenses/">License</a> | <a href="https://www.apache.org/security/">Security</a> | <a href="https://www.apache.org/foundation/thanks.html">Thanks</a> | <a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></p> <p><br> <span class="footer-text">© Copyright 2021, Apache Doris(Incubating) </span> <br> <span class="footer-text">
      Apache Doris(incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.
    </span></p></div></footer></main></div><div class="global-ui"></div></div>
    <script src="/master/assets/js/app.dc9f1ccf.js" defer></script><script src="/master/assets/js/4.070d9810.js" defer></script><script src="/master/assets/js/3.14ec8901.js" defer></script><script src="/master/assets/js/79.68baab96.js" defer></script>
  </body>
</html>
