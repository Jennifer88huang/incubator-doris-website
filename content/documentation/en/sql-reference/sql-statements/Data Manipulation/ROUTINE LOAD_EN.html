

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ROUTINE LOAD &mdash; Doris Documentations 0.11.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="SHOW ALTER" href="SHOW ALTER_EN.html" />
    <link rel="prev" title="RESUME ROUTINE LOAD" href="RESUME ROUTINE LOAD_EN.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> Doris Documentations
          

          
          </a>

          
            
            
              <div class="version">
                0.11.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../cn/index.html">中文</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">English</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../downloads/index.html">Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installing/index.html">Compilation and Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../administrator-guide/index.html">Administrator Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../extending-doris/index.html">Extending Ability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../internal/index.html">Design Documents</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">SQL Manual</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../sql-functions/index.html">SQL Functions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">DDL Statements</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../Account Management/index.html">Account Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Administration/index.html">Administration</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Data Definition/index.html">Data Definition</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Data Manipulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Data Types/index.html">Data Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Utility/index.html">Utility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../developer-guide/index.html">Developer Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/index.html">Apache Commnity</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Doris Documentations</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../index.html">English</a> &raquo;</li>
        
          <li><a href="../../index.html">SQL Manual</a> &raquo;</li>
        
          <li><a href="../index.html">DDL Statements</a> &raquo;</li>
        
          <li><a href="index.html">Data Manipulation</a> &raquo;</li>
        
      <li>ROUTINE LOAD</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/apache/incubator-doris/blob/master/docs/documentation/en/sql-reference/sql-statements/Data Manipulation/ROUTINE LOAD_EN.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!-- 
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
--><div class="section" id="routine-load">
<h1>ROUTINE LOAD<a class="headerlink" href="#routine-load" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<h2>description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>Routine Load function allows users to submit a resident load task, and continuously load data into Doris by continuously reading data from the specified data source. Currently, only text data format (CSV) data is loaded from Kakfa by means of no authentication or SSL authentication.</p>
<p>Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">ROUTINE</span> <span class="n">LOAD</span> <span class="p">[</span><span class="n">db</span><span class="o">.</span><span class="p">]</span><span class="n">job_name</span> <span class="n">ON</span> <span class="n">tbl_name</span>
<span class="p">[</span><span class="n">load_properties</span><span class="p">]</span>
<span class="p">[</span><span class="n">job_properties</span><span class="p">]</span>
<span class="n">FROM</span> <span class="n">data_source</span>
<span class="p">[</span><span class="n">data_source_properties</span><span class="p">]</span>
</pre></div>
</div>
<ol>
<li><p class="first">[db.]job_name</p>
<p>The name of the load job, in the same database, only one job can run with the same name.</p>
</li>
<li><p class="first">tbl_name</p>
<p>Specifies the name of the table that needs to be loaded.</p>
</li>
<li><p class="first">load_properties</p>
<p>Used to describe the load data. grammar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">column_separator</span><span class="p">],</span>
<span class="p">[</span><span class="n">columns_mapping</span><span class="p">],</span>
<span class="p">[</span><span class="n">where_predicates</span><span class="p">],</span>
<span class="p">[</span><span class="n">partitions</span><span class="p">]</span>
</pre></div>
</div>
<ol>
<li><p class="first">column_separator:</p>
<p>Specify column separators, such as:</p>
<p><code class="docutils literal notranslate"><span class="pre">COLUMNS</span> <span class="pre">TERMINATED</span> <span class="pre">BY</span> <span class="pre">&quot;,&quot;</span></code></p>
<p>The default is: <code class="docutils literal notranslate"><span class="pre">\t</span></code></p>
</li>
<li><p class="first">columns_mapping:</p>
<p>Specifies the mapping of columns in the source data and defines how the derived columns are generated.</p>
<ol>
<li><p class="first">Map column:</p>
<p>Specify in order, which columns in the source data correspond to which columns in the destination table. For columns that you want to skip, you can specify a column name that does not exist.</p>
<p>Suppose the destination table has three columns k1, k2, v1. The source data has 4 columns, of which columns 1, 2, and 4 correspond to k2, k1, and v1, respectively. Write as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">COLUMNS</span> <span class="pre">(k2,</span> <span class="pre">k1,</span> <span class="pre">xxx,</span> <span class="pre">v1)</span></code></p>
<p>Where xxx is a column that does not exist and is used to skip the third column in the source data.</p>
</li>
<li><p class="first">Derived columns:</p>
<p>A column represented in the form of col_name = expr, which we call a derived column. That is, the value of the corresponding column in the destination table is calculated by expr.</p>
<p>Derived columns are usually arranged after the mapped column. Although this is not mandatory, Doris always parses the mapped columns first and then parses the derived columns.</p>
<p>Following an example, assume that the destination table also has column 4, v2, which is generated by the sum of k1 and k2. You can write as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">COLUMNS</span> <span class="pre">(k2,</span> <span class="pre">k1,</span> <span class="pre">xxx,</span> <span class="pre">v1,</span> <span class="pre">v2</span> <span class="pre">=</span> <span class="pre">k1</span> <span class="pre">+</span> <span class="pre">k2);</span></code></p>
</li>
</ol>
</li>
<li><p class="first">where_predicates</p>
<p>Used to specify filter criteria to filter out unwanted columns. Filter columns can be either mapped columns or derived columns.</p>
<p>For example, if we only want to load a column with k1 greater than 100 and k2 equal to 1000, we would write as follows:</p>
<p><code class="docutils literal notranslate"><span class="pre">WHERE</span> <span class="pre">k1</span> <span class="pre">&gt;</span> <span class="pre">100</span> <span class="pre">and</span> <span class="pre">k2</span> <span class="pre">=</span> <span class="pre">1000</span></code></p>
</li>
<li><p class="first">partitions</p>
<p>Specifies which partitions of the load destination table. If not specified, it will be automatically loaded into the corresponding partition.</p>
<p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">PARTITION(p1,</span> <span class="pre">p2,</span> <span class="pre">p3)</span></code></p>
</li>
</ol>
</li>
<li><p class="first">job_properties</p>
<p>A generic parameter that specifies a routine load job.</p>
<p>syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROPERTIES</span> <span class="p">(</span>
    <span class="s2">&quot;key1&quot;</span> <span class="o">=</span> <span class="s2">&quot;val1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;key2&quot;</span> <span class="o">=</span> <span class="s2">&quot;val2&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>Currently we support the following parameters:</p>
<ol>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">desired_concurrent_number</span></code></p>
<p>The degree of concurrency desired. A routine load job is split into multiple subtasks. This parameter specifies how many tasks can be executed simultaneously in a job. Must be greater than 0. The default is 3.</p>
<p>This concurrency is not the actual concurrency. The actual concurrency will be considered by the number of nodes in the cluster, the load, and the data source.</p>
<p>example:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;desired_concurrent_number&quot;</span> <span class="pre">=</span> <span class="pre">&quot;3&quot;</span></code></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">max_batch_interval/max_batch_rows/max_batch_size</span></code></p>
<p>These three parameters represent:</p>
<ol class="simple">
<li>The maximum execution time of each subtask, in seconds. The range is 5 to 60. The default is 10.</li>
<li>The maximum number of rows read per subtask. Must be greater than or equal to 200,000. The default is 200000.</li>
<li>The maximum number of bytes read per subtask. The unit is byte and the range is 100MB to 1GB. The default is 100MB.</li>
</ol>
<p>These three parameters are used to control the execution time and throughput of a subtask. When either one reaches the threshold, the task ends.</p>
<p>example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;max_batch_interval&quot;</span> <span class="o">=</span> <span class="s2">&quot;20&quot;</span><span class="p">,</span>
<span class="s2">&quot;max_batch_rows&quot;</span> <span class="o">=</span> <span class="s2">&quot;300000&quot;</span><span class="p">,</span>
<span class="s2">&quot;max_batch_size&quot;</span> <span class="o">=</span> <span class="s2">&quot;209715200&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">max_error_number</span></code></p>
<p>The maximum number of error lines allowed in the sampling window. Must be greater than or equal to 0. The default is 0, which means that no error lines are allowed.</p>
<p>The sampling window is max_batch_rows * 10. That is, if the number of error lines is greater than max_error_number in the sampling window, the routine job will be suspended, and manual intervention is required to check the data quality problem.</p>
<p>Lines that are filtered by the where condition are not counted as error lines.</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">strict_mode</span></code></p>
<p>Whether to enable strict mode, the default is on. If turned on, the column type transformation of non-null raw data is filtered if the result is NULL. Specified as “strict_mode” = “true”</p>
</li>
<li><p class="first">timezone</p>
<p>Specifies the time zone in which the job will be loaded. The default by using session variable’s timezone. This parameter affects all function results related to the time zone involved in the load.</p>
</li>
</ol>
</li>
<li><p class="first">data_source</p>
<p>The type of data source. Current support:</p>
<p>KAFKA</p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">data_source_properties</span></code></p>
<p>Specify information about the data source.</p>
<p>syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="s2">&quot;key1&quot;</span> <span class="o">=</span> <span class="s2">&quot;val1&quot;</span><span class="p">,</span>
    <span class="s2">&quot;key2&quot;</span> <span class="o">=</span> <span class="s2">&quot;val2&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<ol>
<li><p class="first">KAFKA data source</p>
<p><code class="docutils literal notranslate"><span class="pre">Kafka_broker_list</span></code></p>
<p>Kafka’s broker connection information. The format is ip:host. Multiple brokare separated by commas.</p>
<p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;kafka_broker_list&quot;</span> <span class="pre">=</span> <span class="pre">&quot;broker1:9092,broker2:9092&quot;</span></code></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">kafka_topic</span></code></p>
<p>Specify the topic of Kafka to subscribe to.</p>
<p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;kafka_topic&quot;</span> <span class="pre">=</span> <span class="pre">&quot;my_topic&quot;</span></code></p>
</li>
<li><p class="first"><code class="docutils literal notranslate"><span class="pre">kafka_partitions/kafka_offsets</span></code></p>
<p>Specify the kafka partition to be subscribed to, and the corresponding star offset for each partition.</p>
<p>Offset can specify a specific offset from 0 or greater, or:</p>
<ol class="simple">
<li>OFFSET_BEGINNING: Subscribe from the location where the data is avaie.</li>
<li>OFFSET_END: ​​Subscribe from the end.</li>
</ol>
<p>If not specified, all partitions under topic are subscribed by default fromSET_END.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;kafka_partitions&quot;</span> <span class="o">=</span> <span class="s2">&quot;0,1,2,3&quot;</span><span class="p">,</span>
<span class="s2">&quot;kafka_offsets&quot;</span> <span class="o">=</span> <span class="s2">&quot;101,0,OFFSET_BEGINNING,OFFSET_END&quot;</span>
</pre></div>
</div>
</li>
<li><p class="first">property</p>
<p>Specify custom kafka parameters.</p>
<p>The function is equivalent to the “–property” parameter in the kafka shel</p>
<p>When the value of the parameter is a file, you need to add the keyword: “FILbefore the value.</p>
<p>For information on how to create a file, see “HELP CREATE FILE;”</p>
<p>For more supported custom parameters, see the configuration items on the nt side in the official CONFIGURATION documentation for librdkafka.</p>
<p>Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;property.client.id&quot;</span> <span class="o">=</span> <span class="s2">&quot;12345&quot;</span><span class="p">,</span>
<span class="s2">&quot;property.ssl.ca.location&quot;</span> <span class="o">=</span> <span class="s2">&quot;FILE:ca.pem&quot;</span>
</pre></div>
</div>
<ol>
<li><p class="first">When connecting to Kafka using SSL, you need to specify the follg parameters:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;property.security.protocol&quot;</span> <span class="o">=</span> <span class="s2">&quot;ssl&quot;</span><span class="p">,</span>
<span class="s2">&quot;property.ssl.ca.location&quot;</span> <span class="o">=</span> <span class="s2">&quot;FILE:ca.pem&quot;</span><span class="p">,</span>
<span class="s2">&quot;property.ssl.certificate.location&quot;</span> <span class="o">=</span> <span class="s2">&quot;FILE:client.pem&quot;</span><span class="p">,</span>
<span class="s2">&quot;property.ssl.key.location&quot;</span> <span class="o">=</span> <span class="s2">&quot;FILE:client.key&quot;</span><span class="p">,</span>
<span class="s2">&quot;property.ssl.key.password&quot;</span> <span class="o">=</span> <span class="s2">&quot;abcdefg&quot;</span>
</pre></div>
</div>
<p>among them:</p>
<p>“property.security.protocol” and “property.ssl.ca.location” are requ to indicate the connection method is SSL and the location of the CA certate.</p>
<p>If the client authentication is enabled on the Kafka server, you alsod to set:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="s2">&quot;property.ssl.certificate.location&quot;</span>
<span class="s2">&quot;property.ssl.key.location&quot;</span>
<span class="s2">&quot;property.ssl.key.password&quot;</span>
</pre></div>
</div>
<p>Used to specify the public key of the client, the private key, and the word of the private key.</p>
</li>
<li><p class="first">Specify the default starting offset for kafka partition</p>
<p>If kafka_partitions/kafka_offsets is not specified, all partitions are umed by default, and you can specify kafka_default_offsets to specify the star offset. The default is OFFSET_END, which starts at the end of the substion.</p>
<p>Values:</p>
<ol class="simple">
<li>OFFSET_BEGINNING: Subscribe from the location where the data is avaie.</li>
<li>OFFSET_END: Subscribe from the end.</li>
</ol>
<p>Example:</p>
<p><code class="docutils literal notranslate"><span class="pre">&quot;property.kafka_default_offsets&quot;</span> <span class="pre">=</span> <span class="pre">&quot;OFFSET_BEGINNING&quot;</span></code></p>
</li>
</ol>
</li>
</ol>
</li>
<li><p class="first">load data format sample</p>
<p>Integer class (TINYINT/SMALLINT/INT/BIGINT/LARGEINT): 1, 1000, 1234</p>
<p>Floating point class (FLOAT/DOUBLE/DECIMAL): 1.1, 0.23, .356
&nbsp;
&nbsp;   Date class (DATE/DATETIME): 2017-10-03, 2017-06-13 12:34:03.</p>
<p>String class (CHAR/VARCHAR) (without quotes): I am a student, a</p>
<p>NULL value: \N</p>
</li>
</ol>
</div>
<div class="section" id="example">
<h2>example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<ol>
<li><p class="first">Create a Kafka routine load task named test1 for the example_tbl of example_db. Specify group.id and client.id, and automatically consume all partitions by default, with subscriptions starting at the end (OFFSET_END)</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">ROUTINE</span> <span class="n">LOAD</span> <span class="n">example_db</span><span class="o">.</span><span class="n">test1</span> <span class="n">ON</span> <span class="n">example_tbl</span>
<span class="n">COLUMNS</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">k1</span> <span class="o">*</span> <span class="mi">100</span><span class="p">)</span>
<span class="n">PROPERTIES</span>
<span class="p">(</span>
    <span class="s2">&quot;desired_concurrent_number&quot;</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_batch_interval&quot;</span> <span class="o">=</span> <span class="s2">&quot;20&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_batch_rows&quot;</span> <span class="o">=</span> <span class="s2">&quot;300000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_batch_size&quot;</span> <span class="o">=</span> <span class="s2">&quot;209715200&quot;</span><span class="p">,</span>
    <span class="s2">&quot;strict_mode&quot;</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
<span class="p">)</span>
<span class="n">FROM</span> <span class="n">KAFKA</span>
<span class="p">(</span>
    <span class="s2">&quot;kafka_broker_list&quot;</span> <span class="o">=</span> <span class="s2">&quot;broker1:9092,broker2:9092,broker3:9092&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kafka_topic&quot;</span> <span class="o">=</span> <span class="s2">&quot;my_topic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;property.group.id&quot;</span> <span class="o">=</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;property.client.id&quot;</span> <span class="o">=</span> <span class="s2">&quot;xxx&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a Kafka routine load task named test1 for the example_tbl of example_db. The load task is in strict mode.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">ROUTINE</span> <span class="n">LOAD</span> <span class="n">example_db</span><span class="o">.</span><span class="n">test1</span> <span class="n">ON</span> <span class="n">example_tbl</span>
<span class="n">COLUMNS</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">k1</span> <span class="o">*</span> <span class="mi">100</span><span class="p">),</span>
<span class="n">WHERE</span> <span class="n">k1</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="n">k2</span> <span class="n">like</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">oris%&quot;</span>
<span class="n">PROPERTIES</span>
<span class="p">(</span>
    <span class="s2">&quot;desired_concurrent_number&quot;</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_batch_interval&quot;</span> <span class="o">=</span> <span class="s2">&quot;20&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_batch_rows&quot;</span> <span class="o">=</span> <span class="s2">&quot;300000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_batch_size&quot;</span> <span class="o">=</span> <span class="s2">&quot;209715200&quot;</span><span class="p">,</span>
    <span class="s2">&quot;strict_mode&quot;</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span>
<span class="p">)</span>
<span class="n">FROM</span> <span class="n">KAFKA</span>
<span class="p">(</span>
    <span class="s2">&quot;kafka_broker_list&quot;</span> <span class="o">=</span> <span class="s2">&quot;broker1:9092,broker2:9092,broker3:9092&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kafka_topic&quot;</span> <span class="o">=</span> <span class="s2">&quot;my_topic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kafka_partitions&quot;</span> <span class="o">=</span> <span class="s2">&quot;0,1,2,3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kafka_offsets&quot;</span> <span class="o">=</span> <span class="s2">&quot;101,0,0,200&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">load data from Kafka clusters via SSL authentication. Also set the client.id parameter. The load task is in non-strict mode and the time zone is Africa/Abidjan</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">ROUTINE</span> <span class="n">LOAD</span> <span class="n">example_db</span><span class="o">.</span><span class="n">test1</span> <span class="n">ON</span> <span class="n">example_tbl</span>
<span class="n">COLUMNS</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span><span class="p">,</span> <span class="n">v1</span><span class="p">,</span> <span class="n">v2</span><span class="p">,</span> <span class="n">v3</span> <span class="o">=</span> <span class="n">k1</span> <span class="o">*</span> <span class="mi">100</span><span class="p">),</span>
<span class="n">WHERE</span> <span class="n">k1</span> <span class="o">&gt;</span> <span class="mi">100</span> <span class="ow">and</span> <span class="n">k2</span> <span class="n">like</span> <span class="s2">&quot;</span><span class="si">%d</span><span class="s2">oris%&quot;</span>
<span class="n">PROPERTIES</span>
<span class="p">(</span>
    <span class="s2">&quot;desired_concurrent_number&quot;</span><span class="o">=</span><span class="s2">&quot;3&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_batch_interval&quot;</span> <span class="o">=</span> <span class="s2">&quot;20&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_batch_rows&quot;</span> <span class="o">=</span> <span class="s2">&quot;300000&quot;</span><span class="p">,</span>
    <span class="s2">&quot;max_batch_size&quot;</span> <span class="o">=</span> <span class="s2">&quot;209715200&quot;</span><span class="p">,</span>
    <span class="s2">&quot;strict_mode&quot;</span> <span class="o">=</span> <span class="s2">&quot;false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;timezone&quot;</span> <span class="o">=</span> <span class="s2">&quot;Africa/Abidjan&quot;</span>
<span class="p">)</span>
<span class="n">FROM</span> <span class="n">KAFKA</span>
<span class="p">(</span>
    <span class="s2">&quot;kafka_broker_list&quot;</span> <span class="o">=</span> <span class="s2">&quot;broker1:9092,broker2:9092,broker3:9092&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kafka_topic&quot;</span> <span class="o">=</span> <span class="s2">&quot;my_topic&quot;</span><span class="p">,</span>
    <span class="s2">&quot;property.security.protocol&quot;</span> <span class="o">=</span> <span class="s2">&quot;ssl&quot;</span><span class="p">,</span>
    <span class="s2">&quot;property.ssl.ca.location&quot;</span> <span class="o">=</span> <span class="s2">&quot;FILE:ca.pem&quot;</span><span class="p">,</span>
    <span class="s2">&quot;property.ssl.certificate.location&quot;</span> <span class="o">=</span> <span class="s2">&quot;FILE:client.pem&quot;</span><span class="p">,</span>
    <span class="s2">&quot;property.ssl.key.location&quot;</span> <span class="o">=</span> <span class="s2">&quot;FILE:client.key&quot;</span><span class="p">,</span>
    <span class="s2">&quot;property.ssl.key.password&quot;</span> <span class="o">=</span> <span class="s2">&quot;abcdefg&quot;</span><span class="p">,</span>
    <span class="s2">&quot;property.client.id&quot;</span> <span class="o">=</span> <span class="s2">&quot;my_client_id&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="keyword">
<h2>keyword<a class="headerlink" href="#keyword" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span><span class="p">,</span> <span class="n">ROUTINE</span><span class="p">,</span> <span class="n">LOAD</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <!--
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at
  http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
-->

<footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="SHOW ALTER_EN.html" class="btn btn-neutral float-right" title="SHOW ALTER" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="RESUME ROUTINE LOAD_EN.html" class="btn btn-neutral float-left" title="RESUME ROUTINE LOAD" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Apache Doris(Incubating)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
<div role="contentinfo">
    <p></p>
    <p>

        Apache Doris(incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.

    </p>
</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>