

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>CREATE TABLE &mdash; Doris Documentations 0.11.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../../" src="../../../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../../search.html" />
    <link rel="next" title="CREATE VIEW" href="CREATE VIEW_EN.html" />
    <link rel="prev" title="CREATE REPOSITORY" href="CREATE REPOSITORY_EN.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../../../index.html" class="icon icon-home"> Doris Documentations
          

          
          </a>

          
            
            
              <div class="version">
                0.11.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../cn/index.html">中文</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">English</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../downloads/index.html">Downloads</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../installing/index.html">Compilation and Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../getting-started/index.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../administrator-guide/index.html">Administrator Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../extending-doris/index.html">Extending Ability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../internal/index.html">Design Documents</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">SQL Manual</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../sql-functions/index.html">SQL Functions</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">DDL Statements</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../Account Management/index.html">Account Management</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Administration/index.html">Administration</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">Data Definition</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Data Manipulation/index.html">Data Manipulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Data Types/index.html">Data Types</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Utility/index.html">Utility</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../developer-guide/index.html">Developer Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../community/index.html">Apache Commnity</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../../index.html">Doris Documentations</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../../../index.html">English</a> &raquo;</li>
        
          <li><a href="../../index.html">SQL Manual</a> &raquo;</li>
        
          <li><a href="../index.html">DDL Statements</a> &raquo;</li>
        
          <li><a href="index.html">Data Definition</a> &raquo;</li>
        
      <li>CREATE TABLE</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/apache/incubator-doris/blob/master/docs/documentation/en/sql-reference/sql-statements/Data Definition/CREATE TABLE_EN.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!-- 
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
--><div class="section" id="create-table">
<h1>CREATE TABLE<a class="headerlink" href="#create-table" title="Permalink to this headline">¶</a></h1>
<div class="section" id="description">
<h2>description<a class="headerlink" href="#description" title="Permalink to this headline">¶</a></h2>
<p>This statement is used to create table
Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">CREATE</span> <span class="p">[</span><span class="n">EXTERNAL</span><span class="p">]</span> <span class="n">TABLE</span> <span class="p">[</span><span class="n">IF</span> <span class="n">NOT</span> <span class="n">EXISTS</span><span class="p">]</span> <span class="p">[</span><span class="n">database</span><span class="o">.</span><span class="p">]</span><span class="n">table_name</span>
    <span class="p">(</span><span class="n">column_definition1</span><span class="p">[,</span> <span class="n">column_definition2</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
    <span class="p">[,</span> <span class="n">index_definition1</span><span class="p">[,</span> <span class="n">ndex_definition12</span><span class="p">,]])</span>
    <span class="p">[</span><span class="n">ENGINE</span> <span class="o">=</span> <span class="p">[</span><span class="n">olap</span><span class="o">|</span><span class="n">mysql</span><span class="o">|</span><span class="n">broker</span><span class="p">]]</span>
    <span class="p">[</span><span class="n">key_desc</span><span class="p">]</span>
    <span class="p">[</span><span class="n">COMMENT</span> <span class="s2">&quot;table comment&quot;</span><span class="p">]</span>
    <span class="p">[</span><span class="n">partition_desc</span><span class="p">]</span>
    <span class="p">[</span><span class="n">distribution_desc</span><span class="p">]</span>
    <span class="p">[</span><span class="n">rollup_index</span><span class="p">]</span>
    <span class="p">[</span><span class="n">PROPERTIES</span> <span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)]</span>
    <span class="p">[</span><span class="n">BROKER</span> <span class="n">PROPERTIES</span> <span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)];</span>
</pre></div>
</div>
<ol>
<li><p class="first">column_definition
Syntax:
<code class="docutils literal notranslate"><span class="pre">col_name</span> <span class="pre">col_type</span> <span class="pre">[agg_type]</span> <span class="pre">[NULL</span> <span class="pre">|</span> <span class="pre">NOT</span> <span class="pre">NULL]</span> <span class="pre">[DEFAULT</span> <span class="pre">&quot;default_value&quot;]</span></code>
Explain:
col_name: Name of column
col_type: Type of column</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">TINYINT</span><span class="p">(</span><span class="mi">1</span> <span class="n">Byte</span><span class="p">)</span>
        <span class="n">Range</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="o">^</span><span class="mi">7</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">~</span> <span class="mi">2</span><span class="o">^</span><span class="mi">7</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">SMALLINT</span><span class="p">(</span><span class="mi">2</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">Range</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="o">^</span><span class="mi">15</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">~</span> <span class="mi">2</span><span class="o">^</span><span class="mi">15</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">INT</span><span class="p">(</span><span class="mi">4</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">Range</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="o">^</span><span class="mi">31</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">~</span> <span class="mi">2</span><span class="o">^</span><span class="mi">31</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">BIGINT</span><span class="p">(</span><span class="mi">8</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">Range</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="o">^</span><span class="mi">63</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">~</span> <span class="mi">2</span><span class="o">^</span><span class="mi">63</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">LARGEINT</span><span class="p">(</span><span class="mi">16</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">Range</span><span class="p">:</span> <span class="o">-</span><span class="mi">2</span><span class="o">^</span><span class="mi">127</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">~</span> <span class="mi">2</span><span class="o">^</span><span class="mi">127</span> <span class="o">-</span> <span class="mi">1</span>
    <span class="n">FLOAT</span><span class="p">(</span><span class="mi">4</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">Support</span> <span class="n">scientific</span> <span class="n">notation</span>
    <span class="n">DOUBLE</span><span class="p">(</span><span class="mi">12</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">Support</span> <span class="n">scientific</span> <span class="n">notation</span>
    <span class="n">DECIMAL</span><span class="p">[(</span><span class="n">precision</span><span class="p">,</span> <span class="n">scale</span><span class="p">)]</span> <span class="p">(</span><span class="mi">16</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">Default</span> <span class="ow">is</span> <span class="n">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
        <span class="n">precision</span><span class="p">:</span> <span class="mi">1</span> <span class="o">~</span> <span class="mi">27</span>
        <span class="n">scale</span><span class="p">:</span> <span class="mi">0</span> <span class="o">~</span> <span class="mi">9</span>
        <span class="n">integer</span> <span class="n">part</span><span class="p">:</span> <span class="mi">1</span> <span class="o">~</span> <span class="mi">18</span>
        <span class="n">fractional</span> <span class="n">part</span><span class="p">:</span> <span class="mi">0</span> <span class="o">~</span> <span class="mi">9</span>
        <span class="n">Not</span> <span class="n">support</span> <span class="n">scientific</span> <span class="n">notation</span>
    <span class="n">DATE</span><span class="p">(</span><span class="mi">3</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">Range</span><span class="p">:</span> <span class="mi">1900</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="o">~</span> <span class="mi">9999</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span>
    <span class="n">DATETIME</span><span class="p">(</span><span class="mi">8</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">Range</span><span class="p">:</span> <span class="mi">1900</span><span class="o">-</span><span class="mi">01</span><span class="o">-</span><span class="mi">01</span> <span class="mi">00</span><span class="p">:</span><span class="mi">00</span><span class="p">:</span><span class="mi">00</span> <span class="o">~</span> <span class="mi">9999</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">31</span> <span class="mi">23</span><span class="p">:</span><span class="mi">59</span><span class="p">:</span><span class="mi">59</span>
    <span class="n">CHAR</span><span class="p">[(</span><span class="n">length</span><span class="p">)]</span>
        <span class="n">Fixed</span> <span class="n">length</span> <span class="n">string</span><span class="o">.</span> <span class="n">Range</span><span class="p">:</span> <span class="mi">1</span> <span class="o">~</span> <span class="mf">255.</span> <span class="n">Default</span><span class="p">:</span> <span class="mi">1</span>
    <span class="n">VARCHAR</span><span class="p">[(</span><span class="n">length</span><span class="p">)]</span>
        <span class="n">Variable</span> <span class="n">length</span> <span class="n">string</span><span class="o">.</span> <span class="n">Range</span><span class="p">:</span> <span class="mi">1</span> <span class="o">~</span> <span class="mi">65533</span>
    <span class="n">HLL</span> <span class="p">(</span><span class="mi">1</span><span class="o">~</span><span class="mi">16385</span> <span class="n">Bytes</span><span class="p">)</span>
        <span class="n">HLL</span> <span class="n">tpye</span><span class="p">,</span> <span class="n">No</span> <span class="n">need</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">length</span><span class="o">.</span>
        <span class="n">This</span> <span class="nb">type</span> <span class="n">can</span> <span class="n">only</span> <span class="n">be</span> <span class="n">queried</span> <span class="n">by</span> <span class="n">hll_union_agg</span><span class="p">,</span> <span class="n">hll_cardinality</span><span class="p">,</span> <span class="n">hll_hash</span> <span class="n">functions</span><span class="o">.</span>
    <span class="n">BITMAP</span>
        <span class="n">BITMAP</span> <span class="nb">type</span><span class="p">,</span> <span class="n">No</span> <span class="n">need</span> <span class="n">to</span> <span class="n">specify</span> <span class="n">length</span><span class="o">.</span> <span class="n">Represent</span> <span class="n">a</span> <span class="nb">set</span> <span class="n">of</span> <span class="n">unsigned</span> <span class="n">bigint</span> <span class="n">numbers</span><span class="p">,</span> <span class="n">the</span> <span class="n">largest</span> <span class="n">element</span> <span class="n">could</span> <span class="n">be</span> <span class="mi">2</span><span class="o">^</span><span class="mi">64</span> <span class="o">-</span> <span class="mi">1</span>
</pre></div>
</div>
<p>agg_type: Aggregation type. If not specified, the column is key column. Otherwise, the column   is value column.
* SUM、MAX、MIN、REPLACE
* HLL_UNION: Only for HLL type
* REPLACE_IF_NOT_NULL: The meaning of this aggregation type is that substitution will   occur if and only if the newly imported data is a non-null value. If the newly imported   data is null, Doris will still retain the original value. Note: if NOT NULL is specified  in the REPLACE_IF_NOT_NULL column when the user creates the table, Doris will convert it     to NULL and will not report an error to the user. Users can leverage this aggregate type    to achieve importing some of columns.
* BITMAP_UNION: Only for BITMAP type
Allow NULL: Default is NOT NULL. NULL value should be represented as <code class="docutils literal notranslate"><span class="pre">\N</span></code> in load source file.
Notice:The origin value of BITMAP_UNION column should be TINYINT, SMALLINT, INT, BIGINT.</p>
</li>
<li><p class="first">index_definition
Syntax:
<code class="docutils literal notranslate"><span class="pre">INDEX</span> <span class="pre">index_name</span> <span class="pre">(col_name[,</span> <span class="pre">col_name,</span> <span class="pre">...])</span> <span class="pre">[USING</span> <span class="pre">BITMAP]</span> <span class="pre">COMMENT</span> <span class="pre">'xxxxxx'</span></code>
Explain:
index_name：index name
col_name：column name
Notice:
Only support BITMAP index in current version, BITMAP can only apply to single column</p>
</li>
<li><p class="first">ENGINE type
Default is olap. Options are: olap, mysql, broker</p>
<ol>
<li><p class="first">For mysql, properties should include:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROPERTIES</span> <span class="p">(</span>
    <span class="s2">&quot;host&quot;</span> <span class="o">=</span> <span class="s2">&quot;mysql_server_host&quot;</span><span class="p">,</span>
    <span class="s2">&quot;port&quot;</span> <span class="o">=</span> <span class="s2">&quot;mysql_server_port&quot;</span><span class="p">,</span>
    <span class="s2">&quot;user&quot;</span> <span class="o">=</span> <span class="s2">&quot;your_user_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span> <span class="o">=</span> <span class="s2">&quot;your_password&quot;</span><span class="p">,</span>
    <span class="s2">&quot;database&quot;</span> <span class="o">=</span> <span class="s2">&quot;database_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;table&quot;</span> <span class="o">=</span> <span class="s2">&quot;table_name&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>Notice:
“table_name” is the real table name in MySQL database.
table_name in CREATE TABLE stmt is table is Doris. They can be different or same.
MySQL table created in Doris is for accessing data in MySQL database.
Doris does not maintain and store any data from MySQL table.</p>
<ol>
<li><p class="first">For broker, properties should include:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROPERTIES</span> <span class="p">(</span>
    <span class="s2">&quot;broker_name&quot;</span> <span class="o">=</span> <span class="s2">&quot;broker_name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;path&quot;</span> <span class="o">=</span> <span class="s2">&quot;file_path1[,file_path2]&quot;</span><span class="p">,</span>
    <span class="s2">&quot;column_separator&quot;</span> <span class="o">=</span> <span class="s2">&quot;value_separator&quot;</span>
    <span class="s2">&quot;line_delimiter&quot;</span> <span class="o">=</span> <span class="s2">&quot;value_delimiter&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">BROKER</span> <span class="n">PROPERTIES</span><span class="p">(</span>
    <span class="s2">&quot;username&quot;</span> <span class="o">=</span> <span class="s2">&quot;name&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span> <span class="o">=</span> <span class="s2">&quot;password&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>For different broker, the broker properties are different
Notice:
Files name in “path” is separated by “,”. If file name includes “,”, use “%2c” instead.     If file name includes “%”, use “%25” instead.
Support CSV and Parquet. Support GZ, BZ2, LZ4, LZO(LZOP)</p>
</li>
</ol>
</li>
<li><p class="first">key_desc
Syntax:
key_type(k1[,k2 …])
Explain:
Data is orderd by specified key columns. And has different behaviors for different key  desc.
AGGREGATE KEY:
value columns will be aggregated is key columns are same.
UNIQUE KEY:
The new incoming rows will replace the old rows if key columns are same.
DUPLICATE KEY:
All incoming rows will be saved.
the default key_type is DUPLICATE KEY, and key columns are first 36 bytes of the columns    in define order.
If the number of columns in the first 36 is less than 3, the first 3 columns will be   used.
NOTICE:
Except for AGGREGATE KEY, no need to specify aggregation type for value columns.</p>
</li>
<li><p class="first">partition_desc
Partition has two ways to use:</p>
<ol>
<li><p class="first">LESS THAN
Syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PARTITION</span> <span class="n">BY</span> <span class="n">RANGE</span> <span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="p">(</span>
<span class="n">PARTITION</span> <span class="n">partition_name1</span> <span class="n">VALUES</span> <span class="n">LESS</span> <span class="n">THAN</span> <span class="n">MAXVALUE</span><span class="o">|</span><span class="p">(</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">),</span>
<span class="n">PARTITION</span> <span class="n">partition_name2</span> <span class="n">VALUES</span> <span class="n">LESS</span> <span class="n">THAN</span> <span class="n">MAXVALUE</span><span class="o">|</span><span class="p">(</span><span class="s2">&quot;value1&quot;</span><span class="p">,</span> <span class="s2">&quot;value2&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
<span class="o">...</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<p>Explain:
1) Partition name only support [A-z0-9_]
2) Partition key column’s type should be:
TINYINT, SMALLINT, INT, BIGINT, LARGEINT, DATE, DATETIME
3) The range is [closed, open). And the lower bound of first partition is MIN VALUE of  specifed column type.
4) NULL values should be save in partition which includes MIN VALUE.
5) Support multi partition columns, the the default partition value is MIN VALUE.
2）Fixed Range
Syntax:
<code class="docutils literal notranslate"><span class="pre">PARTITION</span> <span class="pre">BY</span> <span class="pre">RANGE</span> <span class="pre">(k1,</span> <span class="pre">k2,</span> <span class="pre">k3,</span> <span class="pre">...)</span> <span class="pre">(</span> <span class="pre">PARTITION</span> <span class="pre">partition_name1</span> <span class="pre">VALUES</span> <span class="pre">[(&quot;k1-lower1&quot;,</span> <span class="pre">&quot;k2-lower1&quot;,</span> <span class="pre">&quot;k3-lower1&quot;,...),</span>&#160; <span class="pre">(&quot;k1-upper1&quot;,</span> <span class="pre">&quot;k2-upper1&quot;,</span> <span class="pre">&quot;k3-upper1&quot;,</span> <span class="pre">...)),</span> <span class="pre">PARTITION</span> <span class="pre">partition_name2</span> <span class="pre">VALUES</span> <span class="pre">[(&quot;k1-lower1-2&quot;,</span> <span class="pre">&quot;k2-lower1-2&quot;,</span> <span class="pre">...),</span> <span class="pre">(&quot;k1-upper1-2&quot;,</span>&#160; <span class="pre">MAXVALUE,</span> <span class="pre">))</span> <span class="pre">&quot;k3-upper1-2&quot;,</span> <span class="pre">...</span> <span class="pre">)</span></code>
Explain:
1）The Fixed Range is more flexible than the LESS THAN, and the left and right intervals    are completely determined by the user.
2）Others are consistent with LESS THAN.</p>
</li>
<li><p class="first">distribution_desc</p>
<ol class="simple">
<li>Hash
Syntax:
<code class="docutils literal notranslate"><span class="pre">DISTRIBUTED</span> <span class="pre">BY</span> <span class="pre">HASH</span> <span class="pre">(k1[,k2</span> <span class="pre">...])</span> <span class="pre">[BUCKETS</span> <span class="pre">num]</span></code>
Explain:
The default buckets is 10.</li>
</ol>
</li>
<li><p class="first">PROPERTIES</p>
<ol>
<li><p class="first">If ENGINE type is olap. User can specify storage medium, cooldown time and replication   number:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROPERTIES</span> <span class="p">(</span>
    <span class="s2">&quot;storage_medium&quot;</span> <span class="o">=</span> <span class="s2">&quot;[SSD|HDD]&quot;</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;storage_cooldown_time&quot;</span> <span class="o">=</span> <span class="s2">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;replication_num&quot;</span> <span class="o">=</span> <span class="s2">&quot;3&quot;</span><span class="p">]</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>storage_medium:         SSD or HDD
storage_cooldown_time:  If storage_medium is SSD, data will be automatically moved to HDD   when timeout.
Default is 7 days.
Format: “yyyy-MM-dd HH:mm:ss”
replication_num:        Replication number of a partition. Default is 3.
If table is not range partitions. This property takes on Table level. Or it will takes on   Partition level.
User can specify different properties for different partition by <code class="docutils literal notranslate"><span class="pre">ADD</span> <span class="pre">PARTITION</span></code> or     <code class="docutils literal notranslate"><span class="pre">MODIFY</span> <span class="pre">PARTITION</span></code> statements.</p>
</li>
<li><p class="first">If Engine type is olap, user can set bloom filter index for column.
Bloom filter index will be used when query contains <code class="docutils literal notranslate"><span class="pre">IN</span></code> or <code class="docutils literal notranslate"><span class="pre">EQUAL</span></code>.
Bloom filter index support key columns with type except TINYINT FLOAT DOUBLE, also  support value with REPLACE aggregation type.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROPERTIES</span> <span class="p">(</span>
    <span class="s2">&quot;bloom_filter_columns&quot;</span><span class="o">=</span><span class="s2">&quot;k1,k2,k3&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">For Colocation Join:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROPERTIES</span> <span class="p">(</span>
    <span class="s2">&quot;colocate_with&quot;</span><span class="o">=</span><span class="s2">&quot;table1&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
<li><p class="first">if you want to use the dynamic partitioning feature, specify it in properties</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROPERTIES</span> <span class="p">(</span>
    <span class="s2">&quot;dynamic_partition.enable&quot;</span> <span class="o">=</span> <span class="s2">&quot;true|false&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dynamic_partition.time_unit&quot;</span> <span class="o">=</span> <span class="s2">&quot;DAY|WEEK|MONTH&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dynamic_partitoin.end&quot;</span> <span class="o">=</span> <span class="s2">&quot;$</span><span class="si">{integer_value}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dynamic_partition.prefix&quot;</span> <span class="o">=</span> <span class="s2">&quot;$</span><span class="si">{string_value}</span><span class="s2">&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dynamic_partition.buckets&quot;</span> <span class="o">=</span> <span class="s2">&quot;$</span><span class="si">{integer_value}</span>
<span class="p">)</span>    
</pre></div>
</div>
<p>Dynamic_partition. Enable: specifies whether dynamic partitioning at the table level is enabled</p>
<p>Dynamic_partition. Time_unit: used to specify the time unit for dynamically adding partitions, which can be selected as DAY, WEEK, and MONTH.</p>
<p>Dynamic_partition. End: used to specify the number of partitions created in advance</p>
<p>Dynamic_partition. Prefix: used to specify the partition name prefix to be created, such as the partition name prefix p, automatically creates the partition name p20200108</p>
<p>Dynamic_partition. Buckets: specifies the number of partition buckets that are automatically created</p>
</li>
</ol>
</li>
<li><p class="first">rollup_index
grammar:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>  <span class="n">ROLLUP</span> <span class="p">(</span><span class="n">rollup_name</span> <span class="p">(</span><span class="n">column_name1</span><span class="p">,</span> <span class="n">column_name2</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>
                 <span class="p">[</span><span class="n">FROM</span> <span class="n">from_index_name</span><span class="p">]</span>
                  <span class="p">[</span><span class="n">PROPERTIES</span> <span class="p">(</span><span class="s2">&quot;key&quot;</span><span class="o">=</span><span class="s2">&quot;value&quot;</span><span class="p">,</span> <span class="o">...</span><span class="p">)],</span><span class="o">...</span><span class="p">)</span>
</pre></div>
</div>
<ol>
<li><p class="first">if you want to use the inmemory table feature, specify it in properties</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PROPERTIES</span> <span class="p">(</span>
   <span class="s2">&quot;in_memory&quot;</span><span class="o">=</span><span class="s2">&quot;true&quot;</span>
<span class="p">)</span>   
</pre></div>
</div>
</li>
</ol>
</li>
</ol>
</div>
<div class="section" id="example">
<h2>example<a class="headerlink" href="#example" title="Permalink to this headline">¶</a></h2>
<ol>
<li><p class="first">Create an olap table, distributed by hash, with aggregation type.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">table_hash</span>
<span class="p">(</span>
<span class="n">k1</span> <span class="n">TINYINT</span><span class="p">,</span>
<span class="n">k2</span> <span class="n">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">DEFAULT</span> <span class="s2">&quot;10.5&quot;</span><span class="p">,</span>
<span class="n">v1</span> <span class="n">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="n">REPLACE</span><span class="p">,</span>
<span class="n">v2</span> <span class="n">INT</span> <span class="n">SUM</span>
<span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="n">olap</span>
<span class="n">AGGREGATE</span> <span class="n">KEY</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span>
<span class="n">COMMENT</span> <span class="s2">&quot;my first doris table&quot;</span>
<span class="n">DISTRIBUTED</span> <span class="n">BY</span> <span class="n">HASH</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span> <span class="n">BUCKETS</span> <span class="mi">32</span>
<span class="n">PROPERTIES</span> <span class="p">(</span><span class="s2">&quot;storage_type&quot;</span><span class="o">=</span><span class="s2">&quot;column&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Create an olap table, distributed by hash, with aggregation type. Also set storage mediumand cooldown time.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">table_hash</span>
<span class="p">(</span>
<span class="n">k1</span> <span class="n">BIGINT</span><span class="p">,</span>
<span class="n">k2</span> <span class="n">LARGEINT</span><span class="p">,</span>
<span class="n">v1</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">2048</span><span class="p">)</span> <span class="n">REPLACE</span><span class="p">,</span>
<span class="n">v2</span> <span class="n">SMALLINT</span> <span class="n">SUM</span> <span class="n">DEFAULT</span> <span class="s2">&quot;10&quot;</span>
<span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="n">olap</span>
<span class="n">UNIQUE</span> <span class="n">KEY</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span>
<span class="n">DISTRIBUTED</span> <span class="n">BY</span> <span class="n">HASH</span> <span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span> <span class="n">BUCKETS</span> <span class="mi">32</span>
<span class="n">PROPERTIES</span><span class="p">(</span>
<span class="s2">&quot;storage_type&quot;</span><span class="o">=</span><span class="s2">&quot;column&quot;</span><span class="p">,</span>
<span class="s2">&quot;storage_medium&quot;</span> <span class="o">=</span> <span class="s2">&quot;SSD&quot;</span><span class="p">,</span>
<span class="s2">&quot;storage_cooldown_time&quot;</span> <span class="o">=</span> <span class="s2">&quot;2015-06-04 00:00:00&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Create an olap table, with range partitioned, distributed by hash.</p>
</li>
</ol>
<ol>
<li><p class="first">LESS THAN</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">table_range</span>
<span class="p">(</span>
<span class="n">k1</span> <span class="n">DATE</span><span class="p">,</span>
<span class="n">k2</span> <span class="n">INT</span><span class="p">,</span>
<span class="n">k3</span> <span class="n">SMALLINT</span><span class="p">,</span>
<span class="n">v1</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">2048</span><span class="p">),</span>
<span class="n">v2</span> <span class="n">DATETIME</span> <span class="n">DEFAULT</span> <span class="s2">&quot;2014-02-04 15:36:00&quot;</span>
<span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="n">olap</span>
<span class="n">DUPLICATE</span> <span class="n">KEY</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span><span class="p">)</span>
<span class="n">PARTITION</span> <span class="n">BY</span> <span class="n">RANGE</span> <span class="p">(</span><span class="n">k1</span><span class="p">)</span>
<span class="p">(</span>
<span class="n">PARTITION</span> <span class="n">p1</span> <span class="n">VALUES</span> <span class="n">LESS</span> <span class="n">THAN</span> <span class="p">(</span><span class="s2">&quot;2014-01-01&quot;</span><span class="p">),</span>
<span class="n">PARTITION</span> <span class="n">p2</span> <span class="n">VALUES</span> <span class="n">LESS</span> <span class="n">THAN</span> <span class="p">(</span><span class="s2">&quot;2014-06-01&quot;</span><span class="p">),</span>
<span class="n">PARTITION</span> <span class="n">p3</span> <span class="n">VALUES</span> <span class="n">LESS</span> <span class="n">THAN</span> <span class="p">(</span><span class="s2">&quot;2014-12-01&quot;</span><span class="p">)</span>
<span class="p">)</span>
<span class="n">DISTRIBUTED</span> <span class="n">BY</span> <span class="n">HASH</span><span class="p">(</span><span class="n">k2</span><span class="p">)</span> <span class="n">BUCKETS</span> <span class="mi">32</span>
<span class="n">PROPERTIES</span><span class="p">(</span>
<span class="s2">&quot;storage_medium&quot;</span> <span class="o">=</span> <span class="s2">&quot;SSD&quot;</span><span class="p">,</span> <span class="s2">&quot;storage_cooldown_time&quot;</span> <span class="o">=</span> <span class="s2">&quot;2015-06-04 00:00:00&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Explain:
This statement will create 3 partitions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span> <span class="p">{</span>    <span class="n">MIN</span>     <span class="p">},</span>   <span class="p">{</span><span class="s2">&quot;2014-01-01&quot;</span><span class="p">}</span> <span class="p">)</span>
<span class="p">[</span> <span class="p">{</span><span class="s2">&quot;2014-01-01&quot;</span><span class="p">},</span>   <span class="p">{</span><span class="s2">&quot;2014-06-01&quot;</span><span class="p">}</span> <span class="p">)</span>
<span class="p">[</span> <span class="p">{</span><span class="s2">&quot;2014-06-01&quot;</span><span class="p">},</span>   <span class="p">{</span><span class="s2">&quot;2014-12-01&quot;</span><span class="p">}</span> <span class="p">)</span>
</pre></div>
</div>
<p>Data outside these ranges will not be loaded.</p>
</li>
<li><p class="first">Fixed Range
CREATE TABLE table_range
(
k1 DATE,
k2 INT,
k3 SMALLINT,
v1 VARCHAR(2048),
v2 DATETIME DEFAULT “2014-02-04 15:36:00”
)
ENGINE=olap
DUPLICATE KEY(k1, k2, k3)
PARTITION BY RANGE (k1, k2, k3)
(
PARTITION p1 VALUES [(“2014-01-01”, “10”, “200”), (“2014-01-01”, “20”, “300”)),
PARTITION p2 VALUES [(“2014-06-01”, “100”, “200”), (“2014-07-01”, “100”, “300”))
)
DISTRIBUTED BY HASH(k2) BUCKETS 32
PROPERTIES(
“storage_medium” = “SSD”
);</p>
</li>
</ol>
<ol>
<li><p class="first">Create a mysql table</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">table_mysql</span>
<span class="p">(</span>
<span class="n">k1</span> <span class="n">DATE</span><span class="p">,</span>
<span class="n">k2</span> <span class="n">INT</span><span class="p">,</span>
<span class="n">k3</span> <span class="n">SMALLINT</span><span class="p">,</span>
<span class="n">k4</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">2048</span><span class="p">),</span>
<span class="n">k5</span> <span class="n">DATETIME</span>
<span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="n">mysql</span>
<span class="n">PROPERTIES</span>
<span class="p">(</span>
<span class="s2">&quot;host&quot;</span> <span class="o">=</span> <span class="s2">&quot;127.0.0.1&quot;</span><span class="p">,</span>
<span class="s2">&quot;port&quot;</span> <span class="o">=</span> <span class="s2">&quot;8239&quot;</span><span class="p">,</span>
<span class="s2">&quot;user&quot;</span> <span class="o">=</span> <span class="s2">&quot;mysql_user&quot;</span><span class="p">,</span>
<span class="s2">&quot;password&quot;</span> <span class="o">=</span> <span class="s2">&quot;mysql_passwd&quot;</span><span class="p">,</span>
<span class="s2">&quot;database&quot;</span> <span class="o">=</span> <span class="s2">&quot;mysql_db_test&quot;</span><span class="p">,</span>
<span class="s2">&quot;table&quot;</span> <span class="o">=</span> <span class="s2">&quot;mysql_table_test&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a broker table, with file on HDFS, line delimit by “|”, column separated by “\n”</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">EXTERNAL</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">table_broker</span> <span class="p">(</span>
<span class="n">k1</span> <span class="n">DATE</span><span class="p">,</span>
<span class="n">k2</span> <span class="n">INT</span><span class="p">,</span>
<span class="n">k3</span> <span class="n">SMALLINT</span><span class="p">,</span>
<span class="n">k4</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">2048</span><span class="p">),</span>
<span class="n">k5</span> <span class="n">DATETIME</span>
<span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="n">broker</span>
<span class="n">PROPERTIES</span> <span class="p">(</span>
<span class="s2">&quot;broker_name&quot;</span> <span class="o">=</span> <span class="s2">&quot;hdfs&quot;</span><span class="p">,</span>
<span class="s2">&quot;path&quot;</span> <span class="o">=</span> <span class="s2">&quot;hdfs://hdfs_host:hdfs_port/data1,hdfs://hdfs_host:hdfs_port/data2,hdfs://hdfs_host:hdfs_port/data3</span><span class="si">%2c</span><span class="s2">4&quot;</span><span class="p">,</span>
<span class="s2">&quot;column_separator&quot;</span> <span class="o">=</span> <span class="s2">&quot;|&quot;</span><span class="p">,</span>
<span class="s2">&quot;line_delimiter&quot;</span> <span class="o">=</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span>
<span class="p">)</span>
<span class="n">BROKER</span> <span class="n">PROPERTIES</span> <span class="p">(</span>
<span class="s2">&quot;username&quot;</span> <span class="o">=</span> <span class="s2">&quot;hdfs_user&quot;</span><span class="p">,</span>
<span class="s2">&quot;password&quot;</span> <span class="o">=</span> <span class="s2">&quot;hdfs_password&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Create table will HLL column</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">example_table</span>
<span class="p">(</span>
<span class="n">k1</span> <span class="n">TINYINT</span><span class="p">,</span>
<span class="n">k2</span> <span class="n">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">DEFAULT</span> <span class="s2">&quot;10.5&quot;</span><span class="p">,</span>
<span class="n">v1</span> <span class="n">HLL</span> <span class="n">HLL_UNION</span><span class="p">,</span>
<span class="n">v2</span> <span class="n">HLL</span> <span class="n">HLL_UNION</span>
<span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="n">olap</span>
<span class="n">AGGREGATE</span> <span class="n">KEY</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span>
<span class="n">DISTRIBUTED</span> <span class="n">BY</span> <span class="n">HASH</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span> <span class="n">BUCKETS</span> <span class="mi">32</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a table will BITMAP_UNION column</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">example_table</span>
<span class="p">(</span>
<span class="n">k1</span> <span class="n">TINYINT</span><span class="p">,</span>
<span class="n">k2</span> <span class="n">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">DEFAULT</span> <span class="s2">&quot;10.5&quot;</span><span class="p">,</span>
<span class="n">v1</span> <span class="n">BITMAP</span> <span class="n">BITMAP_UNION</span><span class="p">,</span>
<span class="n">v2</span> <span class="n">BITMAP</span> <span class="n">BITMAP_UNION</span>
<span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="n">olap</span>
<span class="n">AGGREGATE</span> <span class="n">KEY</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span>
<span class="n">DISTRIBUTED</span> <span class="n">BY</span> <span class="n">HASH</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span> <span class="n">BUCKETS</span> <span class="mi">32</span><span class="p">;</span>
</pre></div>
</div>
</li>
<li><p class="first">Create 2 colocate join table.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>CREATE TABLE `t1` (
`id` int(11) COMMENT &quot;&quot;,
`value` varchar(8) COMMENT &quot;&quot;
) ENGINE=OLAP
DUPLICATE KEY(`id`)
DISTRIBUTED BY HASH(`id`) BUCKETS 10
PROPERTIES (
&quot;colocate_with&quot; = &quot;group1&quot;
);
CREATE TABLE `t2` (
`id` int(11) COMMENT &quot;&quot;,
`value` varchar(8) COMMENT &quot;&quot;
) ENGINE=OLAP
DUPLICATE KEY(`id`)
DISTRIBUTED BY HASH(`id`) BUCKETS 10
PROPERTIES (
&quot;colocate_with&quot; = &quot;group1&quot;
);
</pre></div>
</div>
</li>
<li><p class="first">Create a broker table, with file on BOS.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">EXTERNAL</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">table_broker</span> <span class="p">(</span>
<span class="n">k1</span> <span class="n">DATE</span>
<span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="n">broker</span>
<span class="n">PROPERTIES</span> <span class="p">(</span>
<span class="s2">&quot;broker_name&quot;</span> <span class="o">=</span> <span class="s2">&quot;bos&quot;</span><span class="p">,</span>
<span class="s2">&quot;path&quot;</span> <span class="o">=</span> <span class="s2">&quot;bos://my_bucket/input/file&quot;</span><span class="p">,</span>
<span class="p">)</span>
<span class="n">BROKER</span> <span class="n">PROPERTIES</span> <span class="p">(</span>
  <span class="s2">&quot;bos_endpoint&quot;</span> <span class="o">=</span> <span class="s2">&quot;http://bj.bcebos.com&quot;</span><span class="p">,</span>
  <span class="s2">&quot;bos_accesskey&quot;</span> <span class="o">=</span> <span class="s2">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
  <span class="s2">&quot;bos_secret_accesskey&quot;</span><span class="o">=</span><span class="s2">&quot;yyyyyyyyyyyyyyyyyyyy&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a table with a bitmap index</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">table_hash</span>
<span class="p">(</span>
<span class="n">k1</span> <span class="n">TINYINT</span><span class="p">,</span>
<span class="n">k2</span> <span class="n">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">DEFAULT</span> <span class="s2">&quot;10.5&quot;</span><span class="p">,</span>
<span class="n">v1</span> <span class="n">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="n">REPLACE</span><span class="p">,</span>
<span class="n">v2</span> <span class="n">INT</span> <span class="n">SUM</span><span class="p">,</span>
<span class="n">INDEX</span> <span class="n">k1_idx</span> <span class="p">(</span><span class="n">k1</span><span class="p">)</span> <span class="n">USING</span> <span class="n">BITMAP</span> <span class="n">COMMENT</span> <span class="s1">&#39;xxxxxx&#39;</span>
<span class="p">)</span>
<span class="n">ENGINE</span><span class="o">=</span><span class="n">olap</span>
<span class="n">AGGREGATE</span> <span class="n">KEY</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span>
<span class="n">COMMENT</span> <span class="s2">&quot;my first doris table&quot;</span>
<span class="n">DISTRIBUTED</span> <span class="n">BY</span> <span class="n">HASH</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span> <span class="n">BUCKETS</span> <span class="mi">32</span>
<span class="n">PROPERTIES</span> <span class="p">(</span><span class="s2">&quot;storage_type&quot;</span><span class="o">=</span><span class="s2">&quot;column&quot;</span><span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a dynamic partitioning table (dynamic partitioning needs to be enabled in FE configuration), which creates partitions 3 days in advance every day. For example, if today is’ 2020-01-08 ‘, partitions named ‘p20200108’, ‘p20200109’, ‘p20200110’, ‘p20200111’ will be created.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>[types: [DATE]; keys: [2020-01-08]; ‥types: [DATE]; keys: [2020-01-09]; )
[types: [DATE]; keys: [2020-01-09]; ‥types: [DATE]; keys: [2020-01-10]; )
[types: [DATE]; keys: [2020-01-10]; ‥types: [DATE]; keys: [2020-01-11]; )
[types: [DATE]; keys: [2020-01-11]; ‥types: [DATE]; keys: [2020-01-12]; )
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>   <span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">dynamic_partition</span>
   <span class="p">(</span>
   <span class="n">k1</span> <span class="n">DATE</span><span class="p">,</span>
   <span class="n">k2</span> <span class="n">INT</span><span class="p">,</span>
   <span class="n">k3</span> <span class="n">SMALLINT</span><span class="p">,</span>
   <span class="n">v1</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">2048</span><span class="p">),</span>
   <span class="n">v2</span> <span class="n">DATETIME</span> <span class="n">DEFAULT</span> <span class="s2">&quot;2014-02-04 15:36:00&quot;</span>
   <span class="p">)</span>
   <span class="n">ENGINE</span><span class="o">=</span><span class="n">olap</span>
   <span class="n">DUPLICATE</span> <span class="n">KEY</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">,</span> <span class="n">k3</span><span class="p">)</span>
   <span class="n">PARTITION</span> <span class="n">BY</span> <span class="n">RANGE</span> <span class="p">(</span><span class="n">k1</span><span class="p">)</span>
   <span class="p">(</span>
   <span class="n">PARTITION</span> <span class="n">p1</span> <span class="n">VALUES</span> <span class="n">LESS</span> <span class="n">THAN</span> <span class="p">(</span><span class="s2">&quot;2014-01-01&quot;</span><span class="p">),</span>
   <span class="n">PARTITION</span> <span class="n">p2</span> <span class="n">VALUES</span> <span class="n">LESS</span> <span class="n">THAN</span> <span class="p">(</span><span class="s2">&quot;2014-06-01&quot;</span><span class="p">),</span>
   <span class="n">PARTITION</span> <span class="n">p3</span> <span class="n">VALUES</span> <span class="n">LESS</span> <span class="n">THAN</span> <span class="p">(</span><span class="s2">&quot;2014-12-01&quot;</span><span class="p">)</span>
   <span class="p">)</span>
   <span class="n">DISTRIBUTED</span> <span class="n">BY</span> <span class="n">HASH</span><span class="p">(</span><span class="n">k2</span><span class="p">)</span> <span class="n">BUCKETS</span> <span class="mi">32</span>
   <span class="n">PROPERTIES</span><span class="p">(</span>
   <span class="s2">&quot;storage_medium&quot;</span> <span class="o">=</span> <span class="s2">&quot;SSD&quot;</span><span class="p">,</span>
   <span class="s2">&quot;dynamic_partition.time_unit&quot;</span> <span class="o">=</span> <span class="s2">&quot;DAY&quot;</span><span class="p">,</span>
   <span class="s2">&quot;dynamic_partition.end&quot;</span> <span class="o">=</span> <span class="s2">&quot;3&quot;</span><span class="p">,</span>
   <span class="s2">&quot;dynamic_partition.prefix&quot;</span> <span class="o">=</span> <span class="s2">&quot;p&quot;</span><span class="p">,</span>
   <span class="s2">&quot;dynamic_partition.buckets&quot;</span> <span class="o">=</span> <span class="s2">&quot;32&quot;</span>
    <span class="p">);</span>
</pre></div>
</div>
</li>
<li><p class="first">Create a table with rollup index</p>
</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">rolup_index_table</span>
    <span class="p">(</span>
        <span class="n">event_day</span> <span class="n">DATE</span><span class="p">,</span>
        <span class="n">siteid</span> <span class="n">INT</span> <span class="n">DEFAULT</span> <span class="s1">&#39;10&#39;</span><span class="p">,</span>
        <span class="n">citycode</span> <span class="n">SMALLINT</span><span class="p">,</span>
        <span class="n">username</span> <span class="n">VARCHAR</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span> <span class="n">DEFAULT</span> <span class="s1">&#39;&#39;</span><span class="p">,</span>
        <span class="n">pv</span> <span class="n">BIGINT</span> <span class="n">SUM</span> <span class="n">DEFAULT</span> <span class="s1">&#39;0&#39;</span>
    <span class="p">)</span>
    <span class="n">AGGREGATE</span> <span class="n">KEY</span><span class="p">(</span><span class="n">event_day</span><span class="p">,</span> <span class="n">siteid</span><span class="p">,</span> <span class="n">citycode</span><span class="p">,</span> <span class="n">username</span><span class="p">)</span>
    <span class="n">DISTRIBUTED</span> <span class="n">BY</span> <span class="n">HASH</span><span class="p">(</span><span class="n">siteid</span><span class="p">)</span> <span class="n">BUCKETS</span> <span class="mi">10</span>
    <span class="n">rollup</span> <span class="p">(</span>
    <span class="n">r1</span><span class="p">(</span><span class="n">event_day</span><span class="p">,</span><span class="n">siteid</span><span class="p">),</span>
    <span class="n">r2</span><span class="p">(</span><span class="n">event_day</span><span class="p">,</span><span class="n">citycode</span><span class="p">),</span>
    <span class="n">r3</span><span class="p">(</span><span class="n">event_day</span><span class="p">)</span>
    <span class="p">)</span>
    <span class="n">PROPERTIES</span><span class="p">(</span><span class="s2">&quot;replication_num&quot;</span> <span class="o">=</span> <span class="s2">&quot;3&quot;</span><span class="p">);</span>
</pre></div>
</div>
<ol class="simple">
<li>Create a inmemory table:</li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>    <span class="n">CREATE</span> <span class="n">TABLE</span> <span class="n">example_db</span><span class="o">.</span><span class="n">table_hash</span>
    <span class="p">(</span>
    <span class="n">k1</span> <span class="n">TINYINT</span><span class="p">,</span>
    <span class="n">k2</span> <span class="n">DECIMAL</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="n">DEFAULT</span> <span class="s2">&quot;10.5&quot;</span><span class="p">,</span>
    <span class="n">v1</span> <span class="n">CHAR</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="n">REPLACE</span><span class="p">,</span>
    <span class="n">v2</span> <span class="n">INT</span> <span class="n">SUM</span><span class="p">,</span>
    <span class="n">INDEX</span> <span class="n">k1_idx</span> <span class="p">(</span><span class="n">k1</span><span class="p">)</span> <span class="n">USING</span> <span class="n">BITMAP</span> <span class="n">COMMENT</span> <span class="s1">&#39;xxxxxx&#39;</span>
    <span class="p">)</span>
    <span class="n">ENGINE</span><span class="o">=</span><span class="n">olap</span>
    <span class="n">AGGREGATE</span> <span class="n">KEY</span><span class="p">(</span><span class="n">k1</span><span class="p">,</span> <span class="n">k2</span><span class="p">)</span>
    <span class="n">COMMENT</span> <span class="s2">&quot;my first doris table&quot;</span>
    <span class="n">DISTRIBUTED</span> <span class="n">BY</span> <span class="n">HASH</span><span class="p">(</span><span class="n">k1</span><span class="p">)</span> <span class="n">BUCKETS</span> <span class="mi">32</span>
    <span class="n">PROPERTIES</span> <span class="p">(</span><span class="s2">&quot;in_memory&quot;</span><span class="o">=</span><span class="s2">&quot;true&quot;</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="keyword">
<h2>keyword<a class="headerlink" href="#keyword" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">CREATE</span><span class="p">,</span><span class="n">TABLE</span>
</pre></div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="CREATE VIEW_EN.html" class="btn btn-neutral float-right" title="CREATE VIEW" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="CREATE REPOSITORY_EN.html" class="btn btn-neutral float-left" title="CREATE REPOSITORY" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Apache Doris(Incubating)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
<div role="contentinfo">
    <p></p>
    <p>

        Apache Doris(incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.

    </p>
</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>