

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Broker &mdash; Doris Documentations 0.11.0 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../../_static/language_data.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="Colocation Join" href="colocation-join_EN.html" />
    <link rel="prev" title="Backup and Recovery" href="backup-restore_EN.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Doris Documentations
          

          
          </a>

          
            
            
              <div class="version">
                0.11.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../cn/index.html">中文</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">English</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../installing/index.html">Compilation and deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../getting-started/index.html">Getting started</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Administrator Guide</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="load-data/index.html">Load Data</a></li>
<li class="toctree-l3"><a class="reference internal" href="alter-table/index.html">Schema Change</a></li>
<li class="toctree-l3"><a class="reference internal" href="http-actions/index.html">HTTP API</a></li>
<li class="toctree-l3"><a class="reference internal" href="operation/index.html">Maintainence Operation</a></li>
<li class="toctree-l3"><a class="reference internal" href="config/index.html">Configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="backup-restore_EN.html">Backup and Recovery</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Broker</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#supported-storage-system">Supported Storage System</a></li>
<li class="toctree-l4"><a class="reference internal" href="#function-provided-by-broker">Function provided by Broker</a></li>
<li class="toctree-l4"><a class="reference internal" href="#broker-information">Broker Information</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="colocation-join_EN.html">Colocation Join</a></li>
<li class="toctree-l3"><a class="reference internal" href="dynamic-partition_EN.html">Dynamic Partition</a></li>
<li class="toctree-l3"><a class="reference internal" href="export_manual_EN.html">Data export</a></li>
<li class="toctree-l3"><a class="reference internal" href="privilege_EN.html">Authority Management</a></li>
<li class="toctree-l3"><a class="reference internal" href="small-file-mgr_EN.html">File Manager</a></li>
<li class="toctree-l3"><a class="reference internal" href="sql-mode_EN.html">SQL MODE</a></li>
<li class="toctree-l3"><a class="reference internal" href="time-zone_EN.html">Time zone</a></li>
<li class="toctree-l3"><a class="reference internal" href="variables_EN.html">Variable</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../extending-doris/index.html">Extending Ability</a></li>
<li class="toctree-l2"><a class="reference internal" href="../internal/index.html">Design Documents</a></li>
<li class="toctree-l2"><a class="reference internal" href="../sql-reference/index.html">SQL Manual</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developer-guide/index.html">Developer Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../community/index.html">Apache Commnity</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Doris Documentations</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">English</a> &raquo;</li>
        
          <li><a href="index.html">Administrator Guide</a> &raquo;</li>
        
      <li>Broker</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/apache/incubator-doris/blob/master/docs/documentation/en/administrator-guide/broker_EN.md" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <!-- 
Licensed to the Apache Software Foundation (ASF) under one
or more contributor license agreements.  See the NOTICE file
distributed with this work for additional information
regarding copyright ownership.  The ASF licenses this file
to you under the Apache License, Version 2.0 (the
"License"); you may not use this file except in compliance
with the License.  You may obtain a copy of the License at

  http://www.apache.org/licenses/LICENSE-2.0

Unless required by applicable law or agreed to in writing,
software distributed under the License is distributed on an
"AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, either express or implied.  See the License for the
specific language governing permissions and limitations
under the License.
--><div class="section" id="broker">
<h1>Broker<a class="headerlink" href="#broker" title="Permalink to this headline">¶</a></h1>
<p>Broker is an optional process in the Doris cluster. It is mainly used to support Doris to read and write files or directories on remote storage, such as HDFS, BOS, and AFS.</p>
<p>Broker provides services through an RPC service port. It is a stateless JVM process that is responsible for encapsulating some POSIX-like file operations for read and write operations on remote storage, such as open, pred, pwrite, and so on.
In addition, the Broker does not record any other information, so the connection information, file information, permission information, and so on stored remotely need to be passed to the Broker process in the RPC call through parameters in order for the Broker to read and write files correctly .</p>
<p>Broker only acts as a data channel and does not participate in any calculations, so it takes up less memory. Usually one or more Broker processes are deployed in a Doris system. And the same type of Broker will form a group and set a ** Broker name **.</p>
<p>Broker’s position in the Doris system architecture is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">+----+</span>   <span class="o">+----+</span>
<span class="o">|</span> <span class="n">FE</span> <span class="o">|</span>   <span class="o">|</span> <span class="n">BE</span> <span class="o">|</span>
<span class="o">+-^--+</span>   <span class="o">+--^-+</span>
  <span class="o">|</span>         <span class="o">|</span>
  <span class="o">|</span>         <span class="o">|</span>
<span class="o">+-</span><span class="n">v</span><span class="o">---------</span><span class="n">v</span><span class="o">-+</span>
<span class="o">|</span>   <span class="n">Broker</span>    <span class="o">|</span>
<span class="o">+------^------+</span>
       <span class="o">|</span>
       <span class="o">|</span>
<span class="o">+------</span><span class="n">v</span><span class="o">------+</span>
<span class="o">|</span><span class="n">HDFS</span><span class="o">/</span><span class="n">BOS</span><span class="o">/</span><span class="n">AFS</span> <span class="o">|</span>
<span class="o">+-------------+</span>
</pre></div>
</div>
<p>This document mainly introduces the parameters that Broker needs when accessing different remote storages, such as connection information,
authorization information, and so on.</p>
<div class="section" id="supported-storage-system">
<h2>Supported Storage System<a class="headerlink" href="#supported-storage-system" title="Permalink to this headline">¶</a></h2>
<p>Different types of brokers support different different storage systems。</p>
<ol class="simple">
<li>Community HDFS<ul>
<li>Support simple authentication access</li>
<li>Support kerberos authentication access</li>
<li>Support HDFS HA mode access</li>
</ul>
</li>
<li>Baidu HDFS / AFS (not supported by open source version)<ul>
<li>Support UGI simple authentication access</li>
</ul>
</li>
<li>Baidu Object Storage BOS (not supported by open source version)<ul>
<li>Support AK / SK authentication access</li>
</ul>
</li>
</ol>
</div>
<div class="section" id="function-provided-by-broker">
<h2>Function provided by Broker<a class="headerlink" href="#function-provided-by-broker" title="Permalink to this headline">¶</a></h2>
<ol>
<li><p class="first">Broker Load</p>
<p>The Broker Load function reads the file data on the remote storage through the Broker process and imports it into Doris. Examples are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>LOAD LABEL example_db.label6
(
    DATA INFILE(&quot;bos://my_bucket/input/file&quot;)
    INTO TABLE `my_table`
)
WITH BROKER &quot;broker_name&quot;
(
    &quot;bos_endpoint&quot; = &quot;http://bj.bcebos.com&quot;,
    &quot;bos_accesskey&quot; = &quot;xxxxxxxxxxxxxxxxxxxxxxxxxx&quot;,
    &quot;bos_secret_accesskey&quot; = &quot;yyyyyyyyyyyyyyyyyyyy&quot;
)
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">BROKER</span></code> and following Property Map are used to provide Broker’s related information.</p>
</li>
<li><p class="first">Export</p>
<p>The Export function export the data stored in Doris to a file stored in remote storage in text format through Broker process. Examples are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">EXPORT</span> <span class="n">TABLE</span> <span class="n">testTbl</span> 
<span class="n">TO</span> <span class="s2">&quot;hdfs://hdfs_host:port/a/b/c&quot;</span> 
<span class="n">WITH</span> <span class="n">BROKER</span> <span class="s2">&quot;broker_name&quot;</span> 
<span class="p">(</span>
    <span class="s2">&quot;username&quot;</span> <span class="o">=</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span> <span class="o">=</span> <span class="s2">&quot;yyy&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">BROKER</span></code> and following Property Map are used to provide Broker’s related information.</p>
</li>
<li><p class="first">Create Repository</p>
<p>When users need to use the backup and restore function, they need to first create a “repository” with the <code class="docutils literal notranslate"><span class="pre">CREATE</span> <span class="pre">REPOSITORY</span></code> command,and the broker metadata and related information are recorded in the warehouse metadata.
Subsequent backup and restore operations will use Broker to back up data to this warehouse, or read data from this warehouse to restore to Doris. Examples are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>CREATE REPOSITORY `bos_repo`
WITH BROKER `broker_name`
ON LOCATION &quot;bos://doris_backup&quot;
PROPERTIES
(
    &quot;bos_endpoint&quot; = &quot;http://gz.bcebos.com&quot;,
    &quot;bos_accesskey&quot; = &quot;069fc2786e664e63a5f111111114ddbs22&quot;,
    &quot;bos_secret_accesskey&quot; = &quot;70999999999999de274d59eaa980a&quot;
);
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">BROKER</span></code> and following Property Map are used to provide Broker’s related information.</p>
</li>
</ol>
</div>
<div class="section" id="broker-information">
<h2>Broker Information<a class="headerlink" href="#broker-information" title="Permalink to this headline">¶</a></h2>
<p>Broker information includes two parts: ** Broker name ** and ** Certification information **. The general syntax is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WITH</span> <span class="n">BROKER</span> <span class="s2">&quot;broker_name&quot;</span> 
<span class="p">(</span>
    <span class="s2">&quot;username&quot;</span> <span class="o">=</span> <span class="s2">&quot;xxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span> <span class="o">=</span> <span class="s2">&quot;yyy&quot;</span><span class="p">,</span>
    <span class="s2">&quot;other_prop&quot;</span> <span class="o">=</span> <span class="s2">&quot;prop_value&quot;</span><span class="p">,</span>
    <span class="o">...</span>
<span class="p">);</span>
</pre></div>
</div>
<div class="section" id="broker-name">
<h3>Broker Name<a class="headerlink" href="#broker-name" title="Permalink to this headline">¶</a></h3>
<p>Usually the user needs to specify an existing Broker Name through the <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">BROKER&quot;</span> <span class="pre">broker_name</span> <span class="pre">&quot;</span></code> clause in the operation command.
Broker Name is a name that the user specifies when adding a Broker process through the ALTER SYSTEM ADD BROKER command.
A name usually corresponds to one or more broker processes. Doris selects available broker processes based on the name.
You can use the <code class="docutils literal notranslate"><span class="pre">SHOW</span> <span class="pre">BROKER</span></code> command to view the Brokers that currently exist in the cluster.</p>
<p><strong>Note: Broker Name is just a user-defined name and does not represent the type of Broker.</strong></p>
</div>
<div class="section" id="certification-information">
<h3>Certification Information<a class="headerlink" href="#certification-information" title="Permalink to this headline">¶</a></h3>
<p>Different broker types and different access methods need to provide different authentication information.
Authentication information is usually provided as a Key-Value in the Property Map after <code class="docutils literal notranslate"><span class="pre">WITH</span> <span class="pre">BROKER&quot;</span> <span class="pre">broker_name</span> <span class="pre">&quot;</span></code>.</p>
<div class="section" id="community-hdfs">
<h4>Community HDFS<a class="headerlink" href="#community-hdfs" title="Permalink to this headline">¶</a></h4>
<ol>
<li><p class="first">Simple Authentication</p>
<p>Simple authentication means that Hadoop configures <code class="docutils literal notranslate"><span class="pre">hadoop.security.authentication</span></code> to<code class="docutils literal notranslate"> <span class="pre">simple</span></code>.</p>
<p>Use system users to access HDFS. Or add in the environment variable started by Broker：<code class="docutils literal notranslate"><span class="pre">HADOOP_USER_NAME</span></code>。</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="s2">&quot;username&quot;</span> <span class="o">=</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
<p>Just leave the password blank.</p>
</li>
<li><p class="first">Kerberos Authentication</p>
<p>The authentication method needs to provide the following information:：</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">hadoop.security.authentication</span></code>: Specify the authentication method as kerberos.</li>
<li><code class="docutils literal notranslate"><span class="pre">kerberos_principal</span></code>： Specify the principal of kerberos.</li>
<li><code class="docutils literal notranslate"><span class="pre">kerberos_keytab</span></code>: Specify the path to the keytab file for kerberos. The file must be an absolute path to a file on the server where the broker process is located. And can be accessed by the Broker process.径。</li>
<li><code class="docutils literal notranslate"><span class="pre">kerberos_keytab_content</span></code>: Specify the content of the keytab file in kerberos after base64 encoding. You can choose one of these with <code class="docutils literal notranslate"><span class="pre">kerberos_keytab</span></code> configuration.</li>
</ul>
<p>Examples are as follows：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="s2">&quot;hadoop.security.authentication&quot;</span> <span class="o">=</span> <span class="s2">&quot;kerberos&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kerberos_principal&quot;</span> <span class="o">=</span> <span class="s2">&quot;doris@YOUR.COM&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kerberos_keytab&quot;</span> <span class="o">=</span> <span class="s2">&quot;/home/doris/my.keytab&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="s2">&quot;hadoop.security.authentication&quot;</span> <span class="o">=</span> <span class="s2">&quot;kerberos&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kerberos_principal&quot;</span> <span class="o">=</span> <span class="s2">&quot;doris@YOUR.COM&quot;</span><span class="p">,</span>
    <span class="s2">&quot;kerberos_keytab_content&quot;</span> <span class="o">=</span> <span class="s2">&quot;ASDOWHDLAWIDJHWLDKSALDJSDIWALD&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>If Kerberos authentication is used, the <a class="reference external" href="https://web.mit.edu/kerberos/krb5-1.12/doc/admin/conf_files/krb5_conf.html">krb5.conf</a> file is required when deploying the Broker process.
The krb5.conf file contains Kerberos configuration information，Normally, you should install your krb5.conf file in the directory /etc. You can override the default location by setting the environment variable KRB5_CONFIG.
An example of the contents of the krb5.conf file is as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">[</span><span class="n">libdefaults</span><span class="p">]</span>
    <span class="n">default_realm</span> <span class="o">=</span> <span class="n">DORIS</span><span class="o">.</span><span class="n">HADOOP</span>
    <span class="n">default_tkt_enctypes</span> <span class="o">=</span> <span class="n">des3</span><span class="o">-</span><span class="n">hmac</span><span class="o">-</span><span class="n">sha1</span> <span class="n">des</span><span class="o">-</span><span class="n">cbc</span><span class="o">-</span><span class="n">crc</span>
    <span class="n">default_tgs_enctypes</span> <span class="o">=</span> <span class="n">des3</span><span class="o">-</span><span class="n">hmac</span><span class="o">-</span><span class="n">sha1</span> <span class="n">des</span><span class="o">-</span><span class="n">cbc</span><span class="o">-</span><span class="n">crc</span>
    <span class="n">dns_lookup_kdc</span> <span class="o">=</span> <span class="n">true</span>
    <span class="n">dns_lookup_realm</span> <span class="o">=</span> <span class="n">false</span>

<span class="p">[</span><span class="n">realms</span><span class="p">]</span>
    <span class="n">DORIS</span><span class="o">.</span><span class="n">HADOOP</span> <span class="o">=</span> <span class="p">{</span>
        <span class="n">kdc</span> <span class="o">=</span> <span class="n">kerberos</span><span class="o">-</span><span class="n">doris</span><span class="o">.</span><span class="n">hadoop</span><span class="o">.</span><span class="n">service</span><span class="p">:</span><span class="mi">7005</span>
    <span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">HDFS HA Mode</p>
<p>This configuration is used to access HDFS clusters deployed in HA mode.</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">dfs.nameservices</span></code>: Specify the name of the hdfs service, custom, such as “dfs.nameservices” = “my_ha”.</li>
<li><code class="docutils literal notranslate"><span class="pre">dfs.ha.namenodes.xxx</span></code>:  Custom namenode names. Multiple names are separated by commas, where xxx is the custom name in <code class="docutils literal notranslate"><span class="pre">dfs.nameservices</span></code>, such as” dfs.ha.namenodes.my_ha “=” my_nn “.</li>
<li><code class="docutils literal notranslate"><span class="pre">dfs.namenode.rpc-address.xxx.nn</span></code>: Specify the rpc address information of namenode, Where nn represents the name of the namenode configured in <code class="docutils literal notranslate"><span class="pre">dfs.ha.namenodes.xxx</span></code>, such as: “dfs.namenode.rpc-address.my_ha.my_nn” = “host:port”.</li>
<li><code class="docutils literal notranslate"><span class="pre">dfs.client.failover.proxy.provider</span></code>: Specify the provider for the client to connect to the namenode. The default is: org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider.</li>
</ul>
<p>Examples are as follows：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="s2">&quot;dfs.nameservices&quot;</span> <span class="o">=</span> <span class="s2">&quot;my_ha&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dfs.ha.namenodes.my_ha&quot;</span> <span class="o">=</span> <span class="s2">&quot;my_namenode1, my_namenode2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dfs.namenode.rpc-address.my_ha.my_namenode1&quot;</span> <span class="o">=</span> <span class="s2">&quot;nn1_host:rpc_port&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dfs.namenode.rpc-address.my_ha.my_namenode2&quot;</span> <span class="o">=</span> <span class="s2">&quot;nn2_host:rpc_port&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dfs.client.failover.proxy.provider&quot;</span> <span class="o">=</span> <span class="s2">&quot;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The HA mode can be combined with the previous two authentication methods for cluster access. If you access HA HDFS with simple authentication:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="s2">&quot;username&quot;</span><span class="o">=</span><span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span><span class="o">=</span><span class="s2">&quot;passwd&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dfs.nameservices&quot;</span> <span class="o">=</span> <span class="s2">&quot;my_ha&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dfs.ha.namenodes.my_ha&quot;</span> <span class="o">=</span> <span class="s2">&quot;my_namenode1, my_namenode2&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dfs.namenode.rpc-address.my_ha.my_namenode1&quot;</span> <span class="o">=</span> <span class="s2">&quot;nn1_host:rpc_port&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dfs.namenode.rpc-address.my_ha.my_namenode2&quot;</span> <span class="o">=</span> <span class="s2">&quot;nn2_host:rpc_port&quot;</span><span class="p">,</span>
    <span class="s2">&quot;dfs.client.failover.proxy.provider&quot;</span> <span class="o">=</span> <span class="s2">&quot;org.apache.hadoop.hdfs.server.namenode.ha.ConfiguredFailoverProxyProvider&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
<p>The configuration for accessing the HDFS cluster can be written to the hdfs-site.xml file. When users use the Broker process to read data from the HDFS cluster, they only need to fill in the cluster file path and authentication information.</p>
</li>
</ol>
</div>
<div class="section" id="baidu-object-storage-bos">
<h4>Baidu Object Storage BOS<a class="headerlink" href="#baidu-object-storage-bos" title="Permalink to this headline">¶</a></h4>
<p><strong>(Open source version is not supported)</strong></p>
<ol>
<li><p class="first">Access via AK / SK</p>
<ul class="simple">
<li>AK/SK: Access Key and Secret Key. You can check the user’s AK / SK in Baidu Cloud Security Certification Center.</li>
<li>Region Endpoint: Endpoint of the BOS region:<ul>
<li>North China-Beijing: http://bj.bcebos.com</li>
<li>North China-Baoding: http://bd.bcebos.com</li>
<li>South China-Guangzhou: http://gz.bcebos.com</li>
<li>East China-Suzhou: http://sz.bcebos.com</li>
</ul>
</li>
</ul>
<p>Examples are as follows：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="s2">&quot;bos_endpoint&quot;</span> <span class="o">=</span> <span class="s2">&quot;http://bj.bcebos.com&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bos_accesskey&quot;</span> <span class="o">=</span> <span class="s2">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="p">,</span>
    <span class="s2">&quot;bos_secret_accesskey&quot;</span> <span class="o">=</span> <span class="s2">&quot;yyyyyyyyyyyyyyyyyyyyyyyyyy&quot;</span>
<span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="baidu-hdfs-afs">
<h4>Baidu HDFS/AFS<a class="headerlink" href="#baidu-hdfs-afs" title="Permalink to this headline">¶</a></h4>
<p><strong>（Open source version is not supported）</strong></p>
<p>Baidu AFS and HDFS only support simple authentication access using UGI. Examples are as follows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="p">(</span>
    <span class="s2">&quot;username&quot;</span> <span class="o">=</span> <span class="s2">&quot;user&quot;</span><span class="p">,</span>
    <span class="s2">&quot;password&quot;</span> <span class="o">=</span> <span class="s2">&quot;passwd&quot;</span>
<span class="p">);</span>
</pre></div>
</div>
<p>User and passwd are UGI configurations for Hadoop.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="colocation-join_EN.html" class="btn btn-neutral float-right" title="Colocation Join" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="backup-restore_EN.html" class="btn btn-neutral float-left" title="Backup and Recovery" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Apache Doris(Incubating)

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
<div role="contentinfo">
    <p></p>
    <p>

        Apache Doris(incubating) is an effort undergoing incubation at The Apache Software Foundation (ASF), sponsored by the Apache Incubator. Incubation is required of all newly accepted projects until a further review indicates that the infrastructure, communications, and decision making process have stabilized in a manner consistent with other successful ASF projects. While incubation status is not necessarily a reflection of the completeness or stability of the code, it does indicate that the project has yet to be fully endorsed by the ASF.

    </p>
</div>


</footer>

        </div>
      </div>

    </section>

  </div>
  


  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>